{"expireTime":9007200908525413000,"key":"transformer-remark-markdown-html-ast-550709e2be55bc9a95bb5ea10fad6f19--","val":{"type":"root","children":[{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Modules: CommonJS modules","position":{"start":{"line":3,"column":4,"offset":5},"end":{"line":3,"column":29,"offset":30}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_modules_commonjs_modules"},"children":[{"type":"text","value":"#","position":{"start":{"line":3,"column":30,"offset":31},"end":{"line":3,"column":31,"offset":32}}}],"position":{"start":{"line":3,"column":29,"offset":30},"end":{"line":3,"column":102,"offset":103}}}],"position":{"start":{"line":3,"column":1,"offset":2},"end":{"line":3,"column":102,"offset":103}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/documentation.html#documentation_stability_index"},"children":[{"type":"text","value":"Stability: 2","position":{"start":{"line":5,"column":2,"offset":106},"end":{"line":5,"column":14,"offset":118}}}],"position":{"start":{"line":5,"column":1,"offset":105},"end":{"line":5,"column":88,"offset":192}}},{"type":"text","value":" - Stable","position":{"start":{"line":5,"column":88,"offset":192},"end":{"line":5,"column":97,"offset":201}}}],"position":{"start":{"line":5,"column":1,"offset":105},"end":{"line":5,"column":97,"offset":201}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In the Node.js module system, each file is treated as a separate module. For example, consider a file named ","position":{"start":{"line":7,"column":1,"offset":203},"end":{"line":7,"column":109,"offset":311}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"foo.js"}],"position":{"start":{"line":7,"column":109,"offset":311},"end":{"line":7,"column":117,"offset":319}}},{"type":"text","value":":","position":{"start":{"line":7,"column":117,"offset":319},"end":{"line":7,"column":118,"offset":320}}}],"position":{"start":{"line":7,"column":1,"offset":203},"end":{"line":7,"column":118,"offset":320}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const circle = require('./circle.js');\nconsole.log(`The area of a circle of radius 4 is ${circle.area(4)}`);\n"}],"position":{"start":{"line":9,"column":1,"offset":322},"end":{"line":12,"column":4,"offset":438}}}],"position":{"start":{"line":9,"column":1,"offset":322},"end":{"line":12,"column":4,"offset":438}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"On the first line, ","position":{"start":{"line":14,"column":1,"offset":440},"end":{"line":14,"column":20,"offset":459}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"foo.js"}],"position":{"start":{"line":14,"column":20,"offset":459},"end":{"line":14,"column":28,"offset":467}}},{"type":"text","value":" loads the module ","position":{"start":{"line":14,"column":28,"offset":467},"end":{"line":14,"column":46,"offset":485}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"circle.js"}],"position":{"start":{"line":14,"column":46,"offset":485},"end":{"line":14,"column":57,"offset":496}}},{"type":"text","value":" that is in the same directory as ","position":{"start":{"line":14,"column":57,"offset":496},"end":{"line":14,"column":91,"offset":530}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"foo.js"}],"position":{"start":{"line":14,"column":91,"offset":530},"end":{"line":14,"column":99,"offset":538}}},{"type":"text","value":".","position":{"start":{"line":14,"column":99,"offset":538},"end":{"line":14,"column":100,"offset":539}}}],"position":{"start":{"line":14,"column":1,"offset":440},"end":{"line":14,"column":100,"offset":539}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Here are the contents of ","position":{"start":{"line":16,"column":1,"offset":541},"end":{"line":16,"column":26,"offset":566}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"circle.js"}],"position":{"start":{"line":16,"column":26,"offset":566},"end":{"line":16,"column":37,"offset":577}}},{"type":"text","value":":","position":{"start":{"line":16,"column":37,"offset":577},"end":{"line":16,"column":38,"offset":578}}}],"position":{"start":{"line":16,"column":1,"offset":541},"end":{"line":16,"column":38,"offset":578}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const { PI } = Math;\n\nexports.area = (r) => PI * r ** 2;\n\nexports.circumference = (r) => 2 * PI * r;\n"}],"position":{"start":{"line":18,"column":1,"offset":580},"end":{"line":24,"column":4,"offset":688}}}],"position":{"start":{"line":18,"column":1,"offset":580},"end":{"line":24,"column":4,"offset":688}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The module ","position":{"start":{"line":26,"column":1,"offset":690},"end":{"line":26,"column":12,"offset":701}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"circle.js"}],"position":{"start":{"line":26,"column":12,"offset":701},"end":{"line":26,"column":23,"offset":712}}},{"type":"text","value":" has exported the functions ","position":{"start":{"line":26,"column":23,"offset":712},"end":{"line":26,"column":51,"offset":740}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"area()"}],"position":{"start":{"line":26,"column":51,"offset":740},"end":{"line":26,"column":59,"offset":748}}},{"type":"text","value":" and ","position":{"start":{"line":26,"column":59,"offset":748},"end":{"line":26,"column":64,"offset":753}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"circumference()"}],"position":{"start":{"line":26,"column":64,"offset":753},"end":{"line":26,"column":81,"offset":770}}},{"type":"text","value":". Functions and objects are added to the root of a module by specifying additional properties on the special ","position":{"start":{"line":26,"column":81,"offset":770},"end":{"line":26,"column":190,"offset":879}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":26,"column":190,"offset":879},"end":{"line":26,"column":199,"offset":888}}},{"type":"text","value":" object.","position":{"start":{"line":26,"column":199,"offset":888},"end":{"line":26,"column":207,"offset":896}}}],"position":{"start":{"line":26,"column":1,"offset":690},"end":{"line":26,"column":207,"offset":896}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Variables local to the module will be private, because the module is wrapped in a function by Node.js (see ","position":{"start":{"line":28,"column":1,"offset":898},"end":{"line":28,"column":108,"offset":1005}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_the_module_wrapper"},"children":[{"type":"text","value":"module wrapper","position":{"start":{"line":28,"column":109,"offset":1006},"end":{"line":28,"column":123,"offset":1020}}}],"position":{"start":{"line":28,"column":108,"offset":1005},"end":{"line":28,"column":188,"offset":1085}}},{"type":"text","value":"). In this example, the variable ","position":{"start":{"line":28,"column":188,"offset":1085},"end":{"line":28,"column":221,"offset":1118}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"PI"}],"position":{"start":{"line":28,"column":221,"offset":1118},"end":{"line":28,"column":225,"offset":1122}}},{"type":"text","value":" is private to ","position":{"start":{"line":28,"column":225,"offset":1122},"end":{"line":28,"column":240,"offset":1137}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"circle.js"}],"position":{"start":{"line":28,"column":240,"offset":1137},"end":{"line":28,"column":251,"offset":1148}}},{"type":"text","value":".","position":{"start":{"line":28,"column":251,"offset":1148},"end":{"line":28,"column":252,"offset":1149}}}],"position":{"start":{"line":28,"column":1,"offset":898},"end":{"line":28,"column":252,"offset":1149}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":30,"column":1,"offset":1151},"end":{"line":30,"column":5,"offset":1155}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":30,"column":5,"offset":1155},"end":{"line":30,"column":21,"offset":1171}}},{"type":"text","value":" property can be assigned a new value (such as a function or object).","position":{"start":{"line":30,"column":21,"offset":1171},"end":{"line":30,"column":90,"offset":1240}}}],"position":{"start":{"line":30,"column":1,"offset":1151},"end":{"line":30,"column":90,"offset":1240}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Below, ","position":{"start":{"line":32,"column":1,"offset":1242},"end":{"line":32,"column":8,"offset":1249}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"bar.js"}],"position":{"start":{"line":32,"column":8,"offset":1249},"end":{"line":32,"column":16,"offset":1257}}},{"type":"text","value":" makes use of the ","position":{"start":{"line":32,"column":16,"offset":1257},"end":{"line":32,"column":34,"offset":1275}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"square"}],"position":{"start":{"line":32,"column":34,"offset":1275},"end":{"line":32,"column":42,"offset":1283}}},{"type":"text","value":" module, which exports a Square class:","position":{"start":{"line":32,"column":42,"offset":1283},"end":{"line":32,"column":80,"offset":1321}}}],"position":{"start":{"line":32,"column":1,"offset":1242},"end":{"line":32,"column":80,"offset":1321}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const Square = require('./square.js');\nconst mySquare = new Square(2);\nconsole.log(`The area of mySquare is ${mySquare.area()}`);\n"}],"position":{"start":{"line":34,"column":1,"offset":1323},"end":{"line":38,"column":4,"offset":1460}}}],"position":{"start":{"line":34,"column":1,"offset":1323},"end":{"line":38,"column":4,"offset":1460}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":40,"column":1,"offset":1462},"end":{"line":40,"column":5,"offset":1466}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"square"}],"position":{"start":{"line":40,"column":5,"offset":1466},"end":{"line":40,"column":13,"offset":1474}}},{"type":"text","value":" module is defined in ","position":{"start":{"line":40,"column":13,"offset":1474},"end":{"line":40,"column":35,"offset":1496}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"square.js"}],"position":{"start":{"line":40,"column":35,"offset":1496},"end":{"line":40,"column":46,"offset":1507}}},{"type":"text","value":":","position":{"start":{"line":40,"column":46,"offset":1507},"end":{"line":40,"column":47,"offset":1508}}}],"position":{"start":{"line":40,"column":1,"offset":1462},"end":{"line":40,"column":47,"offset":1508}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"// Assigning to exports will not modify module, must use module.exports\nmodule.exports = class Square {\n  constructor(width) {\n    this.width = width;\n  }\n\n  area() {\n    return this.width ** 2;\n  }\n};\n"}],"position":{"start":{"line":42,"column":1,"offset":1510},"end":{"line":53,"column":4,"offset":1719}}}],"position":{"start":{"line":42,"column":1,"offset":1510},"end":{"line":53,"column":4,"offset":1719}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The module system is implemented in the ","position":{"start":{"line":55,"column":1,"offset":1721},"end":{"line":55,"column":41,"offset":1761}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('module')"}],"position":{"start":{"line":55,"column":41,"offset":1761},"end":{"line":55,"column":60,"offset":1780}}},{"type":"text","value":" module.","position":{"start":{"line":55,"column":60,"offset":1780},"end":{"line":55,"column":68,"offset":1788}}}],"position":{"start":{"line":55,"column":1,"offset":1721},"end":{"line":55,"column":68,"offset":1788}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Accessing the main module","position":{"start":{"line":57,"column":5,"offset":1794},"end":{"line":57,"column":30,"offset":1819}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_accessing_the_main_module"},"children":[{"type":"text","value":"#","position":{"start":{"line":57,"column":31,"offset":1820},"end":{"line":57,"column":32,"offset":1821}}}],"position":{"start":{"line":57,"column":30,"offset":1819},"end":{"line":57,"column":104,"offset":1893}}}],"position":{"start":{"line":57,"column":1,"offset":1790},"end":{"line":57,"column":104,"offset":1893}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When a file is run directly from Node.js, ","position":{"start":{"line":59,"column":1,"offset":1895},"end":{"line":59,"column":43,"offset":1937}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.main"}],"position":{"start":{"line":59,"column":43,"offset":1937},"end":{"line":59,"column":57,"offset":1951}}},{"type":"text","value":" is set to its ","position":{"start":{"line":59,"column":57,"offset":1951},"end":{"line":59,"column":72,"offset":1966}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module"}],"position":{"start":{"line":59,"column":72,"offset":1966},"end":{"line":59,"column":80,"offset":1974}}},{"type":"text","value":". That means that it is possible to determine whether a file has been run directly by testing ","position":{"start":{"line":59,"column":80,"offset":1974},"end":{"line":59,"column":174,"offset":2068}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.main === module"}],"position":{"start":{"line":59,"column":174,"offset":2068},"end":{"line":59,"column":199,"offset":2093}}},{"type":"text","value":".","position":{"start":{"line":59,"column":199,"offset":2093},"end":{"line":59,"column":200,"offset":2094}}}],"position":{"start":{"line":59,"column":1,"offset":1895},"end":{"line":59,"column":200,"offset":2094}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"For a file ","position":{"start":{"line":61,"column":1,"offset":2096},"end":{"line":61,"column":12,"offset":2107}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"foo.js"}],"position":{"start":{"line":61,"column":12,"offset":2107},"end":{"line":61,"column":20,"offset":2115}}},{"type":"text","value":", this will be ","position":{"start":{"line":61,"column":20,"offset":2115},"end":{"line":61,"column":35,"offset":2130}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"true"}],"position":{"start":{"line":61,"column":35,"offset":2130},"end":{"line":61,"column":41,"offset":2136}}},{"type":"text","value":" if run via ","position":{"start":{"line":61,"column":41,"offset":2136},"end":{"line":61,"column":53,"offset":2148}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node foo.js"}],"position":{"start":{"line":61,"column":53,"offset":2148},"end":{"line":61,"column":66,"offset":2161}}},{"type":"text","value":", but ","position":{"start":{"line":61,"column":66,"offset":2161},"end":{"line":61,"column":72,"offset":2167}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"false"}],"position":{"start":{"line":61,"column":72,"offset":2167},"end":{"line":61,"column":79,"offset":2174}}},{"type":"text","value":" if run by ","position":{"start":{"line":61,"column":79,"offset":2174},"end":{"line":61,"column":90,"offset":2185}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('./foo')"}],"position":{"start":{"line":61,"column":90,"offset":2185},"end":{"line":61,"column":108,"offset":2203}}},{"type":"text","value":".","position":{"start":{"line":61,"column":108,"offset":2203},"end":{"line":61,"column":109,"offset":2204}}}],"position":{"start":{"line":61,"column":1,"offset":2096},"end":{"line":61,"column":109,"offset":2204}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Because ","position":{"start":{"line":63,"column":1,"offset":2206},"end":{"line":63,"column":9,"offset":2214}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module"}],"position":{"start":{"line":63,"column":9,"offset":2214},"end":{"line":63,"column":17,"offset":2222}}},{"type":"text","value":" provides a ","position":{"start":{"line":63,"column":17,"offset":2222},"end":{"line":63,"column":29,"offset":2234}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"filename"}],"position":{"start":{"line":63,"column":29,"offset":2234},"end":{"line":63,"column":39,"offset":2244}}},{"type":"text","value":" property (normally equivalent to ","position":{"start":{"line":63,"column":39,"offset":2244},"end":{"line":63,"column":73,"offset":2278}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"__filename"}],"position":{"start":{"line":63,"column":73,"offset":2278},"end":{"line":63,"column":85,"offset":2290}}},{"type":"text","value":"), the entry point of the current application can be obtained by checking ","position":{"start":{"line":63,"column":85,"offset":2290},"end":{"line":63,"column":159,"offset":2364}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.main.filename"}],"position":{"start":{"line":63,"column":159,"offset":2364},"end":{"line":63,"column":182,"offset":2387}}},{"type":"text","value":".","position":{"start":{"line":63,"column":182,"offset":2387},"end":{"line":63,"column":183,"offset":2388}}}],"position":{"start":{"line":63,"column":1,"offset":2206},"end":{"line":63,"column":183,"offset":2388}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Package manager tips","position":{"start":{"line":65,"column":5,"offset":2394},"end":{"line":65,"column":25,"offset":2414}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_package_manager_tips"},"children":[{"type":"text","value":"#","position":{"start":{"line":65,"column":26,"offset":2415},"end":{"line":65,"column":27,"offset":2416}}}],"position":{"start":{"line":65,"column":25,"offset":2414},"end":{"line":65,"column":94,"offset":2483}}}],"position":{"start":{"line":65,"column":1,"offset":2390},"end":{"line":65,"column":94,"offset":2483}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The semantics of the Node.js ","position":{"start":{"line":67,"column":1,"offset":2485},"end":{"line":67,"column":30,"offset":2514}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":67,"column":30,"offset":2514},"end":{"line":67,"column":41,"offset":2525}}},{"type":"text","value":" function were designed to be general enough to support reasonable directory structures. Package manager programs such as ","position":{"start":{"line":67,"column":41,"offset":2525},"end":{"line":67,"column":163,"offset":2647}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"dpkg"}],"position":{"start":{"line":67,"column":163,"offset":2647},"end":{"line":67,"column":169,"offset":2653}}},{"type":"text","value":", ","position":{"start":{"line":67,"column":169,"offset":2653},"end":{"line":67,"column":171,"offset":2655}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"rpm"}],"position":{"start":{"line":67,"column":171,"offset":2655},"end":{"line":67,"column":176,"offset":2660}}},{"type":"text","value":", and ","position":{"start":{"line":67,"column":176,"offset":2660},"end":{"line":67,"column":182,"offset":2666}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"npm"}],"position":{"start":{"line":67,"column":182,"offset":2666},"end":{"line":67,"column":187,"offset":2671}}},{"type":"text","value":" will hopefully find it possible to build native packages from Node.js modules without modification.","position":{"start":{"line":67,"column":187,"offset":2671},"end":{"line":67,"column":287,"offset":2771}}}],"position":{"start":{"line":67,"column":1,"offset":2485},"end":{"line":67,"column":287,"offset":2771}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Below we give a suggested directory structure that could work:","position":{"start":{"line":69,"column":1,"offset":2773},"end":{"line":69,"column":63,"offset":2835}}}],"position":{"start":{"line":69,"column":1,"offset":2773},"end":{"line":69,"column":63,"offset":2835}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Let's say that we wanted to have the folder at ","position":{"start":{"line":71,"column":1,"offset":2837},"end":{"line":71,"column":48,"offset":2884}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/lib/node/<some-package>/<some-version>"}],"position":{"start":{"line":71,"column":48,"offset":2884},"end":{"line":71,"column":93,"offset":2929}}},{"type":"text","value":" hold the contents of a specific version of a package.","position":{"start":{"line":71,"column":93,"offset":2929},"end":{"line":71,"column":147,"offset":2983}}}],"position":{"start":{"line":71,"column":1,"offset":2837},"end":{"line":71,"column":147,"offset":2983}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Packages can depend on one another. In order to install package ","position":{"start":{"line":73,"column":1,"offset":2985},"end":{"line":73,"column":65,"offset":3049}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"foo"}],"position":{"start":{"line":73,"column":65,"offset":3049},"end":{"line":73,"column":70,"offset":3054}}},{"type":"text","value":", it may be necessary to install a specific version of package ","position":{"start":{"line":73,"column":70,"offset":3054},"end":{"line":73,"column":133,"offset":3117}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"bar"}],"position":{"start":{"line":73,"column":133,"offset":3117},"end":{"line":73,"column":138,"offset":3122}}},{"type":"text","value":". The ","position":{"start":{"line":73,"column":138,"offset":3122},"end":{"line":73,"column":144,"offset":3128}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"bar"}],"position":{"start":{"line":73,"column":144,"offset":3128},"end":{"line":73,"column":149,"offset":3133}}},{"type":"text","value":" package may itself have dependencies, and in some cases, these may even collide or form cyclic dependencies.","position":{"start":{"line":73,"column":149,"offset":3133},"end":{"line":73,"column":258,"offset":3242}}}],"position":{"start":{"line":73,"column":1,"offset":2985},"end":{"line":73,"column":258,"offset":3242}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Because Node.js looks up the ","position":{"start":{"line":75,"column":1,"offset":3244},"end":{"line":75,"column":30,"offset":3273}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"realpath"}],"position":{"start":{"line":75,"column":30,"offset":3273},"end":{"line":75,"column":40,"offset":3283}}},{"type":"text","value":" of any modules it loads (that is, it resolves symlinks) and then ","position":{"start":{"line":75,"column":40,"offset":3283},"end":{"line":75,"column":106,"offset":3349}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_loading_from_node_modules_folders"},"children":[{"type":"text","value":"looks for their dependencies in ","position":{"start":{"line":75,"column":107,"offset":3350},"end":{"line":75,"column":139,"offset":3382}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node_modules"}],"position":{"start":{"line":75,"column":139,"offset":3382},"end":{"line":75,"column":153,"offset":3396}}},{"type":"text","value":" folders","position":{"start":{"line":75,"column":153,"offset":3396},"end":{"line":75,"column":161,"offset":3404}}}],"position":{"start":{"line":75,"column":106,"offset":3349},"end":{"line":75,"column":241,"offset":3484}}},{"type":"text","value":", this situation can be resolved with the following architecture:","position":{"start":{"line":75,"column":241,"offset":3484},"end":{"line":75,"column":306,"offset":3549}}}],"position":{"start":{"line":75,"column":1,"offset":3244},"end":{"line":75,"column":306,"offset":3549}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/lib/node/foo/1.2.3/"}],"position":{"start":{"line":77,"column":3,"offset":3553},"end":{"line":77,"column":29,"offset":3579}}},{"type":"text","value":": Contents of the ","position":{"start":{"line":77,"column":29,"offset":3579},"end":{"line":77,"column":47,"offset":3597}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"foo"}],"position":{"start":{"line":77,"column":47,"offset":3597},"end":{"line":77,"column":52,"offset":3602}}},{"type":"text","value":" package, version 1.2.3.","position":{"start":{"line":77,"column":52,"offset":3602},"end":{"line":77,"column":76,"offset":3626}}}],"position":{"start":{"line":77,"column":1,"offset":3551},"end":{"line":77,"column":76,"offset":3626}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/lib/node/bar/4.3.2/"}],"position":{"start":{"line":78,"column":3,"offset":3629},"end":{"line":78,"column":29,"offset":3655}}},{"type":"text","value":": Contents of the ","position":{"start":{"line":78,"column":29,"offset":3655},"end":{"line":78,"column":47,"offset":3673}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"bar"}],"position":{"start":{"line":78,"column":47,"offset":3673},"end":{"line":78,"column":52,"offset":3678}}},{"type":"text","value":" package that ","position":{"start":{"line":78,"column":52,"offset":3678},"end":{"line":78,"column":66,"offset":3692}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"foo"}],"position":{"start":{"line":78,"column":66,"offset":3692},"end":{"line":78,"column":71,"offset":3697}}},{"type":"text","value":" depends on.","position":{"start":{"line":78,"column":71,"offset":3697},"end":{"line":78,"column":83,"offset":3709}}}],"position":{"start":{"line":78,"column":1,"offset":3627},"end":{"line":78,"column":83,"offset":3709}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/lib/node/foo/1.2.3/node_modules/bar"}],"position":{"start":{"line":79,"column":3,"offset":3712},"end":{"line":79,"column":45,"offset":3754}}},{"type":"text","value":": Symbolic link to ","position":{"start":{"line":79,"column":45,"offset":3754},"end":{"line":79,"column":64,"offset":3773}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/lib/node/bar/4.3.2/"}],"position":{"start":{"line":79,"column":64,"offset":3773},"end":{"line":79,"column":90,"offset":3799}}},{"type":"text","value":".","position":{"start":{"line":79,"column":90,"offset":3799},"end":{"line":79,"column":91,"offset":3800}}}],"position":{"start":{"line":79,"column":1,"offset":3710},"end":{"line":79,"column":91,"offset":3800}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/lib/node/bar/4.3.2/node_modules/*"}],"position":{"start":{"line":80,"column":3,"offset":3803},"end":{"line":80,"column":43,"offset":3843}}},{"type":"text","value":": Symbolic links to the packages that ","position":{"start":{"line":80,"column":43,"offset":3843},"end":{"line":80,"column":81,"offset":3881}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"bar"}],"position":{"start":{"line":80,"column":81,"offset":3881},"end":{"line":80,"column":86,"offset":3886}}},{"type":"text","value":" depends on.","position":{"start":{"line":80,"column":86,"offset":3886},"end":{"line":80,"column":98,"offset":3898}}}],"position":{"start":{"line":80,"column":1,"offset":3801},"end":{"line":80,"column":98,"offset":3898}}},{"type":"text","value":"\n"}],"position":{"start":{"line":77,"column":1,"offset":3551},"end":{"line":80,"column":98,"offset":3898}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Thus, even if a cycle is encountered, or if there are dependency conflicts, every module will be able to get a version of its dependency that it can use.","position":{"start":{"line":82,"column":1,"offset":3900},"end":{"line":82,"column":154,"offset":4053}}}],"position":{"start":{"line":82,"column":1,"offset":3900},"end":{"line":82,"column":154,"offset":4053}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When the code in the ","position":{"start":{"line":84,"column":1,"offset":4055},"end":{"line":84,"column":22,"offset":4076}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"foo"}],"position":{"start":{"line":84,"column":22,"offset":4076},"end":{"line":84,"column":27,"offset":4081}}},{"type":"text","value":" package does ","position":{"start":{"line":84,"column":27,"offset":4081},"end":{"line":84,"column":41,"offset":4095}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('bar')"}],"position":{"start":{"line":84,"column":41,"offset":4095},"end":{"line":84,"column":57,"offset":4111}}},{"type":"text","value":", it will get the version that is symlinked into ","position":{"start":{"line":84,"column":57,"offset":4111},"end":{"line":84,"column":106,"offset":4160}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/lib/node/foo/1.2.3/node_modules/bar"}],"position":{"start":{"line":84,"column":106,"offset":4160},"end":{"line":84,"column":148,"offset":4202}}},{"type":"text","value":". Then, when the code in the ","position":{"start":{"line":84,"column":148,"offset":4202},"end":{"line":84,"column":177,"offset":4231}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"bar"}],"position":{"start":{"line":84,"column":177,"offset":4231},"end":{"line":84,"column":182,"offset":4236}}},{"type":"text","value":" package calls ","position":{"start":{"line":84,"column":182,"offset":4236},"end":{"line":84,"column":197,"offset":4251}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('quux')"}],"position":{"start":{"line":84,"column":197,"offset":4251},"end":{"line":84,"column":214,"offset":4268}}},{"type":"text","value":", it'll get the version that is symlinked into ","position":{"start":{"line":84,"column":214,"offset":4268},"end":{"line":84,"column":261,"offset":4315}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/lib/node/bar/4.3.2/node_modules/quux"}],"position":{"start":{"line":84,"column":261,"offset":4315},"end":{"line":84,"column":304,"offset":4358}}},{"type":"text","value":".","position":{"start":{"line":84,"column":304,"offset":4358},"end":{"line":84,"column":305,"offset":4359}}}],"position":{"start":{"line":84,"column":1,"offset":4055},"end":{"line":84,"column":305,"offset":4359}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Furthermore, to make the module lookup process even more optimal, rather than putting packages directly in ","position":{"start":{"line":86,"column":1,"offset":4361},"end":{"line":86,"column":108,"offset":4468}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/lib/node"}],"position":{"start":{"line":86,"column":108,"offset":4468},"end":{"line":86,"column":123,"offset":4483}}},{"type":"text","value":", we could put them in ","position":{"start":{"line":86,"column":123,"offset":4483},"end":{"line":86,"column":146,"offset":4506}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/lib/node_modules/<name>/<version>"}],"position":{"start":{"line":86,"column":146,"offset":4506},"end":{"line":86,"column":186,"offset":4546}}},{"type":"text","value":". Then Node.js will not bother looking for missing dependencies in ","position":{"start":{"line":86,"column":186,"offset":4546},"end":{"line":86,"column":253,"offset":4613}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/node_modules"}],"position":{"start":{"line":86,"column":253,"offset":4613},"end":{"line":86,"column":272,"offset":4632}}},{"type":"text","value":" or ","position":{"start":{"line":86,"column":272,"offset":4632},"end":{"line":86,"column":276,"offset":4636}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/node_modules"}],"position":{"start":{"line":86,"column":276,"offset":4636},"end":{"line":86,"column":291,"offset":4651}}},{"type":"text","value":".","position":{"start":{"line":86,"column":291,"offset":4651},"end":{"line":86,"column":292,"offset":4652}}}],"position":{"start":{"line":86,"column":1,"offset":4361},"end":{"line":86,"column":292,"offset":4652}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In order to make modules available to the Node.js REPL, it might be useful to also add the ","position":{"start":{"line":88,"column":1,"offset":4654},"end":{"line":88,"column":92,"offset":4745}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/lib/node_modules"}],"position":{"start":{"line":88,"column":92,"offset":4745},"end":{"line":88,"column":115,"offset":4768}}},{"type":"text","value":" folder to the ","position":{"start":{"line":88,"column":115,"offset":4768},"end":{"line":88,"column":130,"offset":4783}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$NODE_PATH"}],"position":{"start":{"line":88,"column":130,"offset":4783},"end":{"line":88,"column":142,"offset":4795}}},{"type":"text","value":" environment variable. Since the module lookups using ","position":{"start":{"line":88,"column":142,"offset":4795},"end":{"line":88,"column":196,"offset":4849}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node_modules"}],"position":{"start":{"line":88,"column":196,"offset":4849},"end":{"line":88,"column":210,"offset":4863}}},{"type":"text","value":" folders are all relative, and based on the real path of the files making the calls to ","position":{"start":{"line":88,"column":210,"offset":4863},"end":{"line":88,"column":297,"offset":4950}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":88,"column":297,"offset":4950},"end":{"line":88,"column":308,"offset":4961}}},{"type":"text","value":", the packages themselves can be anywhere.","position":{"start":{"line":88,"column":308,"offset":4961},"end":{"line":88,"column":350,"offset":5003}}}],"position":{"start":{"line":88,"column":1,"offset":4654},"end":{"line":88,"column":350,"offset":5003}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":90,"column":5,"offset":5009},"end":{"line":90,"column":9,"offset":5013}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".mjs"}],"position":{"start":{"line":90,"column":9,"offset":5013},"end":{"line":90,"column":15,"offset":5019}}},{"type":"text","value":" extension","position":{"start":{"line":90,"column":15,"offset":5019},"end":{"line":90,"column":25,"offset":5029}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_the_mjs_extension"},"children":[{"type":"text","value":"#","position":{"start":{"line":90,"column":26,"offset":5030},"end":{"line":90,"column":27,"offset":5031}}}],"position":{"start":{"line":90,"column":25,"offset":5029},"end":{"line":90,"column":91,"offset":5095}}}],"position":{"start":{"line":90,"column":1,"offset":5005},"end":{"line":90,"column":91,"offset":5095}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"It is not possible to ","position":{"start":{"line":92,"column":1,"offset":5097},"end":{"line":92,"column":23,"offset":5119}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":92,"column":23,"offset":5119},"end":{"line":92,"column":34,"offset":5130}}},{"type":"text","value":" files that have the ","position":{"start":{"line":92,"column":34,"offset":5130},"end":{"line":92,"column":55,"offset":5151}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".mjs"}],"position":{"start":{"line":92,"column":55,"offset":5151},"end":{"line":92,"column":61,"offset":5157}}},{"type":"text","value":" extension. Attempting to do so will throw ","position":{"start":{"line":92,"column":61,"offset":5157},"end":{"line":92,"column":104,"offset":5200}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/errors.html#errors_err_require_esm"},"children":[{"type":"text","value":"an error","position":{"start":{"line":92,"column":105,"offset":5201},"end":{"line":92,"column":113,"offset":5209}}}],"position":{"start":{"line":92,"column":104,"offset":5200},"end":{"line":92,"column":173,"offset":5269}}},{"type":"text","value":". The ","position":{"start":{"line":92,"column":173,"offset":5269},"end":{"line":92,"column":179,"offset":5275}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".mjs"}],"position":{"start":{"line":92,"column":179,"offset":5275},"end":{"line":92,"column":185,"offset":5281}}},{"type":"text","value":" extension is reserved for ","position":{"start":{"line":92,"column":185,"offset":5281},"end":{"line":92,"column":212,"offset":5308}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/esm.html"},"children":[{"type":"text","value":"ECMAScript Modules","position":{"start":{"line":92,"column":213,"offset":5309},"end":{"line":92,"column":231,"offset":5327}}}],"position":{"start":{"line":92,"column":212,"offset":5308},"end":{"line":92,"column":265,"offset":5361}}},{"type":"text","value":" which cannot be loaded via ","position":{"start":{"line":92,"column":265,"offset":5361},"end":{"line":92,"column":293,"offset":5389}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":92,"column":293,"offset":5389},"end":{"line":92,"column":304,"offset":5400}}},{"type":"text","value":". See ","position":{"start":{"line":92,"column":304,"offset":5400},"end":{"line":92,"column":310,"offset":5406}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/esm.html"},"children":[{"type":"text","value":"ECMAScript Modules","position":{"start":{"line":92,"column":311,"offset":5407},"end":{"line":92,"column":329,"offset":5425}}}],"position":{"start":{"line":92,"column":310,"offset":5406},"end":{"line":92,"column":363,"offset":5459}}},{"type":"text","value":" for more details.","position":{"start":{"line":92,"column":363,"offset":5459},"end":{"line":92,"column":381,"offset":5477}}}],"position":{"start":{"line":92,"column":1,"offset":5097},"end":{"line":92,"column":381,"offset":5477}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"All together...","position":{"start":{"line":94,"column":5,"offset":5483},"end":{"line":94,"column":20,"offset":5498}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_all_together"},"children":[{"type":"text","value":"#","position":{"start":{"line":94,"column":21,"offset":5499},"end":{"line":94,"column":22,"offset":5500}}}],"position":{"start":{"line":94,"column":20,"offset":5498},"end":{"line":94,"column":81,"offset":5559}}}],"position":{"start":{"line":94,"column":1,"offset":5479},"end":{"line":94,"column":81,"offset":5559}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To get the exact filename that will be loaded when ","position":{"start":{"line":96,"column":1,"offset":5561},"end":{"line":96,"column":52,"offset":5612}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":96,"column":52,"offset":5612},"end":{"line":96,"column":63,"offset":5623}}},{"type":"text","value":" is called, use the ","position":{"start":{"line":96,"column":63,"offset":5623},"end":{"line":96,"column":83,"offset":5643}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.resolve()"}],"position":{"start":{"line":96,"column":83,"offset":5643},"end":{"line":96,"column":102,"offset":5662}}},{"type":"text","value":" function.","position":{"start":{"line":96,"column":102,"offset":5662},"end":{"line":96,"column":112,"offset":5672}}}],"position":{"start":{"line":96,"column":1,"offset":5561},"end":{"line":96,"column":112,"offset":5672}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Putting together all of the above, here is the high-level algorithm in pseudocode of what ","position":{"start":{"line":98,"column":1,"offset":5674},"end":{"line":98,"column":91,"offset":5764}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":98,"column":91,"offset":5764},"end":{"line":98,"column":102,"offset":5775}}},{"type":"text","value":" does:","position":{"start":{"line":98,"column":102,"offset":5775},"end":{"line":98,"column":108,"offset":5781}}}],"position":{"start":{"line":98,"column":1,"offset":5674},"end":{"line":98,"column":108,"offset":5781}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"require(X) from module at path Y","position":{"start":{"line":100,"column":1,"offset":5783},"end":{"line":100,"column":33,"offset":5815}}}],"position":{"start":{"line":100,"column":1,"offset":5783},"end":{"line":100,"column":33,"offset":5815}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X is a core module,\na. return the core module\nb. STOP","position":{"start":{"line":102,"column":4,"offset":5820},"end":{"line":104,"column":11,"offset":5882}}}],"position":{"start":{"line":102,"column":1,"offset":5817},"end":{"line":104,"column":11,"offset":5882}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X begins with '/'\na. set Y to be the filesystem root","position":{"start":{"line":105,"column":4,"offset":5886},"end":{"line":106,"column":38,"offset":5944}}}],"position":{"start":{"line":105,"column":1,"offset":5883},"end":{"line":106,"column":38,"offset":5944}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X begins with './' or '/' or '../'\na. LOAD","position":{"start":{"line":107,"column":4,"offset":5948},"end":{"line":108,"column":11,"offset":5996}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"AS","position":{"start":{"line":108,"column":12,"offset":5997},"end":{"line":108,"column":14,"offset":5999}}}],"position":{"start":{"line":108,"column":11,"offset":5996},"end":{"line":108,"column":15,"offset":6000}}},{"type":"text","value":"FILE(Y + X)\nb. LOAD","position":{"start":{"line":108,"column":15,"offset":6000},"end":{"line":109,"column":11,"offset":6022}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"AS","position":{"start":{"line":109,"column":12,"offset":6023},"end":{"line":109,"column":14,"offset":6025}}}],"position":{"start":{"line":109,"column":11,"offset":6022},"end":{"line":109,"column":15,"offset":6026}}},{"type":"text","value":"DIRECTORY(Y + X)\nc. THROW \"not found\"","position":{"start":{"line":109,"column":15,"offset":6026},"end":{"line":110,"column":24,"offset":6066}}}],"position":{"start":{"line":107,"column":1,"offset":5945},"end":{"line":110,"column":24,"offset":6066}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X begins with '#'\na. LOAD","position":{"start":{"line":111,"column":4,"offset":6070},"end":{"line":112,"column":11,"offset":6101}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"PACKAGE","position":{"start":{"line":112,"column":12,"offset":6102},"end":{"line":112,"column":19,"offset":6109}}}],"position":{"start":{"line":112,"column":11,"offset":6101},"end":{"line":112,"column":20,"offset":6110}}},{"type":"text","value":"IMPORTS(X, dirname(Y))","position":{"start":{"line":112,"column":20,"offset":6110},"end":{"line":112,"column":42,"offset":6132}}}],"position":{"start":{"line":111,"column":1,"offset":6067},"end":{"line":112,"column":42,"offset":6132}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"LOAD","position":{"start":{"line":113,"column":4,"offset":6136},"end":{"line":113,"column":8,"offset":6140}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"PACKAGE","position":{"start":{"line":113,"column":9,"offset":6141},"end":{"line":113,"column":16,"offset":6148}}}],"position":{"start":{"line":113,"column":8,"offset":6140},"end":{"line":113,"column":17,"offset":6149}}},{"type":"text","value":"SELF(X, dirname(Y))","position":{"start":{"line":113,"column":17,"offset":6149},"end":{"line":113,"column":36,"offset":6168}}}],"position":{"start":{"line":113,"column":1,"offset":6133},"end":{"line":113,"column":36,"offset":6168}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"LOAD","position":{"start":{"line":114,"column":4,"offset":6172},"end":{"line":114,"column":8,"offset":6176}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"NODE","position":{"start":{"line":114,"column":9,"offset":6177},"end":{"line":114,"column":13,"offset":6181}}}],"position":{"start":{"line":114,"column":8,"offset":6176},"end":{"line":114,"column":14,"offset":6182}}},{"type":"text","value":"MODULES(X, dirname(Y))","position":{"start":{"line":114,"column":14,"offset":6182},"end":{"line":114,"column":36,"offset":6204}}}],"position":{"start":{"line":114,"column":1,"offset":6169},"end":{"line":114,"column":36,"offset":6204}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"THROW \"not found\"","position":{"start":{"line":115,"column":4,"offset":6208},"end":{"line":115,"column":21,"offset":6225}}}],"position":{"start":{"line":115,"column":1,"offset":6205},"end":{"line":115,"column":21,"offset":6225}}},{"type":"text","value":"\n"}],"position":{"start":{"line":102,"column":1,"offset":5817},"end":{"line":115,"column":21,"offset":6225}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"LOAD","position":{"start":{"line":117,"column":1,"offset":6227},"end":{"line":117,"column":5,"offset":6231}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"AS","position":{"start":{"line":117,"column":6,"offset":6232},"end":{"line":117,"column":8,"offset":6234}}}],"position":{"start":{"line":117,"column":5,"offset":6231},"end":{"line":117,"column":9,"offset":6235}}},{"type":"text","value":"FILE(X)","position":{"start":{"line":117,"column":9,"offset":6235},"end":{"line":117,"column":16,"offset":6242}}}],"position":{"start":{"line":117,"column":1,"offset":6227},"end":{"line":117,"column":16,"offset":6242}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X is a file, load X as its file extension format. STOP","position":{"start":{"line":119,"column":4,"offset":6247},"end":{"line":119,"column":61,"offset":6304}}}],"position":{"start":{"line":119,"column":1,"offset":6244},"end":{"line":119,"column":61,"offset":6304}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X.js is a file, load X.js as JavaScript text. STOP","position":{"start":{"line":120,"column":4,"offset":6308},"end":{"line":120,"column":57,"offset":6361}}}],"position":{"start":{"line":120,"column":1,"offset":6305},"end":{"line":120,"column":57,"offset":6361}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X.json is a file, parse X.json to a JavaScript Object. STOP","position":{"start":{"line":121,"column":4,"offset":6365},"end":{"line":121,"column":66,"offset":6427}}}],"position":{"start":{"line":121,"column":1,"offset":6362},"end":{"line":121,"column":66,"offset":6427}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X.node is a file, load X.node as binary addon. STOP","position":{"start":{"line":122,"column":4,"offset":6431},"end":{"line":122,"column":58,"offset":6485}}}],"position":{"start":{"line":122,"column":1,"offset":6428},"end":{"line":122,"column":58,"offset":6485}}},{"type":"text","value":"\n"}],"position":{"start":{"line":119,"column":1,"offset":6244},"end":{"line":122,"column":58,"offset":6485}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"LOAD_INDEX(X)","position":{"start":{"line":124,"column":1,"offset":6487},"end":{"line":124,"column":14,"offset":6500}}}],"position":{"start":{"line":124,"column":1,"offset":6487},"end":{"line":124,"column":14,"offset":6500}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X/index.js is a file, load X/index.js as JavaScript text. STOP","position":{"start":{"line":126,"column":4,"offset":6505},"end":{"line":126,"column":69,"offset":6570}}}],"position":{"start":{"line":126,"column":1,"offset":6502},"end":{"line":126,"column":69,"offset":6570}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X/index.json is a file, parse X/index.json to a JavaScript object. STOP","position":{"start":{"line":127,"column":4,"offset":6574},"end":{"line":127,"column":78,"offset":6648}}}],"position":{"start":{"line":127,"column":1,"offset":6571},"end":{"line":127,"column":78,"offset":6648}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X/index.node is a file, load X/index.node as binary addon. STOP","position":{"start":{"line":128,"column":4,"offset":6652},"end":{"line":128,"column":70,"offset":6718}}}],"position":{"start":{"line":128,"column":1,"offset":6649},"end":{"line":128,"column":70,"offset":6718}}},{"type":"text","value":"\n"}],"position":{"start":{"line":126,"column":1,"offset":6502},"end":{"line":128,"column":70,"offset":6718}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"LOAD","position":{"start":{"line":130,"column":1,"offset":6720},"end":{"line":130,"column":5,"offset":6724}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"AS","position":{"start":{"line":130,"column":6,"offset":6725},"end":{"line":130,"column":8,"offset":6727}}}],"position":{"start":{"line":130,"column":5,"offset":6724},"end":{"line":130,"column":9,"offset":6728}}},{"type":"text","value":"DIRECTORY(X)","position":{"start":{"line":130,"column":9,"offset":6728},"end":{"line":130,"column":21,"offset":6740}}}],"position":{"start":{"line":130,"column":1,"offset":6720},"end":{"line":130,"column":21,"offset":6740}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X/package.json is a file,\na. Parse X/package.json, and look for \"main\" field.\nb. If \"main\" is a falsy value, GOTO 2.\nc. let M = X + (json main field)\nd. LOAD","position":{"start":{"line":132,"column":4,"offset":6745},"end":{"line":136,"column":11,"offset":6917}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"AS","position":{"start":{"line":136,"column":12,"offset":6918},"end":{"line":136,"column":14,"offset":6920}}}],"position":{"start":{"line":136,"column":11,"offset":6917},"end":{"line":136,"column":15,"offset":6921}}},{"type":"text","value":"FILE(M)\ne. LOAD","position":{"start":{"line":136,"column":15,"offset":6921},"end":{"line":137,"column":11,"offset":6939}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"INDEX(M)\nf. LOAD","position":{"start":{"line":137,"column":12,"offset":6940},"end":{"line":138,"column":11,"offset":6959}}}],"position":{"start":{"line":137,"column":11,"offset":6939},"end":{"line":138,"column":12,"offset":6960}}},{"type":"text","value":"INDEX(X) DEPRECATED\ng. THROW \"not found\"","position":{"start":{"line":138,"column":12,"offset":6960},"end":{"line":139,"column":24,"offset":7003}}}],"position":{"start":{"line":132,"column":1,"offset":6742},"end":{"line":139,"column":24,"offset":7003}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"LOAD_INDEX(X)","position":{"start":{"line":140,"column":4,"offset":7007},"end":{"line":140,"column":17,"offset":7020}}}],"position":{"start":{"line":140,"column":1,"offset":7004},"end":{"line":140,"column":17,"offset":7020}}},{"type":"text","value":"\n"}],"position":{"start":{"line":132,"column":1,"offset":6742},"end":{"line":140,"column":17,"offset":7020}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"LOAD","position":{"start":{"line":142,"column":1,"offset":7022},"end":{"line":142,"column":5,"offset":7026}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"NODE","position":{"start":{"line":142,"column":6,"offset":7027},"end":{"line":142,"column":10,"offset":7031}}}],"position":{"start":{"line":142,"column":5,"offset":7026},"end":{"line":142,"column":11,"offset":7032}}},{"type":"text","value":"MODULES(X, START)","position":{"start":{"line":142,"column":11,"offset":7032},"end":{"line":142,"column":28,"offset":7049}}}],"position":{"start":{"line":142,"column":1,"offset":7022},"end":{"line":142,"column":28,"offset":7049}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"let DIRS = NODE","position":{"start":{"line":144,"column":4,"offset":7054},"end":{"line":144,"column":19,"offset":7069}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"MODULES","position":{"start":{"line":144,"column":20,"offset":7070},"end":{"line":144,"column":27,"offset":7077}}}],"position":{"start":{"line":144,"column":19,"offset":7069},"end":{"line":144,"column":28,"offset":7078}}},{"type":"text","value":"PATHS(START)","position":{"start":{"line":144,"column":28,"offset":7078},"end":{"line":144,"column":40,"offset":7090}}}],"position":{"start":{"line":144,"column":1,"offset":7051},"end":{"line":144,"column":40,"offset":7090}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"for each DIR in DIRS:\na. LOAD","position":{"start":{"line":145,"column":4,"offset":7094},"end":{"line":146,"column":11,"offset":7126}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"PACKAGE","position":{"start":{"line":146,"column":12,"offset":7127},"end":{"line":146,"column":19,"offset":7134}}}],"position":{"start":{"line":146,"column":11,"offset":7126},"end":{"line":146,"column":20,"offset":7135}}},{"type":"text","value":"EXPORTS(X, DIR)\nb. LOAD","position":{"start":{"line":146,"column":20,"offset":7135},"end":{"line":147,"column":11,"offset":7161}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"AS","position":{"start":{"line":147,"column":12,"offset":7162},"end":{"line":147,"column":14,"offset":7164}}}],"position":{"start":{"line":147,"column":11,"offset":7161},"end":{"line":147,"column":15,"offset":7165}}},{"type":"text","value":"FILE(DIR/X)\nc. LOAD","position":{"start":{"line":147,"column":15,"offset":7165},"end":{"line":148,"column":11,"offset":7187}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"AS","position":{"start":{"line":148,"column":12,"offset":7188},"end":{"line":148,"column":14,"offset":7190}}}],"position":{"start":{"line":148,"column":11,"offset":7187},"end":{"line":148,"column":15,"offset":7191}}},{"type":"text","value":"DIRECTORY(DIR/X)","position":{"start":{"line":148,"column":15,"offset":7191},"end":{"line":148,"column":31,"offset":7207}}}],"position":{"start":{"line":145,"column":1,"offset":7091},"end":{"line":148,"column":31,"offset":7207}}},{"type":"text","value":"\n"}],"position":{"start":{"line":144,"column":1,"offset":7051},"end":{"line":148,"column":31,"offset":7207}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"NODE","position":{"start":{"line":150,"column":1,"offset":7209},"end":{"line":150,"column":5,"offset":7213}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"MODULES","position":{"start":{"line":150,"column":6,"offset":7214},"end":{"line":150,"column":13,"offset":7221}}}],"position":{"start":{"line":150,"column":5,"offset":7213},"end":{"line":150,"column":14,"offset":7222}}},{"type":"text","value":"PATHS(START)","position":{"start":{"line":150,"column":14,"offset":7222},"end":{"line":150,"column":26,"offset":7234}}}],"position":{"start":{"line":150,"column":1,"offset":7209},"end":{"line":150,"column":26,"offset":7234}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"let PARTS = path split(START)","position":{"start":{"line":152,"column":4,"offset":7239},"end":{"line":152,"column":33,"offset":7268}}}],"position":{"start":{"line":152,"column":1,"offset":7236},"end":{"line":152,"column":33,"offset":7268}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"let I = count of PARTS - 1","position":{"start":{"line":153,"column":4,"offset":7272},"end":{"line":153,"column":30,"offset":7298}}}],"position":{"start":{"line":153,"column":1,"offset":7269},"end":{"line":153,"column":30,"offset":7298}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"let DIRS = ","position":{"start":{"line":154,"column":4,"offset":7302},"end":{"line":154,"column":15,"offset":7313}}},{"type":"text","value":"[GLOBAL_FOLDERS]","position":{"start":{"line":154,"column":16,"offset":7314},"end":{"line":154,"column":30,"offset":7328}}}],"position":{"start":{"line":154,"column":1,"offset":7299},"end":{"line":154,"column":31,"offset":7329}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"while I >= 0,\na. if PARTS","position":{"start":{"line":155,"column":4,"offset":7333},"end":{"line":156,"column":15,"offset":7361}}},{"type":"text","value":"[I]","position":{"start":{"line":156,"column":16,"offset":7362},"end":{"line":156,"column":17,"offset":7363}}},{"type":"text","value":" = \"node","position":{"start":{"line":156,"column":18,"offset":7364},"end":{"line":156,"column":26,"offset":7372}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"modules\" CONTINUE\nb. DIR = path join(PARTS","position":{"start":{"line":156,"column":27,"offset":7373},"end":{"line":157,"column":28,"offset":7418}}},{"type":"text","value":"[0 .. I]","position":{"start":{"line":157,"column":29,"offset":7419},"end":{"line":157,"column":35,"offset":7425}}},{"type":"text","value":" + \"node","position":{"start":{"line":157,"column":36,"offset":7426},"end":{"line":157,"column":44,"offset":7434}}}],"position":{"start":{"line":156,"column":26,"offset":7372},"end":{"line":157,"column":45,"offset":7435}}},{"type":"text","value":"modules\")\nc. DIRS = DIRS + DIR\nd. let I = I - 1","position":{"start":{"line":157,"column":45,"offset":7435},"end":{"line":159,"column":20,"offset":7488}}}],"position":{"start":{"line":155,"column":1,"offset":7330},"end":{"line":159,"column":20,"offset":7488}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"return DIRS","position":{"start":{"line":160,"column":4,"offset":7492},"end":{"line":160,"column":15,"offset":7503}}}],"position":{"start":{"line":160,"column":1,"offset":7489},"end":{"line":160,"column":15,"offset":7503}}},{"type":"text","value":"\n"}],"position":{"start":{"line":152,"column":1,"offset":7236},"end":{"line":160,"column":15,"offset":7503}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"LOAD","position":{"start":{"line":162,"column":1,"offset":7505},"end":{"line":162,"column":5,"offset":7509}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"PACKAGE","position":{"start":{"line":162,"column":6,"offset":7510},"end":{"line":162,"column":13,"offset":7517}}}],"position":{"start":{"line":162,"column":5,"offset":7509},"end":{"line":162,"column":14,"offset":7518}}},{"type":"text","value":"IMPORTS(X, DIR)","position":{"start":{"line":162,"column":14,"offset":7518},"end":{"line":162,"column":29,"offset":7533}}}],"position":{"start":{"line":162,"column":1,"offset":7505},"end":{"line":162,"column":29,"offset":7533}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Find the closest package scope SCOPE to DIR.","position":{"start":{"line":164,"column":4,"offset":7538},"end":{"line":164,"column":48,"offset":7582}}}],"position":{"start":{"line":164,"column":1,"offset":7535},"end":{"line":164,"column":48,"offset":7582}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If no scope was found, return.","position":{"start":{"line":165,"column":4,"offset":7586},"end":{"line":165,"column":34,"offset":7616}}}],"position":{"start":{"line":165,"column":1,"offset":7583},"end":{"line":165,"column":34,"offset":7616}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If the SCOPE/package.json \"imports\" is null or undefined, return.","position":{"start":{"line":166,"column":4,"offset":7620},"end":{"line":166,"column":69,"offset":7685}}}],"position":{"start":{"line":166,"column":1,"offset":7617},"end":{"line":166,"column":69,"offset":7685}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"let MATCH = PACKAGE","position":{"start":{"line":167,"column":4,"offset":7689},"end":{"line":167,"column":23,"offset":7708}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"IMPORTS","position":{"start":{"line":167,"column":24,"offset":7709},"end":{"line":167,"column":31,"offset":7716}}}],"position":{"start":{"line":167,"column":23,"offset":7708},"end":{"line":167,"column":32,"offset":7717}}},{"type":"text","value":"RESOLVE(X, pathToFileURL(SCOPE),\n","position":{"start":{"line":167,"column":32,"offset":7717},"end":{"line":168,"column":4,"offset":7753}}},{"type":"text","value":"[\"node\", \"require\"]","position":{"start":{"line":168,"column":5,"offset":7754},"end":{"line":168,"column":22,"offset":7771}}},{"type":"text","value":") ","position":{"start":{"line":168,"column":23,"offset":7772},"end":{"line":168,"column":25,"offset":7774}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/esm.md#resolver-algorithm-specification"},"children":[{"type":"text","value":"defined in the ESM resolver","position":{"start":{"line":168,"column":26,"offset":7775},"end":{"line":168,"column":53,"offset":7802}}}],"position":{"start":{"line":168,"column":25,"offset":7774},"end":{"line":168,"column":118,"offset":7867}}},{"type":"text","value":".","position":{"start":{"line":168,"column":118,"offset":7867},"end":{"line":168,"column":119,"offset":7868}}}],"position":{"start":{"line":167,"column":1,"offset":7686},"end":{"line":168,"column":119,"offset":7868}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"RESOLVE","position":{"start":{"line":169,"column":4,"offset":7872},"end":{"line":169,"column":11,"offset":7879}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"ESM","position":{"start":{"line":169,"column":12,"offset":7880},"end":{"line":169,"column":15,"offset":7883}}}],"position":{"start":{"line":169,"column":11,"offset":7879},"end":{"line":169,"column":16,"offset":7884}}},{"type":"text","value":"MATCH(MATCH).","position":{"start":{"line":169,"column":16,"offset":7884},"end":{"line":169,"column":29,"offset":7897}}}],"position":{"start":{"line":169,"column":1,"offset":7869},"end":{"line":169,"column":29,"offset":7897}}},{"type":"text","value":"\n"}],"position":{"start":{"line":164,"column":1,"offset":7535},"end":{"line":169,"column":29,"offset":7897}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"LOAD","position":{"start":{"line":171,"column":1,"offset":7899},"end":{"line":171,"column":5,"offset":7903}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"PACKAGE","position":{"start":{"line":171,"column":6,"offset":7904},"end":{"line":171,"column":13,"offset":7911}}}],"position":{"start":{"line":171,"column":5,"offset":7903},"end":{"line":171,"column":14,"offset":7912}}},{"type":"text","value":"EXPORTS(X, DIR)","position":{"start":{"line":171,"column":14,"offset":7912},"end":{"line":171,"column":29,"offset":7927}}}],"position":{"start":{"line":171,"column":1,"offset":7899},"end":{"line":171,"column":29,"offset":7927}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Try to interpret X as a combination of NAME and SUBPATH where the name\nmay have a @scope/ prefix and the subpath begins with a slash (","position":{"start":{"line":173,"column":4,"offset":7932},"end":{"line":174,"column":67,"offset":8069}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/"}],"position":{"start":{"line":174,"column":67,"offset":8069},"end":{"line":174,"column":70,"offset":8072}}},{"type":"text","value":").","position":{"start":{"line":174,"column":70,"offset":8072},"end":{"line":174,"column":72,"offset":8074}}}],"position":{"start":{"line":173,"column":1,"offset":7929},"end":{"line":174,"column":72,"offset":8074}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X does not match this pattern or DIR/NAME/package.json is not a file,\nreturn.","position":{"start":{"line":175,"column":4,"offset":8078},"end":{"line":176,"column":11,"offset":8161}}}],"position":{"start":{"line":175,"column":1,"offset":8075},"end":{"line":176,"column":11,"offset":8161}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Parse DIR/NAME/package.json, and look for \"exports\" field.","position":{"start":{"line":177,"column":4,"offset":8165},"end":{"line":177,"column":62,"offset":8223}}}],"position":{"start":{"line":177,"column":1,"offset":8162},"end":{"line":177,"column":62,"offset":8223}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If \"exports\" is null or undefined, return.","position":{"start":{"line":178,"column":4,"offset":8227},"end":{"line":178,"column":46,"offset":8269}}}],"position":{"start":{"line":178,"column":1,"offset":8224},"end":{"line":178,"column":46,"offset":8269}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"let MATCH = PACKAGE","position":{"start":{"line":179,"column":4,"offset":8273},"end":{"line":179,"column":23,"offset":8292}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"EXPORTS","position":{"start":{"line":179,"column":24,"offset":8293},"end":{"line":179,"column":31,"offset":8300}}}],"position":{"start":{"line":179,"column":23,"offset":8292},"end":{"line":179,"column":32,"offset":8301}}},{"type":"text","value":"RESOLVE(pathToFileURL(DIR/NAME), \".\" + SUBPATH,\n","position":{"start":{"line":179,"column":32,"offset":8301},"end":{"line":180,"column":4,"offset":8352}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"package.json"}],"position":{"start":{"line":180,"column":4,"offset":8352},"end":{"line":180,"column":18,"offset":8366}}},{"type":"text","value":" \"exports\", ","position":{"start":{"line":180,"column":18,"offset":8366},"end":{"line":180,"column":30,"offset":8378}}},{"type":"text","value":"[\"node\", \"require\"]","position":{"start":{"line":180,"column":31,"offset":8379},"end":{"line":180,"column":48,"offset":8396}}},{"type":"text","value":") ","position":{"start":{"line":180,"column":49,"offset":8397},"end":{"line":180,"column":51,"offset":8399}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/esm.md#resolver-algorithm-specification"},"children":[{"type":"text","value":"defined in the ESM resolver","position":{"start":{"line":180,"column":52,"offset":8400},"end":{"line":180,"column":79,"offset":8427}}}],"position":{"start":{"line":180,"column":51,"offset":8399},"end":{"line":180,"column":144,"offset":8492}}},{"type":"text","value":".","position":{"start":{"line":180,"column":144,"offset":8492},"end":{"line":180,"column":145,"offset":8493}}}],"position":{"start":{"line":179,"column":1,"offset":8270},"end":{"line":180,"column":145,"offset":8493}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"RESOLVE","position":{"start":{"line":181,"column":4,"offset":8497},"end":{"line":181,"column":11,"offset":8504}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"ESM","position":{"start":{"line":181,"column":12,"offset":8505},"end":{"line":181,"column":15,"offset":8508}}}],"position":{"start":{"line":181,"column":11,"offset":8504},"end":{"line":181,"column":16,"offset":8509}}},{"type":"text","value":"MATCH(MATCH)","position":{"start":{"line":181,"column":16,"offset":8509},"end":{"line":181,"column":28,"offset":8521}}}],"position":{"start":{"line":181,"column":1,"offset":8494},"end":{"line":181,"column":28,"offset":8521}}},{"type":"text","value":"\n"}],"position":{"start":{"line":173,"column":1,"offset":7929},"end":{"line":181,"column":28,"offset":8521}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"LOAD","position":{"start":{"line":183,"column":1,"offset":8523},"end":{"line":183,"column":5,"offset":8527}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"PACKAGE","position":{"start":{"line":183,"column":6,"offset":8528},"end":{"line":183,"column":13,"offset":8535}}}],"position":{"start":{"line":183,"column":5,"offset":8527},"end":{"line":183,"column":14,"offset":8536}}},{"type":"text","value":"SELF(X, DIR)","position":{"start":{"line":183,"column":14,"offset":8536},"end":{"line":183,"column":26,"offset":8548}}}],"position":{"start":{"line":183,"column":1,"offset":8523},"end":{"line":183,"column":26,"offset":8548}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Find the closest package scope SCOPE to DIR.","position":{"start":{"line":185,"column":4,"offset":8553},"end":{"line":185,"column":48,"offset":8597}}}],"position":{"start":{"line":185,"column":1,"offset":8550},"end":{"line":185,"column":48,"offset":8597}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If no scope was found, return.","position":{"start":{"line":186,"column":4,"offset":8601},"end":{"line":186,"column":34,"offset":8631}}}],"position":{"start":{"line":186,"column":1,"offset":8598},"end":{"line":186,"column":34,"offset":8631}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If the SCOPE/package.json \"exports\" is null or undefined, return.","position":{"start":{"line":187,"column":4,"offset":8635},"end":{"line":187,"column":69,"offset":8700}}}],"position":{"start":{"line":187,"column":1,"offset":8632},"end":{"line":187,"column":69,"offset":8700}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If the SCOPE/package.json \"name\" is not the first segment of X, return.","position":{"start":{"line":188,"column":4,"offset":8704},"end":{"line":188,"column":75,"offset":8775}}}],"position":{"start":{"line":188,"column":1,"offset":8701},"end":{"line":188,"column":75,"offset":8775}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"let MATCH = PACKAGE","position":{"start":{"line":189,"column":4,"offset":8779},"end":{"line":189,"column":23,"offset":8798}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"EXPORTS","position":{"start":{"line":189,"column":24,"offset":8799},"end":{"line":189,"column":31,"offset":8806}}}],"position":{"start":{"line":189,"column":23,"offset":8798},"end":{"line":189,"column":32,"offset":8807}}},{"type":"text","value":"RESOLVE(pathToFileURL(SCOPE),\n\".\" + X.slice(\"name\".length), ","position":{"start":{"line":189,"column":32,"offset":8807},"end":{"line":190,"column":34,"offset":8870}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"package.json"}],"position":{"start":{"line":190,"column":34,"offset":8870},"end":{"line":190,"column":48,"offset":8884}}},{"type":"text","value":" \"exports\", ","position":{"start":{"line":190,"column":48,"offset":8884},"end":{"line":190,"column":60,"offset":8896}}},{"type":"text","value":"[\"node\", \"require\"]","position":{"start":{"line":190,"column":61,"offset":8897},"end":{"line":190,"column":78,"offset":8914}}},{"type":"text","value":")\n","position":{"start":{"line":190,"column":79,"offset":8915},"end":{"line":191,"column":4,"offset":8920}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/esm.md#resolver-algorithm-specification"},"children":[{"type":"text","value":"defined in the ESM resolver","position":{"start":{"line":191,"column":5,"offset":8921},"end":{"line":191,"column":32,"offset":8948}}}],"position":{"start":{"line":191,"column":4,"offset":8920},"end":{"line":191,"column":97,"offset":9013}}},{"type":"text","value":".","position":{"start":{"line":191,"column":97,"offset":9013},"end":{"line":191,"column":98,"offset":9014}}}],"position":{"start":{"line":189,"column":1,"offset":8776},"end":{"line":191,"column":98,"offset":9014}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"RESOLVE","position":{"start":{"line":192,"column":4,"offset":9018},"end":{"line":192,"column":11,"offset":9025}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"ESM","position":{"start":{"line":192,"column":12,"offset":9026},"end":{"line":192,"column":15,"offset":9029}}}],"position":{"start":{"line":192,"column":11,"offset":9025},"end":{"line":192,"column":16,"offset":9030}}},{"type":"text","value":"MATCH(MATCH)","position":{"start":{"line":192,"column":16,"offset":9030},"end":{"line":192,"column":28,"offset":9042}}}],"position":{"start":{"line":192,"column":1,"offset":9015},"end":{"line":192,"column":28,"offset":9042}}},{"type":"text","value":"\n"}],"position":{"start":{"line":185,"column":1,"offset":8550},"end":{"line":192,"column":28,"offset":9042}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"RESOLVE","position":{"start":{"line":194,"column":1,"offset":9044},"end":{"line":194,"column":8,"offset":9051}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"ESM","position":{"start":{"line":194,"column":9,"offset":9052},"end":{"line":194,"column":12,"offset":9055}}}],"position":{"start":{"line":194,"column":8,"offset":9051},"end":{"line":194,"column":13,"offset":9056}}},{"type":"text","value":"MATCH(MATCH)","position":{"start":{"line":194,"column":13,"offset":9056},"end":{"line":194,"column":25,"offset":9068}}}],"position":{"start":{"line":194,"column":1,"offset":9044},"end":{"line":194,"column":25,"offset":9068}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"let { RESOLVED, EXACT } = MATCH","position":{"start":{"line":196,"column":4,"offset":9073},"end":{"line":196,"column":35,"offset":9104}}}],"position":{"start":{"line":196,"column":1,"offset":9070},"end":{"line":196,"column":35,"offset":9104}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"let RESOLVED_PATH = fileURLToPath(RESOLVED)","position":{"start":{"line":197,"column":4,"offset":9108},"end":{"line":197,"column":47,"offset":9151}}}],"position":{"start":{"line":197,"column":1,"offset":9105},"end":{"line":197,"column":47,"offset":9151}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If EXACT is true,\na. If the file at RESOLVED","position":{"start":{"line":198,"column":4,"offset":9155},"end":{"line":199,"column":30,"offset":9202}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"PATH exists, load RESOLVED","position":{"start":{"line":199,"column":31,"offset":9203},"end":{"line":199,"column":57,"offset":9229}}}],"position":{"start":{"line":199,"column":30,"offset":9202},"end":{"line":199,"column":58,"offset":9230}}},{"type":"text","value":"PATH as its extension\nformat. STOP","position":{"start":{"line":199,"column":58,"offset":9230},"end":{"line":200,"column":16,"offset":9267}}}],"position":{"start":{"line":198,"column":1,"offset":9152},"end":{"line":200,"column":16,"offset":9267}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Otherwise, if EXACT is false,\na. LOAD","position":{"start":{"line":201,"column":4,"offset":9271},"end":{"line":202,"column":11,"offset":9311}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"AS","position":{"start":{"line":202,"column":12,"offset":9312},"end":{"line":202,"column":14,"offset":9314}}}],"position":{"start":{"line":202,"column":11,"offset":9311},"end":{"line":202,"column":15,"offset":9315}}},{"type":"text","value":"FILE(RESOLVED","position":{"start":{"line":202,"column":15,"offset":9315},"end":{"line":202,"column":28,"offset":9328}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"PATH)\nb. LOAD","position":{"start":{"line":202,"column":29,"offset":9329},"end":{"line":203,"column":11,"offset":9345}}}],"position":{"start":{"line":202,"column":28,"offset":9328},"end":{"line":203,"column":12,"offset":9346}}},{"type":"text","value":"AS","position":{"start":{"line":203,"column":12,"offset":9346},"end":{"line":203,"column":14,"offset":9348}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"DIRECTORY(RESOLVED","position":{"start":{"line":203,"column":15,"offset":9349},"end":{"line":203,"column":33,"offset":9367}}}],"position":{"start":{"line":203,"column":14,"offset":9348},"end":{"line":203,"column":34,"offset":9368}}},{"type":"text","value":"PATH)","position":{"start":{"line":203,"column":34,"offset":9368},"end":{"line":203,"column":39,"offset":9373}}}],"position":{"start":{"line":201,"column":1,"offset":9268},"end":{"line":203,"column":39,"offset":9373}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"THROW \"not found\"","position":{"start":{"line":204,"column":4,"offset":9377},"end":{"line":204,"column":21,"offset":9394}}}],"position":{"start":{"line":204,"column":1,"offset":9374},"end":{"line":204,"column":21,"offset":9394}}},{"type":"text","value":"\n"}],"position":{"start":{"line":196,"column":1,"offset":9070},"end":{"line":204,"column":21,"offset":9394}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Caching","position":{"start":{"line":206,"column":5,"offset":9400},"end":{"line":206,"column":12,"offset":9407}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_caching"},"children":[{"type":"text","value":"#","position":{"start":{"line":206,"column":13,"offset":9408},"end":{"line":206,"column":14,"offset":9409}}}],"position":{"start":{"line":206,"column":12,"offset":9407},"end":{"line":206,"column":68,"offset":9463}}}],"position":{"start":{"line":206,"column":1,"offset":9396},"end":{"line":206,"column":68,"offset":9463}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Modules are cached after the first time they are loaded. This means (among other things) that every call to ","position":{"start":{"line":208,"column":1,"offset":9465},"end":{"line":208,"column":109,"offset":9573}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('foo')"}],"position":{"start":{"line":208,"column":109,"offset":9573},"end":{"line":208,"column":125,"offset":9589}}},{"type":"text","value":" will get exactly the same object returned, if it would resolve to the same file.","position":{"start":{"line":208,"column":125,"offset":9589},"end":{"line":208,"column":206,"offset":9670}}}],"position":{"start":{"line":208,"column":1,"offset":9465},"end":{"line":208,"column":206,"offset":9670}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Provided ","position":{"start":{"line":210,"column":1,"offset":9672},"end":{"line":210,"column":10,"offset":9681}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.cache"}],"position":{"start":{"line":210,"column":10,"offset":9681},"end":{"line":210,"column":25,"offset":9696}}},{"type":"text","value":" is not modified, multiple calls to ","position":{"start":{"line":210,"column":25,"offset":9696},"end":{"line":210,"column":61,"offset":9732}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('foo')"}],"position":{"start":{"line":210,"column":61,"offset":9732},"end":{"line":210,"column":77,"offset":9748}}},{"type":"text","value":" will not cause the module code to be executed multiple times. This is an important feature. With it, \"partially done\" objects can be returned, thus allowing transitive dependencies to be loaded even when they would cause cycles.","position":{"start":{"line":210,"column":77,"offset":9748},"end":{"line":210,"column":306,"offset":9977}}}],"position":{"start":{"line":210,"column":1,"offset":9672},"end":{"line":210,"column":306,"offset":9977}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To have a module execute code multiple times, export a function, and call that function.","position":{"start":{"line":212,"column":1,"offset":9979},"end":{"line":212,"column":89,"offset":10067}}}],"position":{"start":{"line":212,"column":1,"offset":9979},"end":{"line":212,"column":89,"offset":10067}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"text","value":"Module caching caveats","position":{"start":{"line":214,"column":6,"offset":10074},"end":{"line":214,"column":28,"offset":10096}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_caching_caveats"},"children":[{"type":"text","value":"#","position":{"start":{"line":214,"column":29,"offset":10097},"end":{"line":214,"column":30,"offset":10098}}}],"position":{"start":{"line":214,"column":28,"offset":10096},"end":{"line":214,"column":99,"offset":10167}}}],"position":{"start":{"line":214,"column":1,"offset":10069},"end":{"line":214,"column":99,"offset":10167}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Modules are cached based on their resolved filename. Since modules may resolve to a different filename based on the location of the calling module (loading from ","position":{"start":{"line":216,"column":1,"offset":10169},"end":{"line":216,"column":162,"offset":10330}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node_modules"}],"position":{"start":{"line":216,"column":162,"offset":10330},"end":{"line":216,"column":176,"offset":10344}}},{"type":"text","value":" folders), it is not a ","position":{"start":{"line":216,"column":176,"offset":10344},"end":{"line":216,"column":199,"offset":10367}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"guarantee","position":{"start":{"line":216,"column":200,"offset":10368},"end":{"line":216,"column":209,"offset":10377}}}],"position":{"start":{"line":216,"column":199,"offset":10367},"end":{"line":216,"column":210,"offset":10378}}},{"type":"text","value":" that ","position":{"start":{"line":216,"column":210,"offset":10378},"end":{"line":216,"column":216,"offset":10384}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('foo')"}],"position":{"start":{"line":216,"column":216,"offset":10384},"end":{"line":216,"column":232,"offset":10400}}},{"type":"text","value":" will always return the exact same object, if it would resolve to different files.","position":{"start":{"line":216,"column":232,"offset":10400},"end":{"line":216,"column":314,"offset":10482}}}],"position":{"start":{"line":216,"column":1,"offset":10169},"end":{"line":216,"column":314,"offset":10482}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Additionally, on case-insensitive file systems or operating systems, different resolved filenames can point to the same file, but the cache will still treat them as different modules and will reload the file multiple times. For example, ","position":{"start":{"line":218,"column":1,"offset":10484},"end":{"line":218,"column":238,"offset":10721}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('./foo')"}],"position":{"start":{"line":218,"column":238,"offset":10721},"end":{"line":218,"column":256,"offset":10739}}},{"type":"text","value":" and ","position":{"start":{"line":218,"column":256,"offset":10739},"end":{"line":218,"column":261,"offset":10744}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('./FOO')"}],"position":{"start":{"line":218,"column":261,"offset":10744},"end":{"line":218,"column":279,"offset":10762}}},{"type":"text","value":" return two different objects, irrespective of whether or not ","position":{"start":{"line":218,"column":279,"offset":10762},"end":{"line":218,"column":341,"offset":10824}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"./foo"}],"position":{"start":{"line":218,"column":341,"offset":10824},"end":{"line":218,"column":348,"offset":10831}}},{"type":"text","value":" and ","position":{"start":{"line":218,"column":348,"offset":10831},"end":{"line":218,"column":353,"offset":10836}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"./FOO"}],"position":{"start":{"line":218,"column":353,"offset":10836},"end":{"line":218,"column":360,"offset":10843}}},{"type":"text","value":" are the same file.","position":{"start":{"line":218,"column":360,"offset":10843},"end":{"line":218,"column":379,"offset":10862}}}],"position":{"start":{"line":218,"column":1,"offset":10484},"end":{"line":218,"column":379,"offset":10862}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Core modules","position":{"start":{"line":220,"column":5,"offset":10868},"end":{"line":220,"column":17,"offset":10880}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_core_modules"},"children":[{"type":"text","value":"#","position":{"start":{"line":220,"column":18,"offset":10881},"end":{"line":220,"column":19,"offset":10882}}}],"position":{"start":{"line":220,"column":17,"offset":10880},"end":{"line":220,"column":78,"offset":10941}}}],"position":{"start":{"line":220,"column":1,"offset":10864},"end":{"line":220,"column":78,"offset":10941}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"History","position":{"start":{"line":222,"column":1,"offset":10943},"end":{"line":222,"column":8,"offset":10950}}}],"position":{"start":{"line":222,"column":1,"offset":10943},"end":{"line":222,"column":8,"offset":10950}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Node.js has several modules compiled into the binary. These modules are described in greater detail elsewhere in this documentation.","position":{"start":{"line":224,"column":1,"offset":10952},"end":{"line":224,"column":133,"offset":11084}}}],"position":{"start":{"line":224,"column":1,"offset":10952},"end":{"line":224,"column":133,"offset":11084}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The core modules are defined within the Node.js source and are located in the ","position":{"start":{"line":226,"column":1,"offset":11086},"end":{"line":226,"column":79,"offset":11164}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"lib/"}],"position":{"start":{"line":226,"column":79,"offset":11164},"end":{"line":226,"column":85,"offset":11170}}},{"type":"text","value":" folder.","position":{"start":{"line":226,"column":85,"offset":11170},"end":{"line":226,"column":93,"offset":11178}}}],"position":{"start":{"line":226,"column":1,"offset":11086},"end":{"line":226,"column":93,"offset":11178}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Core modules are always preferentially loaded if their identifier is passed to ","position":{"start":{"line":228,"column":1,"offset":11180},"end":{"line":228,"column":80,"offset":11259}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":228,"column":80,"offset":11259},"end":{"line":228,"column":91,"offset":11270}}},{"type":"text","value":". For instance, ","position":{"start":{"line":228,"column":91,"offset":11270},"end":{"line":228,"column":107,"offset":11286}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('http')"}],"position":{"start":{"line":228,"column":107,"offset":11286},"end":{"line":228,"column":124,"offset":11303}}},{"type":"text","value":" will always return the built in HTTP module, even if there is a file by that name.","position":{"start":{"line":228,"column":124,"offset":11303},"end":{"line":228,"column":207,"offset":11386}}}],"position":{"start":{"line":228,"column":1,"offset":11180},"end":{"line":228,"column":207,"offset":11386}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Core modules can also be identified using the ","position":{"start":{"line":230,"column":1,"offset":11388},"end":{"line":230,"column":47,"offset":11434}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node:"}],"position":{"start":{"line":230,"column":47,"offset":11434},"end":{"line":230,"column":54,"offset":11441}}},{"type":"text","value":" prefix, in which case it bypasses the ","position":{"start":{"line":230,"column":54,"offset":11441},"end":{"line":230,"column":93,"offset":11480}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require"}],"position":{"start":{"line":230,"column":93,"offset":11480},"end":{"line":230,"column":102,"offset":11489}}},{"type":"text","value":" cache. For instance, ","position":{"start":{"line":230,"column":102,"offset":11489},"end":{"line":230,"column":124,"offset":11511}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('node:http')"}],"position":{"start":{"line":230,"column":124,"offset":11511},"end":{"line":230,"column":146,"offset":11533}}},{"type":"text","value":" will always return the built in HTTP module, even if there is ","position":{"start":{"line":230,"column":146,"offset":11533},"end":{"line":230,"column":209,"offset":11596}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.cache"}],"position":{"start":{"line":230,"column":209,"offset":11596},"end":{"line":230,"column":224,"offset":11611}}},{"type":"text","value":" entry by that name.","position":{"start":{"line":230,"column":224,"offset":11611},"end":{"line":230,"column":244,"offset":11631}}}],"position":{"start":{"line":230,"column":1,"offset":11388},"end":{"line":230,"column":244,"offset":11631}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Cycles","position":{"start":{"line":232,"column":5,"offset":11637},"end":{"line":232,"column":11,"offset":11643}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_cycles"},"children":[{"type":"text","value":"#","position":{"start":{"line":232,"column":12,"offset":11644},"end":{"line":232,"column":13,"offset":11645}}}],"position":{"start":{"line":232,"column":11,"offset":11643},"end":{"line":232,"column":66,"offset":11698}}}],"position":{"start":{"line":232,"column":1,"offset":11633},"end":{"line":232,"column":66,"offset":11698}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When there are circular ","position":{"start":{"line":234,"column":1,"offset":11700},"end":{"line":234,"column":25,"offset":11724}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":234,"column":25,"offset":11724},"end":{"line":234,"column":36,"offset":11735}}},{"type":"text","value":" calls, a module might not have finished executing when it is returned.","position":{"start":{"line":234,"column":36,"offset":11735},"end":{"line":234,"column":107,"offset":11806}}}],"position":{"start":{"line":234,"column":1,"offset":11700},"end":{"line":234,"column":107,"offset":11806}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Consider this situation:","position":{"start":{"line":236,"column":1,"offset":11808},"end":{"line":236,"column":25,"offset":11832}}}],"position":{"start":{"line":236,"column":1,"offset":11808},"end":{"line":236,"column":25,"offset":11832}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"a.js"}],"position":{"start":{"line":238,"column":1,"offset":11834},"end":{"line":238,"column":7,"offset":11840}}},{"type":"text","value":":","position":{"start":{"line":238,"column":7,"offset":11840},"end":{"line":238,"column":8,"offset":11841}}}],"position":{"start":{"line":238,"column":1,"offset":11834},"end":{"line":238,"column":8,"offset":11841}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"console.log('a starting');\nexports.done = false;\nconst b = require('./b.js');\nconsole.log('in a, b.done = %j', b.done);\nexports.done = true;\nconsole.log('a done');\n"}],"position":{"start":{"line":240,"column":1,"offset":11843},"end":{"line":247,"column":4,"offset":12014}}}],"position":{"start":{"line":240,"column":1,"offset":11843},"end":{"line":247,"column":4,"offset":12014}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"b.js"}],"position":{"start":{"line":249,"column":1,"offset":12016},"end":{"line":249,"column":7,"offset":12022}}},{"type":"text","value":":","position":{"start":{"line":249,"column":7,"offset":12022},"end":{"line":249,"column":8,"offset":12023}}}],"position":{"start":{"line":249,"column":1,"offset":12016},"end":{"line":249,"column":8,"offset":12023}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"console.log('b starting');\nexports.done = false;\nconst a = require('./a.js');\nconsole.log('in b, a.done = %j', a.done);\nexports.done = true;\nconsole.log('b done');\n"}],"position":{"start":{"line":251,"column":1,"offset":12025},"end":{"line":258,"column":4,"offset":12196}}}],"position":{"start":{"line":251,"column":1,"offset":12025},"end":{"line":258,"column":4,"offset":12196}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"main.js"}],"position":{"start":{"line":260,"column":1,"offset":12198},"end":{"line":260,"column":10,"offset":12207}}},{"type":"text","value":":","position":{"start":{"line":260,"column":10,"offset":12207},"end":{"line":260,"column":11,"offset":12208}}}],"position":{"start":{"line":260,"column":1,"offset":12198},"end":{"line":260,"column":11,"offset":12208}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"console.log('main starting');\nconst a = require('./a.js');\nconst b = require('./b.js');\nconsole.log('in main, a.done = %j, b.done = %j', a.done, b.done);\n"}],"position":{"start":{"line":262,"column":1,"offset":12210},"end":{"line":267,"column":4,"offset":12371}}}],"position":{"start":{"line":262,"column":1,"offset":12210},"end":{"line":267,"column":4,"offset":12371}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When ","position":{"start":{"line":269,"column":1,"offset":12373},"end":{"line":269,"column":6,"offset":12378}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"main.js"}],"position":{"start":{"line":269,"column":6,"offset":12378},"end":{"line":269,"column":15,"offset":12387}}},{"type":"text","value":" loads ","position":{"start":{"line":269,"column":15,"offset":12387},"end":{"line":269,"column":22,"offset":12394}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"a.js"}],"position":{"start":{"line":269,"column":22,"offset":12394},"end":{"line":269,"column":28,"offset":12400}}},{"type":"text","value":", then ","position":{"start":{"line":269,"column":28,"offset":12400},"end":{"line":269,"column":35,"offset":12407}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"a.js"}],"position":{"start":{"line":269,"column":35,"offset":12407},"end":{"line":269,"column":41,"offset":12413}}},{"type":"text","value":" in turn loads ","position":{"start":{"line":269,"column":41,"offset":12413},"end":{"line":269,"column":56,"offset":12428}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"b.js"}],"position":{"start":{"line":269,"column":56,"offset":12428},"end":{"line":269,"column":62,"offset":12434}}},{"type":"text","value":". At that point, ","position":{"start":{"line":269,"column":62,"offset":12434},"end":{"line":269,"column":79,"offset":12451}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"b.js"}],"position":{"start":{"line":269,"column":79,"offset":12451},"end":{"line":269,"column":85,"offset":12457}}},{"type":"text","value":" tries to load ","position":{"start":{"line":269,"column":85,"offset":12457},"end":{"line":269,"column":100,"offset":12472}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"a.js"}],"position":{"start":{"line":269,"column":100,"offset":12472},"end":{"line":269,"column":106,"offset":12478}}},{"type":"text","value":". In order to prevent an infinite loop, an unfinished copy of the ","position":{"start":{"line":269,"column":106,"offset":12478},"end":{"line":269,"column":172,"offset":12544}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"a.js"}],"position":{"start":{"line":269,"column":172,"offset":12544},"end":{"line":269,"column":178,"offset":12550}}},{"type":"text","value":" exports object is returned to the ","position":{"start":{"line":269,"column":178,"offset":12550},"end":{"line":269,"column":213,"offset":12585}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"b.js"}],"position":{"start":{"line":269,"column":213,"offset":12585},"end":{"line":269,"column":219,"offset":12591}}},{"type":"text","value":" module. ","position":{"start":{"line":269,"column":219,"offset":12591},"end":{"line":269,"column":228,"offset":12600}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"b.js"}],"position":{"start":{"line":269,"column":228,"offset":12600},"end":{"line":269,"column":234,"offset":12606}}},{"type":"text","value":" then finishes loading, and its ","position":{"start":{"line":269,"column":234,"offset":12606},"end":{"line":269,"column":266,"offset":12638}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":269,"column":266,"offset":12638},"end":{"line":269,"column":275,"offset":12647}}},{"type":"text","value":" object is provided to the ","position":{"start":{"line":269,"column":275,"offset":12647},"end":{"line":269,"column":302,"offset":12674}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"a.js"}],"position":{"start":{"line":269,"column":302,"offset":12674},"end":{"line":269,"column":308,"offset":12680}}},{"type":"text","value":" module.","position":{"start":{"line":269,"column":308,"offset":12680},"end":{"line":269,"column":316,"offset":12688}}}],"position":{"start":{"line":269,"column":1,"offset":12373},"end":{"line":269,"column":316,"offset":12688}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"By the time ","position":{"start":{"line":271,"column":1,"offset":12690},"end":{"line":271,"column":13,"offset":12702}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"main.js"}],"position":{"start":{"line":271,"column":13,"offset":12702},"end":{"line":271,"column":22,"offset":12711}}},{"type":"text","value":" has loaded both modules, they're both finished. The output of this program would thus be:","position":{"start":{"line":271,"column":22,"offset":12711},"end":{"line":271,"column":112,"offset":12801}}}],"position":{"start":{"line":271,"column":1,"offset":12690},"end":{"line":271,"column":112,"offset":12801}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$ node main.js\nmain starting\na starting\nb starting\nin b, a.done = false\nb done\nin a, b.done = true\na done\nin main, a.done = true, b.done = true\n"}],"position":{"start":{"line":273,"column":1,"offset":12803},"end":{"line":283,"column":4,"offset":12954}}}],"position":{"start":{"line":273,"column":1,"offset":12803},"end":{"line":283,"column":4,"offset":12954}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Careful planning is required to allow cyclic module dependencies to work correctly within an application.","position":{"start":{"line":285,"column":1,"offset":12956},"end":{"line":285,"column":106,"offset":13061}}}],"position":{"start":{"line":285,"column":1,"offset":12956},"end":{"line":285,"column":106,"offset":13061}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"File modules","position":{"start":{"line":287,"column":5,"offset":13067},"end":{"line":287,"column":17,"offset":13079}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_file_modules"},"children":[{"type":"text","value":"#","position":{"start":{"line":287,"column":18,"offset":13080},"end":{"line":287,"column":19,"offset":13081}}}],"position":{"start":{"line":287,"column":17,"offset":13079},"end":{"line":287,"column":78,"offset":13140}}}],"position":{"start":{"line":287,"column":1,"offset":13063},"end":{"line":287,"column":78,"offset":13140}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If the exact filename is not found, then Node.js will attempt to load the required filename with the added extensions: ","position":{"start":{"line":289,"column":1,"offset":13142},"end":{"line":289,"column":120,"offset":13261}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".js"}],"position":{"start":{"line":289,"column":120,"offset":13261},"end":{"line":289,"column":125,"offset":13266}}},{"type":"text","value":", ","position":{"start":{"line":289,"column":125,"offset":13266},"end":{"line":289,"column":127,"offset":13268}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".json"}],"position":{"start":{"line":289,"column":127,"offset":13268},"end":{"line":289,"column":134,"offset":13275}}},{"type":"text","value":", and finally ","position":{"start":{"line":289,"column":134,"offset":13275},"end":{"line":289,"column":148,"offset":13289}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".node"}],"position":{"start":{"line":289,"column":148,"offset":13289},"end":{"line":289,"column":155,"offset":13296}}},{"type":"text","value":".","position":{"start":{"line":289,"column":155,"offset":13296},"end":{"line":289,"column":156,"offset":13297}}}],"position":{"start":{"line":289,"column":1,"offset":13142},"end":{"line":289,"column":156,"offset":13297}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".js"}],"position":{"start":{"line":291,"column":1,"offset":13299},"end":{"line":291,"column":6,"offset":13304}}},{"type":"text","value":" files are interpreted as JavaScript text files, and ","position":{"start":{"line":291,"column":6,"offset":13304},"end":{"line":291,"column":59,"offset":13357}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".json"}],"position":{"start":{"line":291,"column":59,"offset":13357},"end":{"line":291,"column":66,"offset":13364}}},{"type":"text","value":" files are parsed as JSON text files. ","position":{"start":{"line":291,"column":66,"offset":13364},"end":{"line":291,"column":104,"offset":13402}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".node"}],"position":{"start":{"line":291,"column":104,"offset":13402},"end":{"line":291,"column":111,"offset":13409}}},{"type":"text","value":" files are interpreted as compiled addon modules loaded with ","position":{"start":{"line":291,"column":111,"offset":13409},"end":{"line":291,"column":172,"offset":13470}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"process.dlopen()"}],"position":{"start":{"line":291,"column":172,"offset":13470},"end":{"line":291,"column":190,"offset":13488}}},{"type":"text","value":".","position":{"start":{"line":291,"column":190,"offset":13488},"end":{"line":291,"column":191,"offset":13489}}}],"position":{"start":{"line":291,"column":1,"offset":13299},"end":{"line":291,"column":191,"offset":13489}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A required module prefixed with ","position":{"start":{"line":293,"column":1,"offset":13491},"end":{"line":293,"column":33,"offset":13523}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"'/'"}],"position":{"start":{"line":293,"column":33,"offset":13523},"end":{"line":293,"column":38,"offset":13528}}},{"type":"text","value":" is an absolute path to the file. For example, ","position":{"start":{"line":293,"column":38,"offset":13528},"end":{"line":293,"column":85,"offset":13575}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('/home/marco/foo.js')"}],"position":{"start":{"line":293,"column":85,"offset":13575},"end":{"line":293,"column":116,"offset":13606}}},{"type":"text","value":" will load the file at ","position":{"start":{"line":293,"column":116,"offset":13606},"end":{"line":293,"column":139,"offset":13629}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/home/marco/foo.js"}],"position":{"start":{"line":293,"column":139,"offset":13629},"end":{"line":293,"column":159,"offset":13649}}},{"type":"text","value":".","position":{"start":{"line":293,"column":159,"offset":13649},"end":{"line":293,"column":160,"offset":13650}}}],"position":{"start":{"line":293,"column":1,"offset":13491},"end":{"line":293,"column":160,"offset":13650}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A required module prefixed with ","position":{"start":{"line":295,"column":1,"offset":13652},"end":{"line":295,"column":33,"offset":13684}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"'./'"}],"position":{"start":{"line":295,"column":33,"offset":13684},"end":{"line":295,"column":39,"offset":13690}}},{"type":"text","value":" is relative to the file calling ","position":{"start":{"line":295,"column":39,"offset":13690},"end":{"line":295,"column":72,"offset":13723}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":295,"column":72,"offset":13723},"end":{"line":295,"column":83,"offset":13734}}},{"type":"text","value":". That is, ","position":{"start":{"line":295,"column":83,"offset":13734},"end":{"line":295,"column":94,"offset":13745}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"circle.js"}],"position":{"start":{"line":295,"column":94,"offset":13745},"end":{"line":295,"column":105,"offset":13756}}},{"type":"text","value":" must be in the same directory as ","position":{"start":{"line":295,"column":105,"offset":13756},"end":{"line":295,"column":139,"offset":13790}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"foo.js"}],"position":{"start":{"line":295,"column":139,"offset":13790},"end":{"line":295,"column":147,"offset":13798}}},{"type":"text","value":" for ","position":{"start":{"line":295,"column":147,"offset":13798},"end":{"line":295,"column":152,"offset":13803}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('./circle')"}],"position":{"start":{"line":295,"column":152,"offset":13803},"end":{"line":295,"column":173,"offset":13824}}},{"type":"text","value":" to find it.","position":{"start":{"line":295,"column":173,"offset":13824},"end":{"line":295,"column":185,"offset":13836}}}],"position":{"start":{"line":295,"column":1,"offset":13652},"end":{"line":295,"column":185,"offset":13836}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Without a leading ","position":{"start":{"line":297,"column":1,"offset":13838},"end":{"line":297,"column":19,"offset":13856}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"'/'"}],"position":{"start":{"line":297,"column":19,"offset":13856},"end":{"line":297,"column":24,"offset":13861}}},{"type":"text","value":", ","position":{"start":{"line":297,"column":24,"offset":13861},"end":{"line":297,"column":26,"offset":13863}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"'./'"}],"position":{"start":{"line":297,"column":26,"offset":13863},"end":{"line":297,"column":32,"offset":13869}}},{"type":"text","value":", or ","position":{"start":{"line":297,"column":32,"offset":13869},"end":{"line":297,"column":37,"offset":13874}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"'../'"}],"position":{"start":{"line":297,"column":37,"offset":13874},"end":{"line":297,"column":44,"offset":13881}}},{"type":"text","value":" to indicate a file, the module must either be a core module or is loaded from a ","position":{"start":{"line":297,"column":44,"offset":13881},"end":{"line":297,"column":125,"offset":13962}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node_modules"}],"position":{"start":{"line":297,"column":125,"offset":13962},"end":{"line":297,"column":139,"offset":13976}}},{"type":"text","value":" folder.","position":{"start":{"line":297,"column":139,"offset":13976},"end":{"line":297,"column":147,"offset":13984}}}],"position":{"start":{"line":297,"column":1,"offset":13838},"end":{"line":297,"column":147,"offset":13984}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If the given path does not exist, ","position":{"start":{"line":299,"column":1,"offset":13986},"end":{"line":299,"column":35,"offset":14020}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":299,"column":35,"offset":14020},"end":{"line":299,"column":46,"offset":14031}}},{"type":"text","value":" will throw an ","position":{"start":{"line":299,"column":46,"offset":14031},"end":{"line":299,"column":61,"offset":14046}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/errors.html#errors_class_error"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Error"}],"position":{"start":{"line":299,"column":62,"offset":14047},"end":{"line":299,"column":69,"offset":14054}}}],"position":{"start":{"line":299,"column":61,"offset":14046},"end":{"line":299,"column":125,"offset":14110}}},{"type":"text","value":" with its ","position":{"start":{"line":299,"column":125,"offset":14110},"end":{"line":299,"column":135,"offset":14120}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"code"}],"position":{"start":{"line":299,"column":135,"offset":14120},"end":{"line":299,"column":141,"offset":14126}}},{"type":"text","value":" property set to ","position":{"start":{"line":299,"column":141,"offset":14126},"end":{"line":299,"column":158,"offset":14143}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"'MODULE_NOT_FOUND'"}],"position":{"start":{"line":299,"column":158,"offset":14143},"end":{"line":299,"column":178,"offset":14163}}},{"type":"text","value":".","position":{"start":{"line":299,"column":178,"offset":14163},"end":{"line":299,"column":179,"offset":14164}}}],"position":{"start":{"line":299,"column":1,"offset":13986},"end":{"line":299,"column":179,"offset":14164}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Folders as modules","position":{"start":{"line":301,"column":5,"offset":14170},"end":{"line":301,"column":23,"offset":14188}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_folders_as_modules"},"children":[{"type":"text","value":"#","position":{"start":{"line":301,"column":24,"offset":14189},"end":{"line":301,"column":25,"offset":14190}}}],"position":{"start":{"line":301,"column":23,"offset":14188},"end":{"line":301,"column":90,"offset":14255}}}],"position":{"start":{"line":301,"column":1,"offset":14166},"end":{"line":301,"column":90,"offset":14255}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"It is convenient to organize programs and libraries into self-contained directories, and then provide a single entry point to those directories. There are three ways in which a folder may be passed to ","position":{"start":{"line":303,"column":1,"offset":14257},"end":{"line":303,"column":202,"offset":14458}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":303,"column":202,"offset":14458},"end":{"line":303,"column":213,"offset":14469}}},{"type":"text","value":" as an argument.","position":{"start":{"line":303,"column":213,"offset":14469},"end":{"line":303,"column":229,"offset":14485}}}],"position":{"start":{"line":303,"column":1,"offset":14257},"end":{"line":303,"column":229,"offset":14485}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The first is to create a ","position":{"start":{"line":305,"column":1,"offset":14487},"end":{"line":305,"column":26,"offset":14512}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/packages.html#packages_node_js_package_json_field_definitions"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"package.json"}],"position":{"start":{"line":305,"column":27,"offset":14513},"end":{"line":305,"column":41,"offset":14527}}}],"position":{"start":{"line":305,"column":26,"offset":14512},"end":{"line":305,"column":128,"offset":14614}}},{"type":"text","value":" file in the root of the folder, which specifies a ","position":{"start":{"line":305,"column":128,"offset":14614},"end":{"line":305,"column":179,"offset":14665}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"main"}],"position":{"start":{"line":305,"column":179,"offset":14665},"end":{"line":305,"column":185,"offset":14671}}},{"type":"text","value":" module. An example ","position":{"start":{"line":305,"column":185,"offset":14671},"end":{"line":305,"column":205,"offset":14691}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/packages.html#packages_node_js_package_json_field_definitions"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"package.json"}],"position":{"start":{"line":305,"column":206,"offset":14692},"end":{"line":305,"column":220,"offset":14706}}}],"position":{"start":{"line":305,"column":205,"offset":14691},"end":{"line":305,"column":307,"offset":14793}}},{"type":"text","value":" file might look like this:","position":{"start":{"line":305,"column":307,"offset":14793},"end":{"line":305,"column":334,"offset":14820}}}],"position":{"start":{"line":305,"column":1,"offset":14487},"end":{"line":305,"column":334,"offset":14820}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"{ \"name\" : \"some-library\",\n  \"main\" : \"./lib/some-library.js\" }\n"}],"position":{"start":{"line":307,"column":1,"offset":14822},"end":{"line":310,"column":4,"offset":14893}}}],"position":{"start":{"line":307,"column":1,"offset":14822},"end":{"line":310,"column":4,"offset":14893}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If this was in a folder at ","position":{"start":{"line":312,"column":1,"offset":14895},"end":{"line":312,"column":28,"offset":14922}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"./some-library"}],"position":{"start":{"line":312,"column":28,"offset":14922},"end":{"line":312,"column":44,"offset":14938}}},{"type":"text","value":", then ","position":{"start":{"line":312,"column":44,"offset":14938},"end":{"line":312,"column":51,"offset":14945}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('./some-library')"}],"position":{"start":{"line":312,"column":51,"offset":14945},"end":{"line":312,"column":78,"offset":14972}}},{"type":"text","value":" would attempt to load ","position":{"start":{"line":312,"column":78,"offset":14972},"end":{"line":312,"column":101,"offset":14995}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"./some-library/lib/some-library.js"}],"position":{"start":{"line":312,"column":101,"offset":14995},"end":{"line":312,"column":137,"offset":15031}}},{"type":"text","value":".","position":{"start":{"line":312,"column":137,"offset":15031},"end":{"line":312,"column":138,"offset":15032}}}],"position":{"start":{"line":312,"column":1,"offset":14895},"end":{"line":312,"column":138,"offset":15032}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This is the extent of the awareness of ","position":{"start":{"line":314,"column":1,"offset":15034},"end":{"line":314,"column":40,"offset":15073}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"package.json"}],"position":{"start":{"line":314,"column":40,"offset":15073},"end":{"line":314,"column":54,"offset":15087}}},{"type":"text","value":" files within Node.js.","position":{"start":{"line":314,"column":54,"offset":15087},"end":{"line":314,"column":76,"offset":15109}}}],"position":{"start":{"line":314,"column":1,"offset":15034},"end":{"line":314,"column":76,"offset":15109}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If there is no ","position":{"start":{"line":316,"column":1,"offset":15111},"end":{"line":316,"column":16,"offset":15126}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/packages.html#packages_node_js_package_json_field_definitions"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"package.json"}],"position":{"start":{"line":316,"column":17,"offset":15127},"end":{"line":316,"column":31,"offset":15141}}}],"position":{"start":{"line":316,"column":16,"offset":15126},"end":{"line":316,"column":118,"offset":15228}}},{"type":"text","value":" file present in the directory, or if the ","position":{"start":{"line":316,"column":118,"offset":15228},"end":{"line":316,"column":160,"offset":15270}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/packages.html#packages_main"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"\"main\""}],"position":{"start":{"line":316,"column":161,"offset":15271},"end":{"line":316,"column":169,"offset":15279}}}],"position":{"start":{"line":316,"column":160,"offset":15270},"end":{"line":316,"column":222,"offset":15332}}},{"type":"text","value":" entry is missing or cannot be resolved, then Node.js will attempt to load an ","position":{"start":{"line":316,"column":222,"offset":15332},"end":{"line":316,"column":300,"offset":15410}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"index.js"}],"position":{"start":{"line":316,"column":300,"offset":15410},"end":{"line":316,"column":310,"offset":15420}}},{"type":"text","value":" or ","position":{"start":{"line":316,"column":310,"offset":15420},"end":{"line":316,"column":314,"offset":15424}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"index.node"}],"position":{"start":{"line":316,"column":314,"offset":15424},"end":{"line":316,"column":326,"offset":15436}}},{"type":"text","value":" file out of that directory. For example, if there was no ","position":{"start":{"line":316,"column":326,"offset":15436},"end":{"line":316,"column":384,"offset":15494}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/packages.html#packages_node_js_package_json_field_definitions"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"package.json"}],"position":{"start":{"line":316,"column":385,"offset":15495},"end":{"line":316,"column":399,"offset":15509}}}],"position":{"start":{"line":316,"column":384,"offset":15494},"end":{"line":316,"column":486,"offset":15596}}},{"type":"text","value":" file in the previous example, then ","position":{"start":{"line":316,"column":486,"offset":15596},"end":{"line":316,"column":522,"offset":15632}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('./some-library')"}],"position":{"start":{"line":316,"column":522,"offset":15632},"end":{"line":316,"column":549,"offset":15659}}},{"type":"text","value":" would attempt to load:","position":{"start":{"line":316,"column":549,"offset":15659},"end":{"line":316,"column":572,"offset":15682}}}],"position":{"start":{"line":316,"column":1,"offset":15111},"end":{"line":316,"column":572,"offset":15682}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"./some-library/index.js"}],"position":{"start":{"line":318,"column":3,"offset":15686},"end":{"line":318,"column":28,"offset":15711}}}],"position":{"start":{"line":318,"column":1,"offset":15684},"end":{"line":318,"column":28,"offset":15711}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"./some-library/index.node"}],"position":{"start":{"line":319,"column":3,"offset":15714},"end":{"line":319,"column":30,"offset":15741}}}],"position":{"start":{"line":319,"column":1,"offset":15712},"end":{"line":319,"column":30,"offset":15741}}},{"type":"text","value":"\n"}],"position":{"start":{"line":318,"column":1,"offset":15684},"end":{"line":319,"column":30,"offset":15741}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If these attempts fail, then Node.js will report the entire module as missing with the default error:","position":{"start":{"line":321,"column":1,"offset":15743},"end":{"line":321,"column":102,"offset":15844}}}],"position":{"start":{"line":321,"column":1,"offset":15743},"end":{"line":321,"column":102,"offset":15844}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Error: Cannot find module 'some-library'\n"}],"position":{"start":{"line":323,"column":1,"offset":15846},"end":{"line":325,"column":4,"offset":15894}}}],"position":{"start":{"line":323,"column":1,"offset":15846},"end":{"line":325,"column":4,"offset":15894}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Loading from ","position":{"start":{"line":327,"column":5,"offset":15900},"end":{"line":327,"column":18,"offset":15913}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node_modules"}],"position":{"start":{"line":327,"column":18,"offset":15913},"end":{"line":327,"column":32,"offset":15927}}},{"type":"text","value":" folders","position":{"start":{"line":327,"column":32,"offset":15927},"end":{"line":327,"column":40,"offset":15935}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_loading_from_node_modules_folders"},"children":[{"type":"text","value":"#","position":{"start":{"line":327,"column":41,"offset":15936},"end":{"line":327,"column":42,"offset":15937}}}],"position":{"start":{"line":327,"column":40,"offset":15935},"end":{"line":327,"column":122,"offset":16017}}}],"position":{"start":{"line":327,"column":1,"offset":15896},"end":{"line":327,"column":122,"offset":16017}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If the module identifier passed to ","position":{"start":{"line":329,"column":1,"offset":16019},"end":{"line":329,"column":36,"offset":16054}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":329,"column":36,"offset":16054},"end":{"line":329,"column":47,"offset":16065}}},{"type":"text","value":" is not a ","position":{"start":{"line":329,"column":47,"offset":16065},"end":{"line":329,"column":57,"offset":16075}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_core_modules"},"children":[{"type":"text","value":"core","position":{"start":{"line":329,"column":58,"offset":16076},"end":{"line":329,"column":62,"offset":16080}}}],"position":{"start":{"line":329,"column":57,"offset":16075},"end":{"line":329,"column":121,"offset":16139}}},{"type":"text","value":" module, and does not begin with ","position":{"start":{"line":329,"column":121,"offset":16139},"end":{"line":329,"column":154,"offset":16172}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"'/'"}],"position":{"start":{"line":329,"column":154,"offset":16172},"end":{"line":329,"column":159,"offset":16177}}},{"type":"text","value":", ","position":{"start":{"line":329,"column":159,"offset":16177},"end":{"line":329,"column":161,"offset":16179}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"'../'"}],"position":{"start":{"line":329,"column":161,"offset":16179},"end":{"line":329,"column":168,"offset":16186}}},{"type":"text","value":", or ","position":{"start":{"line":329,"column":168,"offset":16186},"end":{"line":329,"column":173,"offset":16191}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"'./'"}],"position":{"start":{"line":329,"column":173,"offset":16191},"end":{"line":329,"column":179,"offset":16197}}},{"type":"text","value":", then Node.js starts at the parent directory of the current module, and adds ","position":{"start":{"line":329,"column":179,"offset":16197},"end":{"line":329,"column":257,"offset":16275}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/node_modules"}],"position":{"start":{"line":329,"column":257,"offset":16275},"end":{"line":329,"column":272,"offset":16290}}},{"type":"text","value":", and attempts to load the module from that location. Node.js will not append ","position":{"start":{"line":329,"column":272,"offset":16290},"end":{"line":329,"column":350,"offset":16368}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node_modules"}],"position":{"start":{"line":329,"column":350,"offset":16368},"end":{"line":329,"column":364,"offset":16382}}},{"type":"text","value":" to a path already ending in ","position":{"start":{"line":329,"column":364,"offset":16382},"end":{"line":329,"column":393,"offset":16411}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node_modules"}],"position":{"start":{"line":329,"column":393,"offset":16411},"end":{"line":329,"column":407,"offset":16425}}},{"type":"text","value":".","position":{"start":{"line":329,"column":407,"offset":16425},"end":{"line":329,"column":408,"offset":16426}}}],"position":{"start":{"line":329,"column":1,"offset":16019},"end":{"line":329,"column":408,"offset":16426}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If it is not found there, then it moves to the parent directory, and so on, until the root of the file system is reached.","position":{"start":{"line":331,"column":1,"offset":16428},"end":{"line":331,"column":122,"offset":16549}}}],"position":{"start":{"line":331,"column":1,"offset":16428},"end":{"line":331,"column":122,"offset":16549}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"For example, if the file at ","position":{"start":{"line":333,"column":1,"offset":16551},"end":{"line":333,"column":29,"offset":16579}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"'/home/ry/projects/foo.js'"}],"position":{"start":{"line":333,"column":29,"offset":16579},"end":{"line":333,"column":57,"offset":16607}}},{"type":"text","value":" called ","position":{"start":{"line":333,"column":57,"offset":16607},"end":{"line":333,"column":65,"offset":16615}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('bar.js')"}],"position":{"start":{"line":333,"column":65,"offset":16615},"end":{"line":333,"column":84,"offset":16634}}},{"type":"text","value":", then Node.js would look in the following locations, in this order:","position":{"start":{"line":333,"column":84,"offset":16634},"end":{"line":333,"column":152,"offset":16702}}}],"position":{"start":{"line":333,"column":1,"offset":16551},"end":{"line":333,"column":152,"offset":16702}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/home/ry/projects/node_modules/bar.js"}],"position":{"start":{"line":335,"column":3,"offset":16706},"end":{"line":335,"column":42,"offset":16745}}}],"position":{"start":{"line":335,"column":1,"offset":16704},"end":{"line":335,"column":42,"offset":16745}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/home/ry/node_modules/bar.js"}],"position":{"start":{"line":336,"column":3,"offset":16748},"end":{"line":336,"column":33,"offset":16778}}}],"position":{"start":{"line":336,"column":1,"offset":16746},"end":{"line":336,"column":33,"offset":16778}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/home/node_modules/bar.js"}],"position":{"start":{"line":337,"column":3,"offset":16781},"end":{"line":337,"column":30,"offset":16808}}}],"position":{"start":{"line":337,"column":1,"offset":16779},"end":{"line":337,"column":30,"offset":16808}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/node_modules/bar.js"}],"position":{"start":{"line":338,"column":3,"offset":16811},"end":{"line":338,"column":25,"offset":16833}}}],"position":{"start":{"line":338,"column":1,"offset":16809},"end":{"line":338,"column":25,"offset":16833}}},{"type":"text","value":"\n"}],"position":{"start":{"line":335,"column":1,"offset":16704},"end":{"line":338,"column":25,"offset":16833}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This allows programs to localize their dependencies, so that they do not clash.","position":{"start":{"line":340,"column":1,"offset":16835},"end":{"line":340,"column":80,"offset":16914}}}],"position":{"start":{"line":340,"column":1,"offset":16835},"end":{"line":340,"column":80,"offset":16914}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"It is possible to require specific files or sub modules distributed with a module by including a path suffix after the module name. For instance ","position":{"start":{"line":342,"column":1,"offset":16916},"end":{"line":342,"column":146,"offset":17061}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('example-module/path/to/file')"}],"position":{"start":{"line":342,"column":146,"offset":17061},"end":{"line":342,"column":186,"offset":17101}}},{"type":"text","value":" would resolve ","position":{"start":{"line":342,"column":186,"offset":17101},"end":{"line":342,"column":201,"offset":17116}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"path/to/file"}],"position":{"start":{"line":342,"column":201,"offset":17116},"end":{"line":342,"column":215,"offset":17130}}},{"type":"text","value":" relative to where ","position":{"start":{"line":342,"column":215,"offset":17130},"end":{"line":342,"column":234,"offset":17149}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"example-module"}],"position":{"start":{"line":342,"column":234,"offset":17149},"end":{"line":342,"column":250,"offset":17165}}},{"type":"text","value":" is located. The suffixed path follows the same module resolution semantics.","position":{"start":{"line":342,"column":250,"offset":17165},"end":{"line":342,"column":326,"offset":17241}}}],"position":{"start":{"line":342,"column":1,"offset":16916},"end":{"line":342,"column":326,"offset":17241}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Loading from the global folders","position":{"start":{"line":344,"column":5,"offset":17247},"end":{"line":344,"column":36,"offset":17278}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_loading_from_the_global_folders"},"children":[{"type":"text","value":"#","position":{"start":{"line":344,"column":37,"offset":17279},"end":{"line":344,"column":38,"offset":17280}}}],"position":{"start":{"line":344,"column":36,"offset":17278},"end":{"line":344,"column":116,"offset":17358}}}],"position":{"start":{"line":344,"column":1,"offset":17243},"end":{"line":344,"column":116,"offset":17358}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If the ","position":{"start":{"line":346,"column":1,"offset":17360},"end":{"line":346,"column":8,"offset":17367}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"NODE_PATH"}],"position":{"start":{"line":346,"column":8,"offset":17367},"end":{"line":346,"column":19,"offset":17378}}},{"type":"text","value":" environment variable is set to a colon-delimited list of absolute paths, then Node.js will search those paths for modules if they are not found elsewhere.","position":{"start":{"line":346,"column":19,"offset":17378},"end":{"line":346,"column":174,"offset":17533}}}],"position":{"start":{"line":346,"column":1,"offset":17360},"end":{"line":346,"column":174,"offset":17533}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"On Windows, ","position":{"start":{"line":348,"column":1,"offset":17535},"end":{"line":348,"column":13,"offset":17547}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"NODE_PATH"}],"position":{"start":{"line":348,"column":13,"offset":17547},"end":{"line":348,"column":24,"offset":17558}}},{"type":"text","value":" is delimited by semicolons (","position":{"start":{"line":348,"column":24,"offset":17558},"end":{"line":348,"column":53,"offset":17587}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":";"}],"position":{"start":{"line":348,"column":53,"offset":17587},"end":{"line":348,"column":56,"offset":17590}}},{"type":"text","value":") instead of colons.","position":{"start":{"line":348,"column":56,"offset":17590},"end":{"line":348,"column":76,"offset":17610}}}],"position":{"start":{"line":348,"column":1,"offset":17535},"end":{"line":348,"column":76,"offset":17610}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"NODE_PATH"}],"position":{"start":{"line":350,"column":1,"offset":17612},"end":{"line":350,"column":12,"offset":17623}}},{"type":"text","value":" was originally created to support loading modules from varying paths before the current ","position":{"start":{"line":350,"column":12,"offset":17623},"end":{"line":350,"column":101,"offset":17712}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_all_together"},"children":[{"type":"text","value":"module resolution","position":{"start":{"line":350,"column":102,"offset":17713},"end":{"line":350,"column":119,"offset":17730}}}],"position":{"start":{"line":350,"column":101,"offset":17712},"end":{"line":350,"column":178,"offset":17789}}},{"type":"text","value":" algorithm was defined.","position":{"start":{"line":350,"column":178,"offset":17789},"end":{"line":350,"column":201,"offset":17812}}}],"position":{"start":{"line":350,"column":1,"offset":17612},"end":{"line":350,"column":201,"offset":17812}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"NODE_PATH"}],"position":{"start":{"line":352,"column":1,"offset":17814},"end":{"line":352,"column":12,"offset":17825}}},{"type":"text","value":" is still supported, but is less necessary now that the Node.js ecosystem has settled on a convention for locating dependent modules. Sometimes deployments that rely on ","position":{"start":{"line":352,"column":12,"offset":17825},"end":{"line":352,"column":181,"offset":17994}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"NODE_PATH"}],"position":{"start":{"line":352,"column":181,"offset":17994},"end":{"line":352,"column":192,"offset":18005}}},{"type":"text","value":" show surprising behavior when people are unaware that ","position":{"start":{"line":352,"column":192,"offset":18005},"end":{"line":352,"column":247,"offset":18060}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"NODE_PATH"}],"position":{"start":{"line":352,"column":247,"offset":18060},"end":{"line":352,"column":258,"offset":18071}}},{"type":"text","value":" must be set. Sometimes a module's dependencies change, causing a different version (or even a different module) to be loaded as the ","position":{"start":{"line":352,"column":258,"offset":18071},"end":{"line":352,"column":391,"offset":18204}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"NODE_PATH"}],"position":{"start":{"line":352,"column":391,"offset":18204},"end":{"line":352,"column":402,"offset":18215}}},{"type":"text","value":" is searched.","position":{"start":{"line":352,"column":402,"offset":18215},"end":{"line":352,"column":415,"offset":18228}}}],"position":{"start":{"line":352,"column":1,"offset":17814},"end":{"line":352,"column":415,"offset":18228}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Additionally, Node.js will search in the following list of GLOBAL_FOLDERS:","position":{"start":{"line":354,"column":1,"offset":18230},"end":{"line":354,"column":75,"offset":18304}}}],"position":{"start":{"line":354,"column":1,"offset":18230},"end":{"line":354,"column":75,"offset":18304}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"1: ","position":{"start":{"line":356,"column":3,"offset":18308},"end":{"line":356,"column":6,"offset":18311}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$HOME/.node_modules"}],"position":{"start":{"line":356,"column":6,"offset":18311},"end":{"line":356,"column":27,"offset":18332}}}],"position":{"start":{"line":356,"column":1,"offset":18306},"end":{"line":356,"column":27,"offset":18332}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"2: ","position":{"start":{"line":357,"column":3,"offset":18335},"end":{"line":357,"column":6,"offset":18338}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$HOME/.node_libraries"}],"position":{"start":{"line":357,"column":6,"offset":18338},"end":{"line":357,"column":29,"offset":18361}}}],"position":{"start":{"line":357,"column":1,"offset":18333},"end":{"line":357,"column":29,"offset":18361}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"3: ","position":{"start":{"line":358,"column":3,"offset":18364},"end":{"line":358,"column":6,"offset":18367}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$PREFIX/lib/node"}],"position":{"start":{"line":358,"column":6,"offset":18367},"end":{"line":358,"column":24,"offset":18385}}}],"position":{"start":{"line":358,"column":1,"offset":18362},"end":{"line":358,"column":24,"offset":18385}}},{"type":"text","value":"\n"}],"position":{"start":{"line":356,"column":1,"offset":18306},"end":{"line":358,"column":24,"offset":18385}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Where ","position":{"start":{"line":360,"column":1,"offset":18387},"end":{"line":360,"column":7,"offset":18393}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$HOME"}],"position":{"start":{"line":360,"column":7,"offset":18393},"end":{"line":360,"column":14,"offset":18400}}},{"type":"text","value":" is the user's home directory, and ","position":{"start":{"line":360,"column":14,"offset":18400},"end":{"line":360,"column":49,"offset":18435}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$PREFIX"}],"position":{"start":{"line":360,"column":49,"offset":18435},"end":{"line":360,"column":58,"offset":18444}}},{"type":"text","value":" is the Node.js configured ","position":{"start":{"line":360,"column":58,"offset":18444},"end":{"line":360,"column":85,"offset":18471}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node_prefix"}],"position":{"start":{"line":360,"column":85,"offset":18471},"end":{"line":360,"column":98,"offset":18484}}},{"type":"text","value":".","position":{"start":{"line":360,"column":98,"offset":18484},"end":{"line":360,"column":99,"offset":18485}}}],"position":{"start":{"line":360,"column":1,"offset":18387},"end":{"line":360,"column":99,"offset":18485}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"These are mostly for historic reasons.","position":{"start":{"line":362,"column":1,"offset":18487},"end":{"line":362,"column":39,"offset":18525}}}],"position":{"start":{"line":362,"column":1,"offset":18487},"end":{"line":362,"column":39,"offset":18525}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"It is strongly encouraged to place dependencies in the local ","position":{"start":{"line":364,"column":1,"offset":18527},"end":{"line":364,"column":62,"offset":18588}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node_modules"}],"position":{"start":{"line":364,"column":62,"offset":18588},"end":{"line":364,"column":76,"offset":18602}}},{"type":"text","value":" folder. These will be loaded faster, and more reliably.","position":{"start":{"line":364,"column":76,"offset":18602},"end":{"line":364,"column":132,"offset":18658}}}],"position":{"start":{"line":364,"column":1,"offset":18527},"end":{"line":364,"column":132,"offset":18658}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"The module wrapper","position":{"start":{"line":366,"column":5,"offset":18664},"end":{"line":366,"column":23,"offset":18682}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_the_module_wrapper"},"children":[{"type":"text","value":"#","position":{"start":{"line":366,"column":24,"offset":18683},"end":{"line":366,"column":25,"offset":18684}}}],"position":{"start":{"line":366,"column":23,"offset":18682},"end":{"line":366,"column":90,"offset":18749}}}],"position":{"start":{"line":366,"column":1,"offset":18660},"end":{"line":366,"column":90,"offset":18749}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Before a module's code is executed, Node.js will wrap it with a function wrapper that looks like the following:","position":{"start":{"line":368,"column":1,"offset":18751},"end":{"line":368,"column":112,"offset":18862}}}],"position":{"start":{"line":368,"column":1,"offset":18751},"end":{"line":368,"column":112,"offset":18862}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"(function(exports, require, module, __filename, __dirname) {\n// Module code actually lives in here\n});\n"}],"position":{"start":{"line":370,"column":1,"offset":18864},"end":{"line":374,"column":4,"offset":18974}}}],"position":{"start":{"line":370,"column":1,"offset":18864},"end":{"line":374,"column":4,"offset":18974}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"By doing this, Node.js achieves a few things:","position":{"start":{"line":376,"column":1,"offset":18976},"end":{"line":376,"column":46,"offset":19021}}}],"position":{"start":{"line":376,"column":1,"offset":18976},"end":{"line":376,"column":46,"offset":19021}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"It keeps top-level variables (defined with ","position":{"start":{"line":378,"column":3,"offset":19025},"end":{"line":378,"column":46,"offset":19068}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"var"}],"position":{"start":{"line":378,"column":46,"offset":19068},"end":{"line":378,"column":51,"offset":19073}}},{"type":"text","value":", ","position":{"start":{"line":378,"column":51,"offset":19073},"end":{"line":378,"column":53,"offset":19075}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const"}],"position":{"start":{"line":378,"column":53,"offset":19075},"end":{"line":378,"column":60,"offset":19082}}},{"type":"text","value":" or ","position":{"start":{"line":378,"column":60,"offset":19082},"end":{"line":378,"column":64,"offset":19086}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"let"}],"position":{"start":{"line":378,"column":64,"offset":19086},"end":{"line":378,"column":69,"offset":19091}}},{"type":"text","value":") scoped to the module rather than the global object.","position":{"start":{"line":378,"column":69,"offset":19091},"end":{"line":378,"column":122,"offset":19144}}}],"position":{"start":{"line":378,"column":1,"offset":19023},"end":{"line":378,"column":122,"offset":19144}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"It helps to provide some global-looking variables that are actually specific to the module, such as:","position":{"start":{"line":379,"column":3,"offset":19147},"end":{"line":379,"column":103,"offset":19247}}}],"position":{"start":{"line":379,"column":3,"offset":19147},"end":{"line":379,"column":103,"offset":19247}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":380,"column":7,"offset":19254},"end":{"line":380,"column":11,"offset":19258}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module"}],"position":{"start":{"line":380,"column":11,"offset":19258},"end":{"line":380,"column":19,"offset":19266}}},{"type":"text","value":" and ","position":{"start":{"line":380,"column":19,"offset":19266},"end":{"line":380,"column":24,"offset":19271}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":380,"column":24,"offset":19271},"end":{"line":380,"column":33,"offset":19280}}},{"type":"text","value":" objects that the implementor can use to export values from the module.","position":{"start":{"line":380,"column":33,"offset":19280},"end":{"line":380,"column":104,"offset":19351}}}],"position":{"start":{"line":380,"column":5,"offset":19252},"end":{"line":380,"column":104,"offset":19351}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The convenience variables ","position":{"start":{"line":381,"column":7,"offset":19358},"end":{"line":381,"column":33,"offset":19384}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"__filename"}],"position":{"start":{"line":381,"column":33,"offset":19384},"end":{"line":381,"column":45,"offset":19396}}},{"type":"text","value":" and ","position":{"start":{"line":381,"column":45,"offset":19396},"end":{"line":381,"column":50,"offset":19401}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"__dirname"}],"position":{"start":{"line":381,"column":50,"offset":19401},"end":{"line":381,"column":61,"offset":19412}}},{"type":"text","value":", containing the module's absolute filename and directory path.","position":{"start":{"line":381,"column":61,"offset":19412},"end":{"line":381,"column":124,"offset":19475}}}],"position":{"start":{"line":381,"column":5,"offset":19356},"end":{"line":381,"column":124,"offset":19475}}},{"type":"text","value":"\n"}],"position":{"start":{"line":380,"column":5,"offset":19252},"end":{"line":381,"column":124,"offset":19475}}},{"type":"text","value":"\n"}],"position":{"start":{"line":379,"column":1,"offset":19145},"end":{"line":381,"column":124,"offset":19475}}},{"type":"text","value":"\n"}],"position":{"start":{"line":378,"column":1,"offset":19023},"end":{"line":381,"column":124,"offset":19475}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"The module scope","position":{"start":{"line":383,"column":5,"offset":19481},"end":{"line":383,"column":21,"offset":19497}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_the_module_scope"},"children":[{"type":"text","value":"#","position":{"start":{"line":383,"column":22,"offset":19498},"end":{"line":383,"column":23,"offset":19499}}}],"position":{"start":{"line":383,"column":21,"offset":19497},"end":{"line":383,"column":86,"offset":19562}}}],"position":{"start":{"line":383,"column":1,"offset":19477},"end":{"line":383,"column":86,"offset":19562}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"__dirname"}],"position":{"start":{"line":385,"column":6,"offset":19569},"end":{"line":385,"column":17,"offset":19580}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_dirname"},"children":[{"type":"text","value":"#","position":{"start":{"line":385,"column":18,"offset":19581},"end":{"line":385,"column":19,"offset":19582}}}],"position":{"start":{"line":385,"column":17,"offset":19580},"end":{"line":385,"column":73,"offset":19636}}}],"position":{"start":{"line":385,"column":1,"offset":19564},"end":{"line":385,"column":73,"offset":19636}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.27","position":{"start":{"line":387,"column":1,"offset":19638},"end":{"line":387,"column":18,"offset":19655}}}],"position":{"start":{"line":387,"column":1,"offset":19638},"end":{"line":387,"column":18,"offset":19655}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"raw","value":"<string>","position":{"start":{"line":389,"column":4,"offset":19660},"end":{"line":389,"column":12,"offset":19668}}}],"position":{"start":{"line":389,"column":3,"offset":19659},"end":{"line":389,"column":98,"offset":19754}}}],"position":{"start":{"line":389,"column":1,"offset":19657},"end":{"line":389,"column":98,"offset":19754}}},{"type":"text","value":"\n"}],"position":{"start":{"line":389,"column":1,"offset":19657},"end":{"line":389,"column":98,"offset":19754}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The directory name of the current module. This is the same as the ","position":{"start":{"line":391,"column":1,"offset":19756},"end":{"line":391,"column":67,"offset":19822}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/path.html#path_path_dirname_path"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"path.dirname()"}],"position":{"start":{"line":391,"column":68,"offset":19823},"end":{"line":391,"column":84,"offset":19839}}}],"position":{"start":{"line":391,"column":67,"offset":19822},"end":{"line":391,"column":142,"offset":19897}}},{"type":"text","value":" of the ","position":{"start":{"line":391,"column":142,"offset":19897},"end":{"line":391,"column":150,"offset":19905}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_filename"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"__filename"}],"position":{"start":{"line":391,"column":151,"offset":19906},"end":{"line":391,"column":163,"offset":19918}}}],"position":{"start":{"line":391,"column":150,"offset":19905},"end":{"line":391,"column":218,"offset":19973}}},{"type":"text","value":".","position":{"start":{"line":391,"column":218,"offset":19973},"end":{"line":391,"column":219,"offset":19974}}}],"position":{"start":{"line":391,"column":1,"offset":19756},"end":{"line":391,"column":219,"offset":19974}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Example: running ","position":{"start":{"line":393,"column":1,"offset":19976},"end":{"line":393,"column":18,"offset":19993}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node example.js"}],"position":{"start":{"line":393,"column":18,"offset":19993},"end":{"line":393,"column":35,"offset":20010}}},{"type":"text","value":" from ","position":{"start":{"line":393,"column":35,"offset":20010},"end":{"line":393,"column":41,"offset":20016}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/Users/mjr"}],"position":{"start":{"line":393,"column":41,"offset":20016},"end":{"line":393,"column":53,"offset":20028}}}],"position":{"start":{"line":393,"column":1,"offset":19976},"end":{"line":393,"column":53,"offset":20028}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"console.log(__dirname);\n// Prints: /Users/mjr\nconsole.log(path.dirname(__filename));\n// Prints: /Users/mjr\n"}],"position":{"start":{"line":395,"column":1,"offset":20030},"end":{"line":400,"column":4,"offset":20144}}}],"position":{"start":{"line":395,"column":1,"offset":20030},"end":{"line":400,"column":4,"offset":20144}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"__filename"}],"position":{"start":{"line":402,"column":6,"offset":20151},"end":{"line":402,"column":18,"offset":20163}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_filename"},"children":[{"type":"text","value":"#","position":{"start":{"line":402,"column":19,"offset":20164},"end":{"line":402,"column":20,"offset":20165}}}],"position":{"start":{"line":402,"column":18,"offset":20163},"end":{"line":402,"column":75,"offset":20220}}}],"position":{"start":{"line":402,"column":1,"offset":20146},"end":{"line":402,"column":75,"offset":20220}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.0.1","position":{"start":{"line":404,"column":1,"offset":20222},"end":{"line":404,"column":17,"offset":20238}}}],"position":{"start":{"line":404,"column":1,"offset":20222},"end":{"line":404,"column":17,"offset":20238}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"raw","value":"<string>","position":{"start":{"line":406,"column":4,"offset":20243},"end":{"line":406,"column":12,"offset":20251}}}],"position":{"start":{"line":406,"column":3,"offset":20242},"end":{"line":406,"column":98,"offset":20337}}}],"position":{"start":{"line":406,"column":1,"offset":20240},"end":{"line":406,"column":98,"offset":20337}}},{"type":"text","value":"\n"}],"position":{"start":{"line":406,"column":1,"offset":20240},"end":{"line":406,"column":98,"offset":20337}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The file name of the current module. This is the current module file's absolute path with symlinks resolved.","position":{"start":{"line":408,"column":1,"offset":20339},"end":{"line":408,"column":109,"offset":20447}}}],"position":{"start":{"line":408,"column":1,"offset":20339},"end":{"line":408,"column":109,"offset":20447}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"For a main program this is not necessarily the same as the file name used in the command line.","position":{"start":{"line":410,"column":1,"offset":20449},"end":{"line":410,"column":95,"offset":20543}}}],"position":{"start":{"line":410,"column":1,"offset":20449},"end":{"line":410,"column":95,"offset":20543}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"See ","position":{"start":{"line":412,"column":1,"offset":20545},"end":{"line":412,"column":5,"offset":20549}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_dirname"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"__dirname"}],"position":{"start":{"line":412,"column":6,"offset":20550},"end":{"line":412,"column":17,"offset":20561}}}],"position":{"start":{"line":412,"column":5,"offset":20549},"end":{"line":412,"column":71,"offset":20615}}},{"type":"text","value":" for the directory name of the current module.","position":{"start":{"line":412,"column":71,"offset":20615},"end":{"line":412,"column":117,"offset":20661}}}],"position":{"start":{"line":412,"column":1,"offset":20545},"end":{"line":412,"column":117,"offset":20661}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Examples:","position":{"start":{"line":414,"column":1,"offset":20663},"end":{"line":414,"column":10,"offset":20672}}}],"position":{"start":{"line":414,"column":1,"offset":20663},"end":{"line":414,"column":10,"offset":20672}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Running ","position":{"start":{"line":416,"column":1,"offset":20674},"end":{"line":416,"column":9,"offset":20682}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node example.js"}],"position":{"start":{"line":416,"column":9,"offset":20682},"end":{"line":416,"column":26,"offset":20699}}},{"type":"text","value":" from ","position":{"start":{"line":416,"column":26,"offset":20699},"end":{"line":416,"column":32,"offset":20705}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/Users/mjr"}],"position":{"start":{"line":416,"column":32,"offset":20705},"end":{"line":416,"column":44,"offset":20717}}}],"position":{"start":{"line":416,"column":1,"offset":20674},"end":{"line":416,"column":44,"offset":20717}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"console.log(__filename);\n// Prints: /Users/mjr/example.js\nconsole.log(__dirname);\n// Prints: /Users/mjr\n"}],"position":{"start":{"line":418,"column":1,"offset":20719},"end":{"line":423,"column":4,"offset":20830}}}],"position":{"start":{"line":418,"column":1,"offset":20719},"end":{"line":423,"column":4,"offset":20830}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Given two modules: ","position":{"start":{"line":425,"column":1,"offset":20832},"end":{"line":425,"column":20,"offset":20851}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"a"}],"position":{"start":{"line":425,"column":20,"offset":20851},"end":{"line":425,"column":23,"offset":20854}}},{"type":"text","value":" and ","position":{"start":{"line":425,"column":23,"offset":20854},"end":{"line":425,"column":28,"offset":20859}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"b"}],"position":{"start":{"line":425,"column":28,"offset":20859},"end":{"line":425,"column":31,"offset":20862}}},{"type":"text","value":", where ","position":{"start":{"line":425,"column":31,"offset":20862},"end":{"line":425,"column":39,"offset":20870}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"b"}],"position":{"start":{"line":425,"column":39,"offset":20870},"end":{"line":425,"column":42,"offset":20873}}},{"type":"text","value":" is a dependency of ","position":{"start":{"line":425,"column":42,"offset":20873},"end":{"line":425,"column":62,"offset":20893}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"a"}],"position":{"start":{"line":425,"column":62,"offset":20893},"end":{"line":425,"column":65,"offset":20896}}},{"type":"text","value":" and there is a directory structure of:","position":{"start":{"line":425,"column":65,"offset":20896},"end":{"line":425,"column":104,"offset":20935}}}],"position":{"start":{"line":425,"column":1,"offset":20832},"end":{"line":425,"column":104,"offset":20935}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/Users/mjr/app/a.js"}],"position":{"start":{"line":427,"column":3,"offset":20939},"end":{"line":427,"column":24,"offset":20960}}}],"position":{"start":{"line":427,"column":1,"offset":20937},"end":{"line":427,"column":24,"offset":20960}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/Users/mjr/app/node_modules/b/b.js"}],"position":{"start":{"line":428,"column":3,"offset":20963},"end":{"line":428,"column":39,"offset":20999}}}],"position":{"start":{"line":428,"column":1,"offset":20961},"end":{"line":428,"column":39,"offset":20999}}},{"type":"text","value":"\n"}],"position":{"start":{"line":427,"column":1,"offset":20937},"end":{"line":428,"column":39,"offset":20999}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"References to ","position":{"start":{"line":430,"column":1,"offset":21001},"end":{"line":430,"column":15,"offset":21015}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"__filename"}],"position":{"start":{"line":430,"column":15,"offset":21015},"end":{"line":430,"column":27,"offset":21027}}},{"type":"text","value":" within ","position":{"start":{"line":430,"column":27,"offset":21027},"end":{"line":430,"column":35,"offset":21035}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"b.js"}],"position":{"start":{"line":430,"column":35,"offset":21035},"end":{"line":430,"column":41,"offset":21041}}},{"type":"text","value":" will return ","position":{"start":{"line":430,"column":41,"offset":21041},"end":{"line":430,"column":54,"offset":21054}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/Users/mjr/app/node_modules/b/b.js"}],"position":{"start":{"line":430,"column":54,"offset":21054},"end":{"line":430,"column":90,"offset":21090}}},{"type":"text","value":" while references to ","position":{"start":{"line":430,"column":90,"offset":21090},"end":{"line":430,"column":111,"offset":21111}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"__filename"}],"position":{"start":{"line":430,"column":111,"offset":21111},"end":{"line":430,"column":123,"offset":21123}}},{"type":"text","value":" within ","position":{"start":{"line":430,"column":123,"offset":21123},"end":{"line":430,"column":131,"offset":21131}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"a.js"}],"position":{"start":{"line":430,"column":131,"offset":21131},"end":{"line":430,"column":137,"offset":21137}}},{"type":"text","value":" will return ","position":{"start":{"line":430,"column":137,"offset":21137},"end":{"line":430,"column":150,"offset":21150}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/Users/mjr/app/a.js"}],"position":{"start":{"line":430,"column":150,"offset":21150},"end":{"line":430,"column":171,"offset":21171}}},{"type":"text","value":".","position":{"start":{"line":430,"column":171,"offset":21171},"end":{"line":430,"column":172,"offset":21172}}}],"position":{"start":{"line":430,"column":1,"offset":21001},"end":{"line":430,"column":172,"offset":21172}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":432,"column":6,"offset":21179},"end":{"line":432,"column":15,"offset":21188}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_exports"},"children":[{"type":"text","value":"#","position":{"start":{"line":432,"column":16,"offset":21189},"end":{"line":432,"column":17,"offset":21190}}}],"position":{"start":{"line":432,"column":15,"offset":21188},"end":{"line":432,"column":71,"offset":21244}}}],"position":{"start":{"line":432,"column":1,"offset":21174},"end":{"line":432,"column":71,"offset":21244}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.12","position":{"start":{"line":434,"column":1,"offset":21246},"end":{"line":434,"column":18,"offset":21263}}}],"position":{"start":{"line":434,"column":1,"offset":21246},"end":{"line":434,"column":18,"offset":21263}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"},"children":[{"type":"raw","value":"<Object>","position":{"start":{"line":436,"column":4,"offset":21268},"end":{"line":436,"column":12,"offset":21276}}}],"position":{"start":{"line":436,"column":3,"offset":21267},"end":{"line":436,"column":102,"offset":21366}}}],"position":{"start":{"line":436,"column":1,"offset":21265},"end":{"line":436,"column":102,"offset":21366}}},{"type":"text","value":"\n"}],"position":{"start":{"line":436,"column":1,"offset":21265},"end":{"line":436,"column":102,"offset":21366}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A reference to the ","position":{"start":{"line":438,"column":1,"offset":21368},"end":{"line":438,"column":20,"offset":21387}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":438,"column":20,"offset":21387},"end":{"line":438,"column":36,"offset":21403}}},{"type":"text","value":" that is shorter to type. See the section about the ","position":{"start":{"line":438,"column":36,"offset":21403},"end":{"line":438,"column":88,"offset":21455}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_exports_shortcut"},"children":[{"type":"text","value":"exports shortcut","position":{"start":{"line":438,"column":89,"offset":21456},"end":{"line":438,"column":105,"offset":21472}}}],"position":{"start":{"line":438,"column":88,"offset":21455},"end":{"line":438,"column":168,"offset":21535}}},{"type":"text","value":" for details on when to use ","position":{"start":{"line":438,"column":168,"offset":21535},"end":{"line":438,"column":196,"offset":21563}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":438,"column":196,"offset":21563},"end":{"line":438,"column":205,"offset":21572}}},{"type":"text","value":" and when to use ","position":{"start":{"line":438,"column":205,"offset":21572},"end":{"line":438,"column":222,"offset":21589}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":438,"column":222,"offset":21589},"end":{"line":438,"column":238,"offset":21605}}},{"type":"text","value":".","position":{"start":{"line":438,"column":238,"offset":21605},"end":{"line":438,"column":239,"offset":21606}}}],"position":{"start":{"line":438,"column":1,"offset":21368},"end":{"line":438,"column":239,"offset":21606}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module"}],"position":{"start":{"line":440,"column":6,"offset":21613},"end":{"line":440,"column":14,"offset":21621}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module"},"children":[{"type":"text","value":"#","position":{"start":{"line":440,"column":15,"offset":21622},"end":{"line":440,"column":16,"offset":21623}}}],"position":{"start":{"line":440,"column":14,"offset":21621},"end":{"line":440,"column":69,"offset":21676}}}],"position":{"start":{"line":440,"column":1,"offset":21608},"end":{"line":440,"column":69,"offset":21676}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.16","position":{"start":{"line":442,"column":1,"offset":21678},"end":{"line":442,"column":18,"offset":21695}}}],"position":{"start":{"line":442,"column":1,"offset":21678},"end":{"line":442,"column":18,"offset":21695}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_the_module_object"},"children":[{"type":"raw","value":"<module>","position":{"start":{"line":444,"column":4,"offset":21700},"end":{"line":444,"column":12,"offset":21708}}}],"position":{"start":{"line":444,"column":3,"offset":21699},"end":{"line":444,"column":76,"offset":21772}}}],"position":{"start":{"line":444,"column":1,"offset":21697},"end":{"line":444,"column":76,"offset":21772}}},{"type":"text","value":"\n"}],"position":{"start":{"line":444,"column":1,"offset":21697},"end":{"line":444,"column":76,"offset":21772}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A reference to the current module, see the section about the ","position":{"start":{"line":446,"column":1,"offset":21774},"end":{"line":446,"column":62,"offset":21835}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_the_module_object"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module"}],"position":{"start":{"line":446,"column":63,"offset":21836},"end":{"line":446,"column":71,"offset":21844}}},{"type":"text","value":" object","position":{"start":{"line":446,"column":71,"offset":21844},"end":{"line":446,"column":78,"offset":21851}}}],"position":{"start":{"line":446,"column":62,"offset":21835},"end":{"line":446,"column":142,"offset":21915}}},{"type":"text","value":". In particular, ","position":{"start":{"line":446,"column":142,"offset":21915},"end":{"line":446,"column":159,"offset":21932}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":446,"column":159,"offset":21932},"end":{"line":446,"column":175,"offset":21948}}},{"type":"text","value":" is used for defining what a module exports and makes available through ","position":{"start":{"line":446,"column":175,"offset":21948},"end":{"line":446,"column":247,"offset":22020}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":446,"column":247,"offset":22020},"end":{"line":446,"column":258,"offset":22031}}},{"type":"text","value":".","position":{"start":{"line":446,"column":258,"offset":22031},"end":{"line":446,"column":259,"offset":22032}}}],"position":{"start":{"line":446,"column":1,"offset":21774},"end":{"line":446,"column":259,"offset":22032}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require(id)"}],"position":{"start":{"line":448,"column":6,"offset":22039},"end":{"line":448,"column":19,"offset":22052}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_require_id"},"children":[{"type":"text","value":"#","position":{"start":{"line":448,"column":20,"offset":22053},"end":{"line":448,"column":21,"offset":22054}}}],"position":{"start":{"line":448,"column":19,"offset":22052},"end":{"line":448,"column":78,"offset":22111}}}],"position":{"start":{"line":448,"column":1,"offset":22034},"end":{"line":448,"column":78,"offset":22111}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.13","position":{"start":{"line":450,"column":1,"offset":22113},"end":{"line":450,"column":18,"offset":22130}}}],"position":{"start":{"line":450,"column":1,"offset":22113},"end":{"line":450,"column":18,"offset":22130}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"id"}],"position":{"start":{"line":452,"column":3,"offset":22134},"end":{"line":452,"column":7,"offset":22138}}},{"type":"text","value":" ","position":{"start":{"line":452,"column":7,"offset":22138},"end":{"line":452,"column":8,"offset":22139}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"raw","value":"<string>","position":{"start":{"line":452,"column":9,"offset":22140},"end":{"line":452,"column":17,"offset":22148}}}],"position":{"start":{"line":452,"column":8,"offset":22139},"end":{"line":452,"column":103,"offset":22234}}},{"type":"text","value":" module name or path","position":{"start":{"line":452,"column":103,"offset":22234},"end":{"line":452,"column":123,"offset":22254}}}],"position":{"start":{"line":452,"column":1,"offset":22132},"end":{"line":452,"column":123,"offset":22254}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Returns: ","position":{"start":{"line":453,"column":3,"offset":22257},"end":{"line":453,"column":12,"offset":22266}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Data_types"},"children":[{"type":"raw","value":"<any>","position":{"start":{"line":453,"column":13,"offset":22267},"end":{"line":453,"column":18,"offset":22272}}}],"position":{"start":{"line":453,"column":12,"offset":22266},"end":{"line":453,"column":103,"offset":22357}}},{"type":"text","value":" exported module content","position":{"start":{"line":453,"column":103,"offset":22357},"end":{"line":453,"column":127,"offset":22381}}}],"position":{"start":{"line":453,"column":1,"offset":22255},"end":{"line":453,"column":127,"offset":22381}}},{"type":"text","value":"\n"}],"position":{"start":{"line":452,"column":1,"offset":22132},"end":{"line":453,"column":127,"offset":22381}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Used to import modules, ","position":{"start":{"line":455,"column":1,"offset":22383},"end":{"line":455,"column":25,"offset":22407}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"JSON"}],"position":{"start":{"line":455,"column":25,"offset":22407},"end":{"line":455,"column":31,"offset":22413}}},{"type":"text","value":", and local files. Modules can be imported from ","position":{"start":{"line":455,"column":31,"offset":22413},"end":{"line":455,"column":79,"offset":22461}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node_modules"}],"position":{"start":{"line":455,"column":79,"offset":22461},"end":{"line":455,"column":93,"offset":22475}}},{"type":"text","value":". Local modules and JSON files can be imported using a relative path (e.g. ","position":{"start":{"line":455,"column":93,"offset":22475},"end":{"line":455,"column":168,"offset":22550}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"./"}],"position":{"start":{"line":455,"column":168,"offset":22550},"end":{"line":455,"column":172,"offset":22554}}},{"type":"text","value":", ","position":{"start":{"line":455,"column":172,"offset":22554},"end":{"line":455,"column":174,"offset":22556}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"./foo"}],"position":{"start":{"line":455,"column":174,"offset":22556},"end":{"line":455,"column":181,"offset":22563}}},{"type":"text","value":", ","position":{"start":{"line":455,"column":181,"offset":22563},"end":{"line":455,"column":183,"offset":22565}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"./bar/baz"}],"position":{"start":{"line":455,"column":183,"offset":22565},"end":{"line":455,"column":194,"offset":22576}}},{"type":"text","value":", ","position":{"start":{"line":455,"column":194,"offset":22576},"end":{"line":455,"column":196,"offset":22578}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"../foo"}],"position":{"start":{"line":455,"column":196,"offset":22578},"end":{"line":455,"column":204,"offset":22586}}},{"type":"text","value":") that will be resolved against the directory named by ","position":{"start":{"line":455,"column":204,"offset":22586},"end":{"line":455,"column":259,"offset":22641}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_dirname"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"__dirname"}],"position":{"start":{"line":455,"column":260,"offset":22642},"end":{"line":455,"column":271,"offset":22653}}}],"position":{"start":{"line":455,"column":259,"offset":22641},"end":{"line":455,"column":325,"offset":22707}}},{"type":"text","value":" (if defined) or the current working directory. The relative paths of POSIX style are resolved in an OS independent fashion, meaning that the examples above will work on Windows in the same way they would on Unix systems.","position":{"start":{"line":455,"column":325,"offset":22707},"end":{"line":455,"column":546,"offset":22928}}}],"position":{"start":{"line":455,"column":1,"offset":22383},"end":{"line":455,"column":546,"offset":22928}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"// Importing a local module with a path relative to the `__dirname` or current\n// working directory. (On Windows, this would resolve to .\\path\\myLocalModule.)\nconst myLocalModule = require('./path/myLocalModule');\n\n// Importing a JSON file:\nconst jsonData = require('./path/filename.json');\n\n// Importing a module from node_modules or Node.js built-in module:\nconst crypto = require('crypto');\n"}],"position":{"start":{"line":457,"column":1,"offset":22930},"end":{"line":467,"column":4,"offset":23331}}}],"position":{"start":{"line":457,"column":1,"offset":22930},"end":{"line":467,"column":4,"offset":23331}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h5","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.cache"}],"position":{"start":{"line":469,"column":7,"offset":23339},"end":{"line":469,"column":22,"offset":23354}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_require_cache"},"children":[{"type":"text","value":"#","position":{"start":{"line":469,"column":23,"offset":23355},"end":{"line":469,"column":24,"offset":23356}}}],"position":{"start":{"line":469,"column":22,"offset":23354},"end":{"line":469,"column":84,"offset":23416}}}],"position":{"start":{"line":469,"column":1,"offset":23333},"end":{"line":469,"column":84,"offset":23416}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.3.0","position":{"start":{"line":471,"column":1,"offset":23418},"end":{"line":471,"column":17,"offset":23434}}}],"position":{"start":{"line":471,"column":1,"offset":23418},"end":{"line":471,"column":17,"offset":23434}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"},"children":[{"type":"raw","value":"<Object>","position":{"start":{"line":473,"column":4,"offset":23439},"end":{"line":473,"column":12,"offset":23447}}}],"position":{"start":{"line":473,"column":3,"offset":23438},"end":{"line":473,"column":102,"offset":23537}}}],"position":{"start":{"line":473,"column":1,"offset":23436},"end":{"line":473,"column":102,"offset":23537}}},{"type":"text","value":"\n"}],"position":{"start":{"line":473,"column":1,"offset":23436},"end":{"line":473,"column":102,"offset":23537}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Modules are cached in this object when they are required. By deleting a key value from this object, the next ","position":{"start":{"line":475,"column":1,"offset":23539},"end":{"line":475,"column":110,"offset":23648}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require"}],"position":{"start":{"line":475,"column":110,"offset":23648},"end":{"line":475,"column":119,"offset":23657}}},{"type":"text","value":" will reload the module. This does not apply to ","position":{"start":{"line":475,"column":119,"offset":23657},"end":{"line":475,"column":167,"offset":23705}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/addons.html"},"children":[{"type":"text","value":"native addons","position":{"start":{"line":475,"column":168,"offset":23706},"end":{"line":475,"column":181,"offset":23719}}}],"position":{"start":{"line":475,"column":167,"offset":23705},"end":{"line":475,"column":218,"offset":23756}}},{"type":"text","value":", for which reloading will result in an error.","position":{"start":{"line":475,"column":218,"offset":23756},"end":{"line":475,"column":264,"offset":23802}}}],"position":{"start":{"line":475,"column":1,"offset":23539},"end":{"line":475,"column":264,"offset":23802}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Adding or replacing entries is also possible. This cache is checked before native modules and if a name matching a native module is added to the cache, only ","position":{"start":{"line":477,"column":1,"offset":23804},"end":{"line":477,"column":158,"offset":23961}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node:"}],"position":{"start":{"line":477,"column":158,"offset":23961},"end":{"line":477,"column":165,"offset":23968}}},{"type":"text","value":"-prefixed require calls are going to receive the native module. Use with care!","position":{"start":{"line":477,"column":165,"offset":23968},"end":{"line":477,"column":243,"offset":24046}}}],"position":{"start":{"line":477,"column":1,"offset":23804},"end":{"line":477,"column":243,"offset":24046}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const assert = require('assert');\nconst realFs = require('fs');\n\nconst fakeFs = {};\nrequire.cache.fs = { exports: fakeFs };\n\nassert.strictEqual(require('fs'), fakeFs);\nassert.strictEqual(require('node:fs'), realFs);\n"}],"position":{"start":{"line":479,"column":1,"offset":24048},"end":{"line":488,"column":4,"offset":24271}}}],"position":{"start":{"line":479,"column":1,"offset":24048},"end":{"line":488,"column":4,"offset":24271}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h5","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.extensions"}],"position":{"start":{"line":490,"column":7,"offset":24279},"end":{"line":490,"column":27,"offset":24299}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_require_extensions"},"children":[{"type":"text","value":"#","position":{"start":{"line":490,"column":28,"offset":24300},"end":{"line":490,"column":29,"offset":24301}}}],"position":{"start":{"line":490,"column":27,"offset":24299},"end":{"line":490,"column":94,"offset":24366}}}],"position":{"start":{"line":490,"column":1,"offset":24273},"end":{"line":490,"column":94,"offset":24366}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.3.0Deprecated since: v0.10.6","position":{"start":{"line":492,"column":1,"offset":24368},"end":{"line":492,"column":42,"offset":24409}}}],"position":{"start":{"line":492,"column":1,"offset":24368},"end":{"line":492,"column":42,"offset":24409}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/documentation.html#documentation_stability_index"},"children":[{"type":"text","value":"Stability: 0","position":{"start":{"line":494,"column":2,"offset":24412},"end":{"line":494,"column":14,"offset":24424}}}],"position":{"start":{"line":494,"column":1,"offset":24411},"end":{"line":494,"column":88,"offset":24498}}},{"type":"text","value":" - Deprecated","position":{"start":{"line":494,"column":88,"offset":24498},"end":{"line":494,"column":101,"offset":24511}}}],"position":{"start":{"line":494,"column":1,"offset":24411},"end":{"line":494,"column":101,"offset":24511}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"},"children":[{"type":"raw","value":"<Object>","position":{"start":{"line":496,"column":4,"offset":24516},"end":{"line":496,"column":12,"offset":24524}}}],"position":{"start":{"line":496,"column":3,"offset":24515},"end":{"line":496,"column":102,"offset":24614}}}],"position":{"start":{"line":496,"column":1,"offset":24513},"end":{"line":496,"column":102,"offset":24614}}},{"type":"text","value":"\n"}],"position":{"start":{"line":496,"column":1,"offset":24513},"end":{"line":496,"column":102,"offset":24614}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Instruct ","position":{"start":{"line":498,"column":1,"offset":24616},"end":{"line":498,"column":10,"offset":24625}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require"}],"position":{"start":{"line":498,"column":10,"offset":24625},"end":{"line":498,"column":19,"offset":24634}}},{"type":"text","value":" on how to handle certain file extensions.","position":{"start":{"line":498,"column":19,"offset":24634},"end":{"line":498,"column":61,"offset":24676}}}],"position":{"start":{"line":498,"column":1,"offset":24616},"end":{"line":498,"column":61,"offset":24676}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Process files with the extension ","position":{"start":{"line":500,"column":1,"offset":24678},"end":{"line":500,"column":34,"offset":24711}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".sjs"}],"position":{"start":{"line":500,"column":34,"offset":24711},"end":{"line":500,"column":40,"offset":24717}}},{"type":"text","value":" as ","position":{"start":{"line":500,"column":40,"offset":24717},"end":{"line":500,"column":44,"offset":24721}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".js"}],"position":{"start":{"line":500,"column":44,"offset":24721},"end":{"line":500,"column":49,"offset":24726}}},{"type":"text","value":":","position":{"start":{"line":500,"column":49,"offset":24726},"end":{"line":500,"column":50,"offset":24727}}}],"position":{"start":{"line":500,"column":1,"offset":24678},"end":{"line":500,"column":50,"offset":24727}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.extensions['.sjs'] = require.extensions['.js'];\n"}],"position":{"start":{"line":502,"column":1,"offset":24729},"end":{"line":504,"column":4,"offset":24792}}}],"position":{"start":{"line":502,"column":1,"offset":24729},"end":{"line":504,"column":4,"offset":24792}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Deprecated. In the past, this list has been used to load non-JavaScript modules into Node.js by compiling them on-demand. However, in practice, there are much better ways to do this, such as loading modules via some other Node.js program, or compiling them to JavaScript ahead of time.","position":{"start":{"line":506,"column":1,"offset":24794},"end":{"line":506,"column":286,"offset":25079}}}],"position":{"start":{"line":506,"column":1,"offset":24794},"end":{"line":506,"column":286,"offset":25079}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Avoid using ","position":{"start":{"line":508,"column":1,"offset":25081},"end":{"line":508,"column":13,"offset":25093}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.extensions"}],"position":{"start":{"line":508,"column":13,"offset":25093},"end":{"line":508,"column":33,"offset":25113}}},{"type":"text","value":". Use could cause subtle bugs and resolving the extensions gets slower with each registered extension.","position":{"start":{"line":508,"column":33,"offset":25113},"end":{"line":508,"column":135,"offset":25215}}}],"position":{"start":{"line":508,"column":1,"offset":25081},"end":{"line":508,"column":135,"offset":25215}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h5","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.main"}],"position":{"start":{"line":510,"column":7,"offset":25223},"end":{"line":510,"column":21,"offset":25237}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_require_main"},"children":[{"type":"text","value":"#","position":{"start":{"line":510,"column":22,"offset":25238},"end":{"line":510,"column":23,"offset":25239}}}],"position":{"start":{"line":510,"column":21,"offset":25237},"end":{"line":510,"column":82,"offset":25298}}}],"position":{"start":{"line":510,"column":1,"offset":25217},"end":{"line":510,"column":82,"offset":25298}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.17","position":{"start":{"line":512,"column":1,"offset":25300},"end":{"line":512,"column":18,"offset":25317}}}],"position":{"start":{"line":512,"column":1,"offset":25300},"end":{"line":512,"column":18,"offset":25317}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_the_module_object"},"children":[{"type":"raw","value":"<module>","position":{"start":{"line":514,"column":4,"offset":25322},"end":{"line":514,"column":12,"offset":25330}}}],"position":{"start":{"line":514,"column":3,"offset":25321},"end":{"line":514,"column":76,"offset":25394}}}],"position":{"start":{"line":514,"column":1,"offset":25319},"end":{"line":514,"column":76,"offset":25394}}},{"type":"text","value":"\n"}],"position":{"start":{"line":514,"column":1,"offset":25319},"end":{"line":514,"column":76,"offset":25394}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":516,"column":1,"offset":25396},"end":{"line":516,"column":5,"offset":25400}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Module"}],"position":{"start":{"line":516,"column":5,"offset":25400},"end":{"line":516,"column":13,"offset":25408}}},{"type":"text","value":" object representing the entry script loaded when the Node.js process launched. See ","position":{"start":{"line":516,"column":13,"offset":25408},"end":{"line":516,"column":97,"offset":25492}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_accessing_the_main_module"},"children":[{"type":"text","value":"\"Accessing the main module\"","position":{"start":{"line":516,"column":98,"offset":25493},"end":{"line":516,"column":125,"offset":25520}}}],"position":{"start":{"line":516,"column":97,"offset":25492},"end":{"line":516,"column":197,"offset":25592}}},{"type":"text","value":".","position":{"start":{"line":516,"column":197,"offset":25592},"end":{"line":516,"column":198,"offset":25593}}}],"position":{"start":{"line":516,"column":1,"offset":25396},"end":{"line":516,"column":198,"offset":25593}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In ","position":{"start":{"line":518,"column":1,"offset":25595},"end":{"line":518,"column":4,"offset":25598}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"entry.js"}],"position":{"start":{"line":518,"column":4,"offset":25598},"end":{"line":518,"column":14,"offset":25608}}},{"type":"text","value":" script:","position":{"start":{"line":518,"column":14,"offset":25608},"end":{"line":518,"column":22,"offset":25616}}}],"position":{"start":{"line":518,"column":1,"offset":25595},"end":{"line":518,"column":22,"offset":25616}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"console.log(require.main);\n"}],"position":{"start":{"line":520,"column":1,"offset":25618},"end":{"line":522,"column":4,"offset":25652}}}],"position":{"start":{"line":520,"column":1,"offset":25618},"end":{"line":522,"column":4,"offset":25652}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node entry.js\n"}],"position":{"start":{"line":524,"column":1,"offset":25654},"end":{"line":526,"column":4,"offset":25675}}}],"position":{"start":{"line":524,"column":1,"offset":25654},"end":{"line":526,"column":4,"offset":25675}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Module {\n  id: '.',\n  path: '/absolute/path/to',\n  exports: {},\n  filename: '/absolute/path/to/entry.js',\n  loaded: false,\n  children: [],\n  paths:\n   [ '/absolute/path/to/node_modules',\n     '/absolute/path/node_modules',\n     '/absolute/node_modules',\n     '/node_modules' ] }\n"}],"position":{"start":{"line":528,"column":1,"offset":25677},"end":{"line":541,"column":4,"offset":25963}}}],"position":{"start":{"line":528,"column":1,"offset":25677},"end":{"line":541,"column":4,"offset":25963}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h5","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.resolve(request[, options])"}],"position":{"start":{"line":543,"column":7,"offset":25971},"end":{"line":543,"column":44,"offset":26008}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_require_resolve_request_options"},"children":[{"type":"text","value":"#","position":{"start":{"line":543,"column":45,"offset":26009},"end":{"line":543,"column":46,"offset":26010}}}],"position":{"start":{"line":543,"column":44,"offset":26008},"end":{"line":543,"column":124,"offset":26088}}}],"position":{"start":{"line":543,"column":1,"offset":25965},"end":{"line":543,"column":124,"offset":26088}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"History","position":{"start":{"line":545,"column":1,"offset":26090},"end":{"line":545,"column":8,"offset":26097}}}],"position":{"start":{"line":545,"column":1,"offset":26090},"end":{"line":545,"column":8,"offset":26097}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"request"}],"position":{"start":{"line":547,"column":3,"offset":26101},"end":{"line":547,"column":12,"offset":26110}}},{"type":"text","value":" ","position":{"start":{"line":547,"column":12,"offset":26110},"end":{"line":547,"column":13,"offset":26111}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"raw","value":"<string>","position":{"start":{"line":547,"column":14,"offset":26112},"end":{"line":547,"column":22,"offset":26120}}}],"position":{"start":{"line":547,"column":13,"offset":26111},"end":{"line":547,"column":108,"offset":26206}}},{"type":"text","value":" The module path to resolve.","position":{"start":{"line":547,"column":108,"offset":26206},"end":{"line":547,"column":136,"offset":26234}}}],"position":{"start":{"line":547,"column":1,"offset":26099},"end":{"line":547,"column":136,"offset":26234}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"options"}],"position":{"start":{"line":548,"column":3,"offset":26237},"end":{"line":548,"column":12,"offset":26246}}},{"type":"text","value":" ","position":{"start":{"line":548,"column":12,"offset":26246},"end":{"line":548,"column":13,"offset":26247}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"},"children":[{"type":"raw","value":"<Object>","position":{"start":{"line":548,"column":14,"offset":26248},"end":{"line":548,"column":22,"offset":26256}}}],"position":{"start":{"line":548,"column":13,"offset":26247},"end":{"line":548,"column":112,"offset":26346}}}],"position":{"start":{"line":548,"column":1,"offset":26235},"end":{"line":548,"column":112,"offset":26346}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"paths"}],"position":{"start":{"line":549,"column":5,"offset":26351},"end":{"line":549,"column":12,"offset":26358}}},{"type":"text","value":" ","position":{"start":{"line":549,"column":12,"offset":26358},"end":{"line":549,"column":13,"offset":26359}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"text","value":"<string[]>","position":{"start":{"line":549,"column":14,"offset":26360},"end":{"line":549,"column":24,"offset":26370}}}],"position":{"start":{"line":549,"column":13,"offset":26359},"end":{"line":549,"column":110,"offset":26456}}},{"type":"text","value":" Paths to resolve module location from. If present, these paths are used instead of the default resolution paths, with the exception of ","position":{"start":{"line":549,"column":110,"offset":26456},"end":{"line":549,"column":246,"offset":26592}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_loading_from_the_global_folders"},"children":[{"type":"text","value":"GLOBAL_FOLDERS","position":{"start":{"line":549,"column":247,"offset":26593},"end":{"line":549,"column":261,"offset":26607}}}],"position":{"start":{"line":549,"column":246,"offset":26592},"end":{"line":549,"column":339,"offset":26685}}},{"type":"text","value":" like ","position":{"start":{"line":549,"column":339,"offset":26685},"end":{"line":549,"column":345,"offset":26691}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$HOME/.node_modules"}],"position":{"start":{"line":549,"column":345,"offset":26691},"end":{"line":549,"column":366,"offset":26712}}},{"type":"text","value":", which are always included. Each of these paths is used as a starting point for the module resolution algorithm, meaning that the ","position":{"start":{"line":549,"column":366,"offset":26712},"end":{"line":549,"column":497,"offset":26843}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node_modules"}],"position":{"start":{"line":549,"column":497,"offset":26843},"end":{"line":549,"column":511,"offset":26857}}},{"type":"text","value":" hierarchy is checked from this location.","position":{"start":{"line":549,"column":511,"offset":26857},"end":{"line":549,"column":552,"offset":26898}}}],"position":{"start":{"line":549,"column":3,"offset":26349},"end":{"line":549,"column":552,"offset":26898}}},{"type":"text","value":"\n"}],"position":{"start":{"line":549,"column":3,"offset":26349},"end":{"line":549,"column":552,"offset":26898}}},{"type":"text","value":"\n"}],"position":{"start":{"line":549,"column":1,"offset":26347},"end":{"line":549,"column":552,"offset":26898}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Returns: ","position":{"start":{"line":550,"column":3,"offset":26901},"end":{"line":550,"column":12,"offset":26910}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"raw","value":"<string>","position":{"start":{"line":550,"column":13,"offset":26911},"end":{"line":550,"column":21,"offset":26919}}}],"position":{"start":{"line":550,"column":12,"offset":26910},"end":{"line":550,"column":107,"offset":27005}}}],"position":{"start":{"line":550,"column":1,"offset":26899},"end":{"line":550,"column":107,"offset":27005}}},{"type":"text","value":"\n"}],"position":{"start":{"line":547,"column":1,"offset":26099},"end":{"line":550,"column":107,"offset":27005}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Use the internal ","position":{"start":{"line":552,"column":1,"offset":27007},"end":{"line":552,"column":18,"offset":27024}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":552,"column":18,"offset":27024},"end":{"line":552,"column":29,"offset":27035}}},{"type":"text","value":" machinery to look up the location of a module, but rather than loading the module, just return the resolved filename.","position":{"start":{"line":552,"column":29,"offset":27035},"end":{"line":552,"column":147,"offset":27153}}}],"position":{"start":{"line":552,"column":1,"offset":27007},"end":{"line":552,"column":147,"offset":27153}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If the module can not be found, a ","position":{"start":{"line":554,"column":1,"offset":27155},"end":{"line":554,"column":35,"offset":27189}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"MODULE_NOT_FOUND"}],"position":{"start":{"line":554,"column":35,"offset":27189},"end":{"line":554,"column":53,"offset":27207}}},{"type":"text","value":" error is thrown.","position":{"start":{"line":554,"column":53,"offset":27207},"end":{"line":554,"column":70,"offset":27224}}}],"position":{"start":{"line":554,"column":1,"offset":27155},"end":{"line":554,"column":70,"offset":27224}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h6","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.resolve.paths(request)"}],"position":{"start":{"line":556,"column":8,"offset":27233},"end":{"line":556,"column":40,"offset":27265}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_require_resolve_paths_request"},"children":[{"type":"text","value":"#","position":{"start":{"line":556,"column":41,"offset":27266},"end":{"line":556,"column":42,"offset":27267}}}],"position":{"start":{"line":556,"column":40,"offset":27265},"end":{"line":556,"column":118,"offset":27343}}}],"position":{"start":{"line":556,"column":1,"offset":27226},"end":{"line":556,"column":118,"offset":27343}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v8.9.0","position":{"start":{"line":558,"column":1,"offset":27345},"end":{"line":558,"column":17,"offset":27361}}}],"position":{"start":{"line":558,"column":1,"offset":27345},"end":{"line":558,"column":17,"offset":27361}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"request"}],"position":{"start":{"line":560,"column":3,"offset":27365},"end":{"line":560,"column":12,"offset":27374}}},{"type":"text","value":" ","position":{"start":{"line":560,"column":12,"offset":27374},"end":{"line":560,"column":13,"offset":27375}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"raw","value":"<string>","position":{"start":{"line":560,"column":14,"offset":27376},"end":{"line":560,"column":22,"offset":27384}}}],"position":{"start":{"line":560,"column":13,"offset":27375},"end":{"line":560,"column":108,"offset":27470}}},{"type":"text","value":" The module path whose lookup paths are being retrieved.","position":{"start":{"line":560,"column":108,"offset":27470},"end":{"line":560,"column":164,"offset":27526}}}],"position":{"start":{"line":560,"column":1,"offset":27363},"end":{"line":560,"column":164,"offset":27526}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Returns: ","position":{"start":{"line":561,"column":3,"offset":27529},"end":{"line":561,"column":12,"offset":27538}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"text","value":"<string[]>","position":{"start":{"line":561,"column":13,"offset":27539},"end":{"line":561,"column":23,"offset":27549}}}],"position":{"start":{"line":561,"column":12,"offset":27538},"end":{"line":561,"column":109,"offset":27635}}},{"type":"text","value":" | ","position":{"start":{"line":561,"column":109,"offset":27635},"end":{"line":561,"column":112,"offset":27638}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type"},"children":[{"type":"raw","value":"<null>","position":{"start":{"line":561,"column":113,"offset":27639},"end":{"line":561,"column":119,"offset":27645}}}],"position":{"start":{"line":561,"column":112,"offset":27638},"end":{"line":561,"column":203,"offset":27729}}}],"position":{"start":{"line":561,"column":1,"offset":27527},"end":{"line":561,"column":203,"offset":27729}}},{"type":"text","value":"\n"}],"position":{"start":{"line":560,"column":1,"offset":27363},"end":{"line":561,"column":203,"offset":27729}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Returns an array containing the paths searched during resolution of ","position":{"start":{"line":563,"column":1,"offset":27731},"end":{"line":563,"column":69,"offset":27799}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"request"}],"position":{"start":{"line":563,"column":69,"offset":27799},"end":{"line":563,"column":78,"offset":27808}}},{"type":"text","value":" or ","position":{"start":{"line":563,"column":78,"offset":27808},"end":{"line":563,"column":82,"offset":27812}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"null"}],"position":{"start":{"line":563,"column":82,"offset":27812},"end":{"line":563,"column":88,"offset":27818}}},{"type":"text","value":" if the ","position":{"start":{"line":563,"column":88,"offset":27818},"end":{"line":563,"column":96,"offset":27826}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"request"}],"position":{"start":{"line":563,"column":96,"offset":27826},"end":{"line":563,"column":105,"offset":27835}}},{"type":"text","value":" string references a core module, for example ","position":{"start":{"line":563,"column":105,"offset":27835},"end":{"line":563,"column":151,"offset":27881}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"http"}],"position":{"start":{"line":563,"column":151,"offset":27881},"end":{"line":563,"column":157,"offset":27887}}},{"type":"text","value":" or ","position":{"start":{"line":563,"column":157,"offset":27887},"end":{"line":563,"column":161,"offset":27891}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"fs"}],"position":{"start":{"line":563,"column":161,"offset":27891},"end":{"line":563,"column":165,"offset":27895}}},{"type":"text","value":".","position":{"start":{"line":563,"column":165,"offset":27895},"end":{"line":563,"column":166,"offset":27896}}}],"position":{"start":{"line":563,"column":1,"offset":27731},"end":{"line":563,"column":166,"offset":27896}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":565,"column":5,"offset":27902},"end":{"line":565,"column":9,"offset":27906}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module"}],"position":{"start":{"line":565,"column":9,"offset":27906},"end":{"line":565,"column":17,"offset":27914}}},{"type":"text","value":" object","position":{"start":{"line":565,"column":17,"offset":27914},"end":{"line":565,"column":24,"offset":27921}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_the_module_object"},"children":[{"type":"text","value":"#","position":{"start":{"line":565,"column":25,"offset":27922},"end":{"line":565,"column":26,"offset":27923}}}],"position":{"start":{"line":565,"column":24,"offset":27921},"end":{"line":565,"column":90,"offset":27987}}}],"position":{"start":{"line":565,"column":1,"offset":27898},"end":{"line":565,"column":90,"offset":27987}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.16","position":{"start":{"line":567,"column":1,"offset":27989},"end":{"line":567,"column":18,"offset":28006}}}],"position":{"start":{"line":567,"column":1,"offset":27989},"end":{"line":567,"column":18,"offset":28006}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"},"children":[{"type":"raw","value":"<Object>","position":{"start":{"line":569,"column":4,"offset":28011},"end":{"line":569,"column":12,"offset":28019}}}],"position":{"start":{"line":569,"column":3,"offset":28010},"end":{"line":569,"column":102,"offset":28109}}}],"position":{"start":{"line":569,"column":1,"offset":28008},"end":{"line":569,"column":102,"offset":28109}}},{"type":"text","value":"\n"}],"position":{"start":{"line":569,"column":1,"offset":28008},"end":{"line":569,"column":102,"offset":28109}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In each module, the ","position":{"start":{"line":571,"column":1,"offset":28111},"end":{"line":571,"column":21,"offset":28131}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module"}],"position":{"start":{"line":571,"column":21,"offset":28131},"end":{"line":571,"column":29,"offset":28139}}},{"type":"text","value":" free variable is a reference to the object representing the current module. For convenience, ","position":{"start":{"line":571,"column":29,"offset":28139},"end":{"line":571,"column":123,"offset":28233}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":571,"column":123,"offset":28233},"end":{"line":571,"column":139,"offset":28249}}},{"type":"text","value":" is also accessible via the ","position":{"start":{"line":571,"column":139,"offset":28249},"end":{"line":571,"column":167,"offset":28277}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":571,"column":167,"offset":28277},"end":{"line":571,"column":176,"offset":28286}}},{"type":"text","value":" module-global. ","position":{"start":{"line":571,"column":176,"offset":28286},"end":{"line":571,"column":192,"offset":28302}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module"}],"position":{"start":{"line":571,"column":192,"offset":28302},"end":{"line":571,"column":200,"offset":28310}}},{"type":"text","value":" is not actually a global but rather local to each module.","position":{"start":{"line":571,"column":200,"offset":28310},"end":{"line":571,"column":258,"offset":28368}}}],"position":{"start":{"line":571,"column":1,"offset":28111},"end":{"line":571,"column":258,"offset":28368}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.children"}],"position":{"start":{"line":573,"column":6,"offset":28375},"end":{"line":573,"column":23,"offset":28392}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_children"},"children":[{"type":"text","value":"#","position":{"start":{"line":573,"column":24,"offset":28393},"end":{"line":573,"column":25,"offset":28394}}}],"position":{"start":{"line":573,"column":23,"offset":28392},"end":{"line":573,"column":87,"offset":28456}}}],"position":{"start":{"line":573,"column":1,"offset":28370},"end":{"line":573,"column":87,"offset":28456}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.16","position":{"start":{"line":575,"column":1,"offset":28458},"end":{"line":575,"column":18,"offset":28475}}}],"position":{"start":{"line":575,"column":1,"offset":28458},"end":{"line":575,"column":18,"offset":28475}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_the_module_object"},"children":[{"type":"text","value":"<module[]>","position":{"start":{"line":577,"column":4,"offset":28480},"end":{"line":577,"column":14,"offset":28490}}}],"position":{"start":{"line":577,"column":3,"offset":28479},"end":{"line":577,"column":78,"offset":28554}}}],"position":{"start":{"line":577,"column":1,"offset":28477},"end":{"line":577,"column":78,"offset":28554}}},{"type":"text","value":"\n"}],"position":{"start":{"line":577,"column":1,"offset":28477},"end":{"line":577,"column":78,"offset":28554}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The module objects required for the first time by this one.","position":{"start":{"line":579,"column":1,"offset":28556},"end":{"line":579,"column":60,"offset":28615}}}],"position":{"start":{"line":579,"column":1,"offset":28556},"end":{"line":579,"column":60,"offset":28615}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":581,"column":6,"offset":28622},"end":{"line":581,"column":22,"offset":28638}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_exports"},"children":[{"type":"text","value":"#","position":{"start":{"line":581,"column":23,"offset":28639},"end":{"line":581,"column":24,"offset":28640}}}],"position":{"start":{"line":581,"column":22,"offset":28638},"end":{"line":581,"column":85,"offset":28701}}}],"position":{"start":{"line":581,"column":1,"offset":28617},"end":{"line":581,"column":85,"offset":28701}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.16","position":{"start":{"line":583,"column":1,"offset":28703},"end":{"line":583,"column":18,"offset":28720}}}],"position":{"start":{"line":583,"column":1,"offset":28703},"end":{"line":583,"column":18,"offset":28720}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"},"children":[{"type":"raw","value":"<Object>","position":{"start":{"line":585,"column":4,"offset":28725},"end":{"line":585,"column":12,"offset":28733}}}],"position":{"start":{"line":585,"column":3,"offset":28724},"end":{"line":585,"column":102,"offset":28823}}}],"position":{"start":{"line":585,"column":1,"offset":28722},"end":{"line":585,"column":102,"offset":28823}}},{"type":"text","value":"\n"}],"position":{"start":{"line":585,"column":1,"offset":28722},"end":{"line":585,"column":102,"offset":28823}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":587,"column":1,"offset":28825},"end":{"line":587,"column":5,"offset":28829}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":587,"column":5,"offset":28829},"end":{"line":587,"column":21,"offset":28845}}},{"type":"text","value":" object is created by the ","position":{"start":{"line":587,"column":21,"offset":28845},"end":{"line":587,"column":47,"offset":28871}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Module"}],"position":{"start":{"line":587,"column":47,"offset":28871},"end":{"line":587,"column":55,"offset":28879}}},{"type":"text","value":" system. Sometimes this is not acceptable; many want their module to be an instance of some class. To do this, assign the desired export object to ","position":{"start":{"line":587,"column":55,"offset":28879},"end":{"line":587,"column":202,"offset":29026}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":587,"column":202,"offset":29026},"end":{"line":587,"column":218,"offset":29042}}},{"type":"text","value":". Assigning the desired object to ","position":{"start":{"line":587,"column":218,"offset":29042},"end":{"line":587,"column":252,"offset":29076}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":587,"column":252,"offset":29076},"end":{"line":587,"column":261,"offset":29085}}},{"type":"text","value":" will simply rebind the local ","position":{"start":{"line":587,"column":261,"offset":29085},"end":{"line":587,"column":291,"offset":29115}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":587,"column":291,"offset":29115},"end":{"line":587,"column":300,"offset":29124}}},{"type":"text","value":" variable, which is probably not what is desired.","position":{"start":{"line":587,"column":300,"offset":29124},"end":{"line":587,"column":349,"offset":29173}}}],"position":{"start":{"line":587,"column":1,"offset":28825},"end":{"line":587,"column":349,"offset":29173}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"For example, suppose we were making a module called ","position":{"start":{"line":589,"column":1,"offset":29175},"end":{"line":589,"column":53,"offset":29227}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"a.js"}],"position":{"start":{"line":589,"column":53,"offset":29227},"end":{"line":589,"column":59,"offset":29233}}},{"type":"text","value":":","position":{"start":{"line":589,"column":59,"offset":29233},"end":{"line":589,"column":60,"offset":29234}}}],"position":{"start":{"line":589,"column":1,"offset":29175},"end":{"line":589,"column":60,"offset":29234}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const EventEmitter = require('events');\n\nmodule.exports = new EventEmitter();\n\n// Do some work, and after some time emit\n// the 'ready' event from the module itself.\nsetTimeout(() => {\n  module.exports.emit('ready');\n}, 1000);\n"}],"position":{"start":{"line":591,"column":1,"offset":29236},"end":{"line":601,"column":4,"offset":29470}}}],"position":{"start":{"line":591,"column":1,"offset":29236},"end":{"line":601,"column":4,"offset":29470}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Then in another file we could do:","position":{"start":{"line":603,"column":1,"offset":29472},"end":{"line":603,"column":34,"offset":29505}}}],"position":{"start":{"line":603,"column":1,"offset":29472},"end":{"line":603,"column":34,"offset":29505}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const a = require('./a');\na.on('ready', () => {\n  console.log('module \"a\" is ready');\n});\n"}],"position":{"start":{"line":605,"column":1,"offset":29507},"end":{"line":610,"column":4,"offset":29604}}}],"position":{"start":{"line":605,"column":1,"offset":29507},"end":{"line":610,"column":4,"offset":29604}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Assignment to ","position":{"start":{"line":612,"column":1,"offset":29606},"end":{"line":612,"column":15,"offset":29620}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":612,"column":15,"offset":29620},"end":{"line":612,"column":31,"offset":29636}}},{"type":"text","value":" must be done immediately. It cannot be done in any callbacks. This does not work:","position":{"start":{"line":612,"column":31,"offset":29636},"end":{"line":612,"column":113,"offset":29718}}}],"position":{"start":{"line":612,"column":1,"offset":29606},"end":{"line":612,"column":113,"offset":29718}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"x.js"}],"position":{"start":{"line":614,"column":1,"offset":29720},"end":{"line":614,"column":7,"offset":29726}}},{"type":"text","value":":","position":{"start":{"line":614,"column":7,"offset":29726},"end":{"line":614,"column":8,"offset":29727}}}],"position":{"start":{"line":614,"column":1,"offset":29720},"end":{"line":614,"column":8,"offset":29727}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"setTimeout(() => {\n  module.exports = { a: 'hello' };\n}, 0);\n"}],"position":{"start":{"line":616,"column":1,"offset":29729},"end":{"line":620,"column":4,"offset":29797}}}],"position":{"start":{"line":616,"column":1,"offset":29729},"end":{"line":620,"column":4,"offset":29797}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"y.js"}],"position":{"start":{"line":622,"column":1,"offset":29799},"end":{"line":622,"column":7,"offset":29805}}},{"type":"text","value":":","position":{"start":{"line":622,"column":7,"offset":29805},"end":{"line":622,"column":8,"offset":29806}}}],"position":{"start":{"line":622,"column":1,"offset":29799},"end":{"line":622,"column":8,"offset":29806}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const x = require('./x');\nconsole.log(x.a);\n"}],"position":{"start":{"line":624,"column":1,"offset":29808},"end":{"line":627,"column":4,"offset":29859}}}],"position":{"start":{"line":624,"column":1,"offset":29808},"end":{"line":627,"column":4,"offset":29859}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h5","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":629,"column":7,"offset":29867},"end":{"line":629,"column":16,"offset":29876}}},{"type":"text","value":" shortcut","position":{"start":{"line":629,"column":16,"offset":29876},"end":{"line":629,"column":25,"offset":29885}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_exports_shortcut"},"children":[{"type":"text","value":"#","position":{"start":{"line":629,"column":26,"offset":29886},"end":{"line":629,"column":27,"offset":29887}}}],"position":{"start":{"line":629,"column":25,"offset":29885},"end":{"line":629,"column":90,"offset":29950}}}],"position":{"start":{"line":629,"column":1,"offset":29861},"end":{"line":629,"column":90,"offset":29950}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.16","position":{"start":{"line":631,"column":1,"offset":29952},"end":{"line":631,"column":18,"offset":29969}}}],"position":{"start":{"line":631,"column":1,"offset":29952},"end":{"line":631,"column":18,"offset":29969}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":633,"column":1,"offset":29971},"end":{"line":633,"column":5,"offset":29975}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":633,"column":5,"offset":29975},"end":{"line":633,"column":14,"offset":29984}}},{"type":"text","value":" variable is available within a module's file-level scope, and is assigned the value of ","position":{"start":{"line":633,"column":14,"offset":29984},"end":{"line":633,"column":102,"offset":30072}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":633,"column":102,"offset":30072},"end":{"line":633,"column":118,"offset":30088}}},{"type":"text","value":" before the module is evaluated.","position":{"start":{"line":633,"column":118,"offset":30088},"end":{"line":633,"column":150,"offset":30120}}}],"position":{"start":{"line":633,"column":1,"offset":29971},"end":{"line":633,"column":150,"offset":30120}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"It allows a shortcut, so that ","position":{"start":{"line":635,"column":1,"offset":30122},"end":{"line":635,"column":31,"offset":30152}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports.f = ..."}],"position":{"start":{"line":635,"column":31,"offset":30152},"end":{"line":635,"column":55,"offset":30176}}},{"type":"text","value":" can be written more succinctly as ","position":{"start":{"line":635,"column":55,"offset":30176},"end":{"line":635,"column":90,"offset":30211}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports.f = ..."}],"position":{"start":{"line":635,"column":90,"offset":30211},"end":{"line":635,"column":107,"offset":30228}}},{"type":"text","value":". However, be aware that like any variable, if a new value is assigned to ","position":{"start":{"line":635,"column":107,"offset":30228},"end":{"line":635,"column":181,"offset":30302}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":635,"column":181,"offset":30302},"end":{"line":635,"column":190,"offset":30311}}},{"type":"text","value":", it is no longer bound to ","position":{"start":{"line":635,"column":190,"offset":30311},"end":{"line":635,"column":217,"offset":30338}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":635,"column":217,"offset":30338},"end":{"line":635,"column":233,"offset":30354}}},{"type":"text","value":":","position":{"start":{"line":635,"column":233,"offset":30354},"end":{"line":635,"column":234,"offset":30355}}}],"position":{"start":{"line":635,"column":1,"offset":30122},"end":{"line":635,"column":234,"offset":30355}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports.hello = true; // Exported from require of module\nexports = { hello: false };  // Not exported, only available in the module\n"}],"position":{"start":{"line":637,"column":1,"offset":30357},"end":{"line":640,"column":4,"offset":30503}}}],"position":{"start":{"line":637,"column":1,"offset":30357},"end":{"line":640,"column":4,"offset":30503}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When the ","position":{"start":{"line":642,"column":1,"offset":30505},"end":{"line":642,"column":10,"offset":30514}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":642,"column":10,"offset":30514},"end":{"line":642,"column":26,"offset":30530}}},{"type":"text","value":" property is being completely replaced by a new object, it is common to also reassign ","position":{"start":{"line":642,"column":26,"offset":30530},"end":{"line":642,"column":112,"offset":30616}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":642,"column":112,"offset":30616},"end":{"line":642,"column":121,"offset":30625}}},{"type":"text","value":":","position":{"start":{"line":642,"column":121,"offset":30625},"end":{"line":642,"column":122,"offset":30626}}}],"position":{"start":{"line":642,"column":1,"offset":30505},"end":{"line":642,"column":122,"offset":30626}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports = exports = function Constructor() {\n  // ... etc.\n};\n"}],"position":{"start":{"line":644,"column":1,"offset":30628},"end":{"line":648,"column":4,"offset":30704}}}],"position":{"start":{"line":644,"column":1,"offset":30628},"end":{"line":648,"column":4,"offset":30704}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To illustrate the behavior, imagine this hypothetical implementation of ","position":{"start":{"line":650,"column":1,"offset":30706},"end":{"line":650,"column":73,"offset":30778}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":650,"column":73,"offset":30778},"end":{"line":650,"column":84,"offset":30789}}},{"type":"text","value":", which is quite similar to what is actually done by ","position":{"start":{"line":650,"column":84,"offset":30789},"end":{"line":650,"column":137,"offset":30842}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":650,"column":137,"offset":30842},"end":{"line":650,"column":148,"offset":30853}}},{"type":"text","value":":","position":{"start":{"line":650,"column":148,"offset":30853},"end":{"line":650,"column":149,"offset":30854}}}],"position":{"start":{"line":650,"column":1,"offset":30706},"end":{"line":650,"column":149,"offset":30854}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"function require(/* ... */) {\n  const module = { exports: {} };\n  ((module, exports) => {\n    // Module code here. In this example, define a function.\n    function someFunc() {}\n    exports = someFunc;\n    // At this point, exports is no longer a shortcut to module.exports, and\n    // this module will still export an empty default object.\n    module.exports = someFunc;\n    // At this point, the module will now export someFunc, instead of the\n    // default object.\n  })(module, module.exports);\n  return module.exports;\n}\n"}],"position":{"start":{"line":652,"column":1,"offset":30856},"end":{"line":667,"column":4,"offset":31389}}}],"position":{"start":{"line":652,"column":1,"offset":30856},"end":{"line":667,"column":4,"offset":31389}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.filename"}],"position":{"start":{"line":669,"column":6,"offset":31396},"end":{"line":669,"column":23,"offset":31413}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_filename"},"children":[{"type":"text","value":"#","position":{"start":{"line":669,"column":24,"offset":31414},"end":{"line":669,"column":25,"offset":31415}}}],"position":{"start":{"line":669,"column":23,"offset":31413},"end":{"line":669,"column":87,"offset":31477}}}],"position":{"start":{"line":669,"column":1,"offset":31391},"end":{"line":669,"column":87,"offset":31477}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.16","position":{"start":{"line":671,"column":1,"offset":31479},"end":{"line":671,"column":18,"offset":31496}}}],"position":{"start":{"line":671,"column":1,"offset":31479},"end":{"line":671,"column":18,"offset":31496}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"raw","value":"<string>","position":{"start":{"line":673,"column":4,"offset":31501},"end":{"line":673,"column":12,"offset":31509}}}],"position":{"start":{"line":673,"column":3,"offset":31500},"end":{"line":673,"column":98,"offset":31595}}}],"position":{"start":{"line":673,"column":1,"offset":31498},"end":{"line":673,"column":98,"offset":31595}}},{"type":"text","value":"\n"}],"position":{"start":{"line":673,"column":1,"offset":31498},"end":{"line":673,"column":98,"offset":31595}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The fully resolved filename of the module.","position":{"start":{"line":675,"column":1,"offset":31597},"end":{"line":675,"column":43,"offset":31639}}}],"position":{"start":{"line":675,"column":1,"offset":31597},"end":{"line":675,"column":43,"offset":31639}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.id"}],"position":{"start":{"line":677,"column":6,"offset":31646},"end":{"line":677,"column":17,"offset":31657}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_id"},"children":[{"type":"text","value":"#","position":{"start":{"line":677,"column":18,"offset":31658},"end":{"line":677,"column":19,"offset":31659}}}],"position":{"start":{"line":677,"column":17,"offset":31657},"end":{"line":677,"column":75,"offset":31715}}}],"position":{"start":{"line":677,"column":1,"offset":31641},"end":{"line":677,"column":75,"offset":31715}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.16","position":{"start":{"line":679,"column":1,"offset":31717},"end":{"line":679,"column":18,"offset":31734}}}],"position":{"start":{"line":679,"column":1,"offset":31717},"end":{"line":679,"column":18,"offset":31734}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"raw","value":"<string>","position":{"start":{"line":681,"column":4,"offset":31739},"end":{"line":681,"column":12,"offset":31747}}}],"position":{"start":{"line":681,"column":3,"offset":31738},"end":{"line":681,"column":98,"offset":31833}}}],"position":{"start":{"line":681,"column":1,"offset":31736},"end":{"line":681,"column":98,"offset":31833}}},{"type":"text","value":"\n"}],"position":{"start":{"line":681,"column":1,"offset":31736},"end":{"line":681,"column":98,"offset":31833}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The identifier for the module. Typically this is the fully resolved filename.","position":{"start":{"line":683,"column":1,"offset":31835},"end":{"line":683,"column":78,"offset":31912}}}],"position":{"start":{"line":683,"column":1,"offset":31835},"end":{"line":683,"column":78,"offset":31912}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.isPreloading"}],"position":{"start":{"line":685,"column":6,"offset":31919},"end":{"line":685,"column":27,"offset":31940}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_ispreloading"},"children":[{"type":"text","value":"#","position":{"start":{"line":685,"column":28,"offset":31941},"end":{"line":685,"column":29,"offset":31942}}}],"position":{"start":{"line":685,"column":27,"offset":31940},"end":{"line":685,"column":95,"offset":32008}}}],"position":{"start":{"line":685,"column":1,"offset":31914},"end":{"line":685,"column":95,"offset":32008}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v15.4.0","position":{"start":{"line":687,"column":1,"offset":32010},"end":{"line":687,"column":18,"offset":32027}}}],"position":{"start":{"line":687,"column":1,"offset":32010},"end":{"line":687,"column":18,"offset":32027}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Type: ","position":{"start":{"line":689,"column":3,"offset":32031},"end":{"line":689,"column":9,"offset":32037}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type"},"children":[{"type":"raw","value":"<boolean>","position":{"start":{"line":689,"column":10,"offset":32038},"end":{"line":689,"column":19,"offset":32047}}}],"position":{"start":{"line":689,"column":9,"offset":32037},"end":{"line":689,"column":106,"offset":32134}}},{"type":"text","value":" ","position":{"start":{"line":689,"column":106,"offset":32134},"end":{"line":689,"column":107,"offset":32135}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"true"}],"position":{"start":{"line":689,"column":107,"offset":32135},"end":{"line":689,"column":113,"offset":32141}}},{"type":"text","value":" if the module is running during the Node.js preload phase.","position":{"start":{"line":689,"column":113,"offset":32141},"end":{"line":689,"column":172,"offset":32200}}}],"position":{"start":{"line":689,"column":1,"offset":32029},"end":{"line":689,"column":172,"offset":32200}}},{"type":"text","value":"\n"}],"position":{"start":{"line":689,"column":1,"offset":32029},"end":{"line":689,"column":172,"offset":32200}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.loaded"}],"position":{"start":{"line":691,"column":6,"offset":32207},"end":{"line":691,"column":21,"offset":32222}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_loaded"},"children":[{"type":"text","value":"#","position":{"start":{"line":691,"column":22,"offset":32223},"end":{"line":691,"column":23,"offset":32224}}}],"position":{"start":{"line":691,"column":21,"offset":32222},"end":{"line":691,"column":83,"offset":32284}}}],"position":{"start":{"line":691,"column":1,"offset":32202},"end":{"line":691,"column":83,"offset":32284}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.16","position":{"start":{"line":693,"column":1,"offset":32286},"end":{"line":693,"column":18,"offset":32303}}}],"position":{"start":{"line":693,"column":1,"offset":32286},"end":{"line":693,"column":18,"offset":32303}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type"},"children":[{"type":"raw","value":"<boolean>","position":{"start":{"line":695,"column":4,"offset":32308},"end":{"line":695,"column":13,"offset":32317}}}],"position":{"start":{"line":695,"column":3,"offset":32307},"end":{"line":695,"column":100,"offset":32404}}}],"position":{"start":{"line":695,"column":1,"offset":32305},"end":{"line":695,"column":100,"offset":32404}}},{"type":"text","value":"\n"}],"position":{"start":{"line":695,"column":1,"offset":32305},"end":{"line":695,"column":100,"offset":32404}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Whether or not the module is done loading, or is in the process of loading.","position":{"start":{"line":697,"column":1,"offset":32406},"end":{"line":697,"column":76,"offset":32481}}}],"position":{"start":{"line":697,"column":1,"offset":32406},"end":{"line":697,"column":76,"offset":32481}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.parent"}],"position":{"start":{"line":699,"column":6,"offset":32488},"end":{"line":699,"column":21,"offset":32503}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_parent"},"children":[{"type":"text","value":"#","position":{"start":{"line":699,"column":22,"offset":32504},"end":{"line":699,"column":23,"offset":32505}}}],"position":{"start":{"line":699,"column":21,"offset":32503},"end":{"line":699,"column":83,"offset":32565}}}],"position":{"start":{"line":699,"column":1,"offset":32483},"end":{"line":699,"column":83,"offset":32565}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.16Deprecated since: v14.6.0, v12.19.0","position":{"start":{"line":701,"column":1,"offset":32567},"end":{"line":701,"column":53,"offset":32619}}}],"position":{"start":{"line":701,"column":1,"offset":32567},"end":{"line":701,"column":53,"offset":32619}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/documentation.html#documentation_stability_index"},"children":[{"type":"text","value":"Stability: 0","position":{"start":{"line":703,"column":2,"offset":32622},"end":{"line":703,"column":14,"offset":32634}}}],"position":{"start":{"line":703,"column":1,"offset":32621},"end":{"line":703,"column":88,"offset":32708}}},{"type":"text","value":" - Deprecated: Please use ","position":{"start":{"line":703,"column":88,"offset":32708},"end":{"line":703,"column":114,"offset":32734}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_require_main"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.main"}],"position":{"start":{"line":703,"column":115,"offset":32735},"end":{"line":703,"column":129,"offset":32749}}}],"position":{"start":{"line":703,"column":114,"offset":32734},"end":{"line":703,"column":188,"offset":32808}}},{"type":"text","value":" and ","position":{"start":{"line":703,"column":188,"offset":32808},"end":{"line":703,"column":193,"offset":32813}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_children"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.children"}],"position":{"start":{"line":703,"column":194,"offset":32814},"end":{"line":703,"column":211,"offset":32831}}}],"position":{"start":{"line":703,"column":193,"offset":32813},"end":{"line":703,"column":273,"offset":32893}}},{"type":"text","value":" instead.","position":{"start":{"line":703,"column":273,"offset":32893},"end":{"line":703,"column":282,"offset":32902}}}],"position":{"start":{"line":703,"column":1,"offset":32621},"end":{"line":703,"column":282,"offset":32902}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_the_module_object"},"children":[{"type":"raw","value":"<module>","position":{"start":{"line":705,"column":4,"offset":32907},"end":{"line":705,"column":12,"offset":32915}}}],"position":{"start":{"line":705,"column":3,"offset":32906},"end":{"line":705,"column":76,"offset":32979}}},{"type":"text","value":" | ","position":{"start":{"line":705,"column":76,"offset":32979},"end":{"line":705,"column":79,"offset":32982}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type"},"children":[{"type":"raw","value":"<null>","position":{"start":{"line":705,"column":80,"offset":32983},"end":{"line":705,"column":86,"offset":32989}}}],"position":{"start":{"line":705,"column":79,"offset":32982},"end":{"line":705,"column":170,"offset":33073}}},{"type":"text","value":" | ","position":{"start":{"line":705,"column":170,"offset":33073},"end":{"line":705,"column":173,"offset":33076}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Undefined_type"},"children":[{"type":"raw","value":"<undefined>","position":{"start":{"line":705,"column":174,"offset":33077},"end":{"line":705,"column":185,"offset":33088}}}],"position":{"start":{"line":705,"column":173,"offset":33076},"end":{"line":705,"column":274,"offset":33177}}}],"position":{"start":{"line":705,"column":1,"offset":32904},"end":{"line":705,"column":274,"offset":33177}}},{"type":"text","value":"\n"}],"position":{"start":{"line":705,"column":1,"offset":32904},"end":{"line":705,"column":274,"offset":33177}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The module that first required this one, or ","position":{"start":{"line":707,"column":1,"offset":33179},"end":{"line":707,"column":45,"offset":33223}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"null"}],"position":{"start":{"line":707,"column":45,"offset":33223},"end":{"line":707,"column":51,"offset":33229}}},{"type":"text","value":" if the current module is the entry point of the current process, or ","position":{"start":{"line":707,"column":51,"offset":33229},"end":{"line":707,"column":120,"offset":33298}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"undefined"}],"position":{"start":{"line":707,"column":120,"offset":33298},"end":{"line":707,"column":131,"offset":33309}}},{"type":"text","value":" if the module was loaded by something that is not a CommonJS module (E.G.: REPL or ","position":{"start":{"line":707,"column":131,"offset":33309},"end":{"line":707,"column":215,"offset":33393}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"import"}],"position":{"start":{"line":707,"column":215,"offset":33393},"end":{"line":707,"column":223,"offset":33401}}},{"type":"text","value":").","position":{"start":{"line":707,"column":223,"offset":33401},"end":{"line":707,"column":225,"offset":33403}}}],"position":{"start":{"line":707,"column":1,"offset":33179},"end":{"line":707,"column":225,"offset":33403}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.path"}],"position":{"start":{"line":709,"column":6,"offset":33410},"end":{"line":709,"column":19,"offset":33423}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_path"},"children":[{"type":"text","value":"#","position":{"start":{"line":709,"column":20,"offset":33424},"end":{"line":709,"column":21,"offset":33425}}}],"position":{"start":{"line":709,"column":19,"offset":33423},"end":{"line":709,"column":79,"offset":33483}}}],"position":{"start":{"line":709,"column":1,"offset":33405},"end":{"line":709,"column":79,"offset":33483}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v11.14.0","position":{"start":{"line":711,"column":1,"offset":33485},"end":{"line":711,"column":19,"offset":33503}}}],"position":{"start":{"line":711,"column":1,"offset":33485},"end":{"line":711,"column":19,"offset":33503}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"raw","value":"<string>","position":{"start":{"line":713,"column":4,"offset":33508},"end":{"line":713,"column":12,"offset":33516}}}],"position":{"start":{"line":713,"column":3,"offset":33507},"end":{"line":713,"column":98,"offset":33602}}}],"position":{"start":{"line":713,"column":1,"offset":33505},"end":{"line":713,"column":98,"offset":33602}}},{"type":"text","value":"\n"}],"position":{"start":{"line":713,"column":1,"offset":33505},"end":{"line":713,"column":98,"offset":33602}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The directory name of the module. This is usually the same as the ","position":{"start":{"line":715,"column":1,"offset":33604},"end":{"line":715,"column":67,"offset":33670}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/path.html#path_path_dirname_path"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"path.dirname()"}],"position":{"start":{"line":715,"column":68,"offset":33671},"end":{"line":715,"column":84,"offset":33687}}}],"position":{"start":{"line":715,"column":67,"offset":33670},"end":{"line":715,"column":142,"offset":33745}}},{"type":"text","value":" of the ","position":{"start":{"line":715,"column":142,"offset":33745},"end":{"line":715,"column":150,"offset":33753}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_id"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.id"}],"position":{"start":{"line":715,"column":151,"offset":33754},"end":{"line":715,"column":162,"offset":33765}}}],"position":{"start":{"line":715,"column":150,"offset":33753},"end":{"line":715,"column":218,"offset":33821}}},{"type":"text","value":".","position":{"start":{"line":715,"column":218,"offset":33821},"end":{"line":715,"column":219,"offset":33822}}}],"position":{"start":{"line":715,"column":1,"offset":33604},"end":{"line":715,"column":219,"offset":33822}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.paths"}],"position":{"start":{"line":717,"column":6,"offset":33829},"end":{"line":717,"column":20,"offset":33843}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_paths"},"children":[{"type":"text","value":"#","position":{"start":{"line":717,"column":21,"offset":33844},"end":{"line":717,"column":22,"offset":33845}}}],"position":{"start":{"line":717,"column":20,"offset":33843},"end":{"line":717,"column":81,"offset":33904}}}],"position":{"start":{"line":717,"column":1,"offset":33824},"end":{"line":717,"column":81,"offset":33904}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.4.0","position":{"start":{"line":719,"column":1,"offset":33906},"end":{"line":719,"column":17,"offset":33922}}}],"position":{"start":{"line":719,"column":1,"offset":33906},"end":{"line":719,"column":17,"offset":33922}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"text","value":"<string[]>","position":{"start":{"line":721,"column":4,"offset":33927},"end":{"line":721,"column":14,"offset":33937}}}],"position":{"start":{"line":721,"column":3,"offset":33926},"end":{"line":721,"column":100,"offset":34023}}}],"position":{"start":{"line":721,"column":1,"offset":33924},"end":{"line":721,"column":100,"offset":34023}}},{"type":"text","value":"\n"}],"position":{"start":{"line":721,"column":1,"offset":33924},"end":{"line":721,"column":100,"offset":34023}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The search paths for the module.","position":{"start":{"line":723,"column":1,"offset":34025},"end":{"line":723,"column":33,"offset":34057}}}],"position":{"start":{"line":723,"column":1,"offset":34025},"end":{"line":723,"column":33,"offset":34057}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.require(id)"}],"position":{"start":{"line":725,"column":6,"offset":34064},"end":{"line":725,"column":26,"offset":34084}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_require_id"},"children":[{"type":"text","value":"#","position":{"start":{"line":725,"column":27,"offset":34085},"end":{"line":725,"column":28,"offset":34086}}}],"position":{"start":{"line":725,"column":26,"offset":34084},"end":{"line":725,"column":92,"offset":34150}}}],"position":{"start":{"line":725,"column":1,"offset":34059},"end":{"line":725,"column":92,"offset":34150}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.5.1","position":{"start":{"line":727,"column":1,"offset":34152},"end":{"line":727,"column":17,"offset":34168}}}],"position":{"start":{"line":727,"column":1,"offset":34152},"end":{"line":727,"column":17,"offset":34168}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"id"}],"position":{"start":{"line":729,"column":3,"offset":34172},"end":{"line":729,"column":7,"offset":34176}}},{"type":"text","value":" ","position":{"start":{"line":729,"column":7,"offset":34176},"end":{"line":729,"column":8,"offset":34177}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"raw","value":"<string>","position":{"start":{"line":729,"column":9,"offset":34178},"end":{"line":729,"column":17,"offset":34186}}}],"position":{"start":{"line":729,"column":8,"offset":34177},"end":{"line":729,"column":103,"offset":34272}}}],"position":{"start":{"line":729,"column":1,"offset":34170},"end":{"line":729,"column":103,"offset":34272}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Returns: ","position":{"start":{"line":730,"column":3,"offset":34275},"end":{"line":730,"column":12,"offset":34284}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Data_types"},"children":[{"type":"raw","value":"<any>","position":{"start":{"line":730,"column":13,"offset":34285},"end":{"line":730,"column":18,"offset":34290}}}],"position":{"start":{"line":730,"column":12,"offset":34284},"end":{"line":730,"column":103,"offset":34375}}},{"type":"text","value":" exported module content","position":{"start":{"line":730,"column":103,"offset":34375},"end":{"line":730,"column":127,"offset":34399}}}],"position":{"start":{"line":730,"column":1,"offset":34273},"end":{"line":730,"column":127,"offset":34399}}},{"type":"text","value":"\n"}],"position":{"start":{"line":729,"column":1,"offset":34170},"end":{"line":730,"column":127,"offset":34399}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":732,"column":1,"offset":34401},"end":{"line":732,"column":5,"offset":34405}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.require()"}],"position":{"start":{"line":732,"column":5,"offset":34405},"end":{"line":732,"column":23,"offset":34423}}},{"type":"text","value":" method provides a way to load a module as if ","position":{"start":{"line":732,"column":23,"offset":34423},"end":{"line":732,"column":69,"offset":34469}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":732,"column":69,"offset":34469},"end":{"line":732,"column":80,"offset":34480}}},{"type":"text","value":" was called from the original module.","position":{"start":{"line":732,"column":80,"offset":34480},"end":{"line":732,"column":117,"offset":34517}}}],"position":{"start":{"line":732,"column":1,"offset":34401},"end":{"line":732,"column":117,"offset":34517}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In order to do this, it is necessary to get a reference to the ","position":{"start":{"line":734,"column":1,"offset":34519},"end":{"line":734,"column":64,"offset":34582}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module"}],"position":{"start":{"line":734,"column":64,"offset":34582},"end":{"line":734,"column":72,"offset":34590}}},{"type":"text","value":" object. Since ","position":{"start":{"line":734,"column":72,"offset":34590},"end":{"line":734,"column":87,"offset":34605}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":734,"column":87,"offset":34605},"end":{"line":734,"column":98,"offset":34616}}},{"type":"text","value":" returns the ","position":{"start":{"line":734,"column":98,"offset":34616},"end":{"line":734,"column":111,"offset":34629}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":734,"column":111,"offset":34629},"end":{"line":734,"column":127,"offset":34645}}},{"type":"text","value":", and the ","position":{"start":{"line":734,"column":127,"offset":34645},"end":{"line":734,"column":137,"offset":34655}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module"}],"position":{"start":{"line":734,"column":137,"offset":34655},"end":{"line":734,"column":145,"offset":34663}}},{"type":"text","value":" is typically ","position":{"start":{"line":734,"column":145,"offset":34663},"end":{"line":734,"column":159,"offset":34677}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"only","position":{"start":{"line":734,"column":160,"offset":34678},"end":{"line":734,"column":164,"offset":34682}}}],"position":{"start":{"line":734,"column":159,"offset":34677},"end":{"line":734,"column":165,"offset":34683}}},{"type":"text","value":" available within a specific module's code, it must be explicitly exported in order to be used.","position":{"start":{"line":734,"column":165,"offset":34683},"end":{"line":734,"column":260,"offset":34778}}}],"position":{"start":{"line":734,"column":1,"offset":34519},"end":{"line":734,"column":260,"offset":34778}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":736,"column":5,"offset":34784},"end":{"line":736,"column":9,"offset":34788}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Module"}],"position":{"start":{"line":736,"column":9,"offset":34788},"end":{"line":736,"column":17,"offset":34796}}},{"type":"text","value":" object","position":{"start":{"line":736,"column":17,"offset":34796},"end":{"line":736,"column":24,"offset":34803}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_the_module_object_1"},"children":[{"type":"text","value":"#","position":{"start":{"line":736,"column":25,"offset":34804},"end":{"line":736,"column":26,"offset":34805}}}],"position":{"start":{"line":736,"column":24,"offset":34803},"end":{"line":736,"column":92,"offset":34871}}}],"position":{"start":{"line":736,"column":1,"offset":34780},"end":{"line":736,"column":92,"offset":34871}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This section was moved to ","position":{"start":{"line":738,"column":1,"offset":34873},"end":{"line":738,"column":27,"offset":34899}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/module.html#module_the_module_object"},"children":[{"type":"text","value":"Modules: ","position":{"start":{"line":738,"column":28,"offset":34900},"end":{"line":738,"column":37,"offset":34909}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module"}],"position":{"start":{"line":738,"column":37,"offset":34909},"end":{"line":738,"column":45,"offset":34917}}},{"type":"text","value":" core module","position":{"start":{"line":738,"column":45,"offset":34917},"end":{"line":738,"column":57,"offset":34929}}}],"position":{"start":{"line":738,"column":27,"offset":34899},"end":{"line":738,"column":119,"offset":34991}}},{"type":"text","value":".","position":{"start":{"line":738,"column":119,"offset":34991},"end":{"line":738,"column":120,"offset":34992}}}],"position":{"start":{"line":738,"column":1,"offset":34873},"end":{"line":738,"column":120,"offset":34992}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/module.html#module_module_builtinmodules"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.builtinModules"}],"position":{"start":{"line":740,"column":4,"offset":34997},"end":{"line":740,"column":27,"offset":35020}}}],"position":{"start":{"line":740,"column":3,"offset":34996},"end":{"line":740,"column":93,"offset":35086}}}],"position":{"start":{"line":740,"column":1,"offset":34994},"end":{"line":740,"column":93,"offset":35086}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/module.html#module_module_createrequire_filename"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.createRequire(filename)"}],"position":{"start":{"line":741,"column":4,"offset":35090},"end":{"line":741,"column":36,"offset":35122}}}],"position":{"start":{"line":741,"column":3,"offset":35089},"end":{"line":741,"column":110,"offset":35196}}}],"position":{"start":{"line":741,"column":1,"offset":35087},"end":{"line":741,"column":110,"offset":35196}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/module.html#module_module_syncbuiltinesmexports"},"children":[],"position":{"start":{"line":742,"column":3,"offset":35199},"end":{"line":742,"column":77,"offset":35273}}}],"position":{"start":{"line":742,"column":1,"offset":35197},"end":{"line":742,"column":77,"offset":35273}}},{"type":"text","value":"\n"}],"position":{"start":{"line":740,"column":1,"offset":34994},"end":{"line":742,"column":77,"offset":35273}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":743,"column":1,"offset":35274}}}}