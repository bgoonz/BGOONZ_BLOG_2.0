{"expireTime":9007200908525411000,"key":"transformer-remark-markdown-ast-5ca444a0d892dd087b2f3694a1402b62--","val":{"type":"root","children":[{"type":"heading","depth":1,"children":[{"type":"text","value":"Postgresql Cheat Sheet","position":{"start":{"line":3,"column":3,"offset":4},"end":{"line":3,"column":25,"offset":26},"indent":[]}}],"position":{"start":{"line":3,"column":1,"offset":2},"end":{"line":3,"column":25,"offset":26},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"PostgreSQL commands","position":{"start":{"line":5,"column":1,"offset":28},"end":{"line":5,"column":20,"offset":47},"indent":[]}}],"position":{"start":{"line":5,"column":1,"offset":28},"end":{"line":5,"column":20,"offset":47},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":7,"column":1,"offset":49},"end":{"line":7,"column":4,"offset":52},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"html","value":"<a href=\"http://medium.com/codex\" class=\"markup--anchor markup--h4-anchor\">","position":{"start":{"line":9,"column":6,"offset":59},"end":{"line":9,"column":81,"offset":134},"indent":[]}},{"type":"text","value":"CODEX","position":{"start":{"line":9,"column":81,"offset":134},"end":{"line":9,"column":86,"offset":139},"indent":[]}},{"type":"html","value":"</a>","position":{"start":{"line":9,"column":86,"offset":139},"end":{"line":9,"column":90,"offset":143},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":54},"end":{"line":9,"column":90,"offset":143},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"PostgreSQL Cheat Sheet","position":{"start":{"line":11,"column":5,"offset":149},"end":{"line":11,"column":27,"offset":171},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":145},"end":{"line":11,"column":27,"offset":171},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"strong","children":[{"type":"text","value":"Each table is made up of rows and columns. If you think of a table as a grid, the column go from left to right across the grid and each entry of data is listed down as a row.","position":{"start":{"line":13,"column":8,"offset":180},"end":{"line":13,"column":182,"offset":354},"indent":[]}}],"position":{"start":{"line":13,"column":6,"offset":178},"end":{"line":13,"column":184,"offset":356},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":173},"end":{"line":13,"column":184,"offset":356},"indent":[]}},{"type":"html","value":"<figure>\n<img src=\"https://cdn-images-1.medium.com/max/800/0*ZLWhY1d1jdboZh_s.png\" class=\"graf-image\" />\n</figure>\n<a href=\"https://bryanguner.medium.com/a-list-of-all-of-my-articles-to-link-to-future-posts-1f6f88ebdf5b\" class=\"markup--anchor markup--mixtapeEmbed-anchor\" title=\"https://bryanguner.medium.com/a-list-of-all-of-my-articles-to-link-to-future-posts-1f6f88ebdf5b\">\n<strong>ALLOFMYOTHERARTICLES</strong>\n<br />\nbryanguner.medium.com</a>\n<a href=\"https://bryanguner.medium.com/a-list-of-all-of-my-articles-to-link-to-future-posts-1f6f88ebdf5b\" class=\"js-mixtapeImage mixtapeImage mixtapeImage--empty u-ignoreBlock\">\n</a>","position":{"start":{"line":15,"column":1,"offset":358},"end":{"line":23,"column":5,"offset":988},"indent":[1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Each row in a relational is uniquely identified by a primary key. This can be by one or more sets of column values. In most scenarios it is a single column, such as employeeID.","position":{"start":{"line":25,"column":1,"offset":990},"end":{"line":25,"column":177,"offset":1166},"indent":[]}}],"position":{"start":{"line":25,"column":1,"offset":990},"end":{"line":25,"column":177,"offset":1166},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Every relational table has one primary key. Its purpose is to uniquely identify each row in the database. No two rows can have the same primary key value. The practical result of this is that you can select every single row by just knowing its primary key.","position":{"start":{"line":27,"column":1,"offset":1168},"end":{"line":27,"column":257,"offset":1424},"indent":[]}}],"position":{"start":{"line":27,"column":1,"offset":1168},"end":{"line":27,"column":257,"offset":1424},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"SQL Server UNIQUE constraints allow you to ensure that the data stored in a column, or a group of columns, is unique among the rows in a table.","position":{"start":{"line":29,"column":1,"offset":1426},"end":{"line":29,"column":144,"offset":1569},"indent":[]}}],"position":{"start":{"line":29,"column":1,"offset":1426},"end":{"line":29,"column":144,"offset":1569},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Although both UNIQUE and ","position":{"start":{"line":31,"column":1,"offset":1571},"end":{"line":31,"column":26,"offset":1596},"indent":[]}},{"type":"html","value":"<a href=\"https://www.sqlservertutorial.net/sql-server-basics/sql-server-primary-key/\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":31,"column":26,"offset":1596},"end":{"line":31,"column":152,"offset":1722},"indent":[]}},{"type":"text","value":"PRIMARY KEY","position":{"start":{"line":31,"column":152,"offset":1722},"end":{"line":31,"column":163,"offset":1733},"indent":[]}},{"type":"html","value":"</a>","position":{"start":{"line":31,"column":163,"offset":1733},"end":{"line":31,"column":167,"offset":1737},"indent":[]}},{"type":"text","value":" constraints enforce the uniqueness of data, you should use the UNIQUE constraint instead of PRIMARY KEY constraint when you want to enforce the uniqueness of a column, or a group of columns, that are not the primary key columns.","position":{"start":{"line":31,"column":167,"offset":1737},"end":{"line":31,"column":396,"offset":1966},"indent":[]}}],"position":{"start":{"line":31,"column":1,"offset":1571},"end":{"line":31,"column":396,"offset":1966},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Different from PRIMARY KEY constraints, UNIQUE constraints allow NULL. Moreover, UNIQUE constraints treat the NULL as a regular value, therefore, it only allows one NULL per column.","position":{"start":{"line":33,"column":1,"offset":1968},"end":{"line":33,"column":182,"offset":2149},"indent":[]}}],"position":{"start":{"line":33,"column":1,"offset":1968},"end":{"line":33,"column":182,"offset":2149},"indent":[]}},{"type":"html","value":"<figure>\n<img src=\"https://cdn-images-1.medium.com/max/800/1*kgzq5NoL5ejBGvuZ4qLDaQ.png\" class=\"graf-image\" />\n</figure>\n<figure>\n<img src=\"https://cdn-images-1.medium.com/max/800/1*hr8DccnpiR2Uj5UI3iLsOQ.png\" class=\"graf-image\" />\n</figure>\n<figure>\n<img src=\"https://cdn-images-1.medium.com/max/800/1*RiWJpwpVMdge3Sqofn3srA.png\" class=\"graf-image\" />\n</figure>\n<figure>\n<img src=\"https://cdn-images-1.medium.com/max/800/1*GN5aSwENOvntpfk90rHYFg.png\" class=\"graf-image\" />\n</figure>Create a new <a href=\"https://www.postgresqltutorial.com/postgresql-roles/\" class=\"markup--anchor markup--p-anchor\">role</a>:","position":{"start":{"line":35,"column":1,"offset":2151},"end":{"line":46,"column":135,"offset":2759},"indent":[1,1,1,1,1,1,1,1,1,1,1]}},{"type":"code","lang":null,"meta":null,"value":"CREATE ROLE role_name;","position":{"start":{"line":48,"column":1,"offset":2761},"end":{"line":48,"column":27,"offset":2787},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Create a new role with a ","position":{"start":{"line":50,"column":1,"offset":2789},"end":{"line":50,"column":26,"offset":2814},"indent":[]}},{"type":"inlineCode","value":"username","position":{"start":{"line":50,"column":26,"offset":2814},"end":{"line":50,"column":36,"offset":2824},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":50,"column":36,"offset":2824},"end":{"line":50,"column":41,"offset":2829},"indent":[]}},{"type":"inlineCode","value":"password","position":{"start":{"line":50,"column":41,"offset":2829},"end":{"line":50,"column":51,"offset":2839},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":50,"column":51,"offset":2839},"end":{"line":50,"column":52,"offset":2840},"indent":[]}}],"position":{"start":{"line":50,"column":1,"offset":2789},"end":{"line":50,"column":52,"offset":2840},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"CREATE ROLE username NOINHERIT LOGIN PASSWORD password;","position":{"start":{"line":52,"column":1,"offset":2842},"end":{"line":52,"column":60,"offset":2901},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Change role for the current session to the ","position":{"start":{"line":54,"column":1,"offset":2903},"end":{"line":54,"column":44,"offset":2946},"indent":[]}},{"type":"inlineCode","value":"new_role","position":{"start":{"line":54,"column":44,"offset":2946},"end":{"line":54,"column":54,"offset":2956},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":54,"column":54,"offset":2956},"end":{"line":54,"column":55,"offset":2957},"indent":[]}}],"position":{"start":{"line":54,"column":1,"offset":2903},"end":{"line":54,"column":55,"offset":2957},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"SET ROLE new_role;","position":{"start":{"line":56,"column":1,"offset":2959},"end":{"line":56,"column":23,"offset":2981},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Allow ","position":{"start":{"line":58,"column":1,"offset":2983},"end":{"line":58,"column":7,"offset":2989},"indent":[]}},{"type":"inlineCode","value":"role_1","position":{"start":{"line":58,"column":7,"offset":2989},"end":{"line":58,"column":15,"offset":2997},"indent":[]}},{"type":"text","value":" to set its role as ","position":{"start":{"line":58,"column":15,"offset":2997},"end":{"line":58,"column":35,"offset":3017},"indent":[]}},{"type":"inlineCode","value":"role_2:","position":{"start":{"line":58,"column":35,"offset":3017},"end":{"line":58,"column":44,"offset":3026},"indent":[]}}],"position":{"start":{"line":58,"column":1,"offset":2983},"end":{"line":58,"column":44,"offset":3026},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"GRANT role_2 TO role_1;","position":{"start":{"line":60,"column":1,"offset":3028},"end":{"line":60,"column":28,"offset":3055},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Managing databases","position":{"start":{"line":62,"column":5,"offset":3061},"end":{"line":62,"column":23,"offset":3079},"indent":[]}}],"position":{"start":{"line":62,"column":1,"offset":3057},"end":{"line":62,"column":23,"offset":3079},"indent":[]}},{"type":"paragraph","children":[{"type":"html","value":"<a href=\"https://www.postgresqltutorial.com/postgresql-create-database/\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":64,"column":1,"offset":3081},"end":{"line":64,"column":114,"offset":3194},"indent":[]}},{"type":"text","value":"Create a new database","position":{"start":{"line":64,"column":114,"offset":3194},"end":{"line":64,"column":135,"offset":3215},"indent":[]}},{"type":"html","value":"</a>","position":{"start":{"line":64,"column":135,"offset":3215},"end":{"line":64,"column":139,"offset":3219},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":64,"column":139,"offset":3219},"end":{"line":64,"column":140,"offset":3220},"indent":[]}}],"position":{"start":{"line":64,"column":1,"offset":3081},"end":{"line":64,"column":140,"offset":3220},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"CREATE DATABASE [IF NOT EXISTS] db_name;","position":{"start":{"line":66,"column":1,"offset":3222},"end":{"line":66,"column":45,"offset":3266},"indent":[]}},{"type":"paragraph","children":[{"type":"html","value":"<a href=\"https://www.postgresqltutorial.com/postgresql-drop-database/\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":68,"column":1,"offset":3268},"end":{"line":68,"column":112,"offset":3379},"indent":[]}},{"type":"text","value":"Delete a database permanently","position":{"start":{"line":68,"column":112,"offset":3379},"end":{"line":68,"column":141,"offset":3408},"indent":[]}},{"type":"html","value":"</a>","position":{"start":{"line":68,"column":141,"offset":3408},"end":{"line":68,"column":145,"offset":3412},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":68,"column":145,"offset":3412},"end":{"line":68,"column":146,"offset":3413},"indent":[]}}],"position":{"start":{"line":68,"column":1,"offset":3268},"end":{"line":68,"column":146,"offset":3413},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"DROP DATABASE [IF EXISTS] db_name;","position":{"start":{"line":70,"column":1,"offset":3415},"end":{"line":70,"column":39,"offset":3453},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Managing tables","position":{"start":{"line":72,"column":5,"offset":3459},"end":{"line":72,"column":20,"offset":3474},"indent":[]}}],"position":{"start":{"line":72,"column":1,"offset":3455},"end":{"line":72,"column":20,"offset":3474},"indent":[]}},{"type":"paragraph","children":[{"type":"html","value":"<a href=\"https://www.postgresqltutorial.com/postgresql-create-table/\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":74,"column":1,"offset":3476},"end":{"line":74,"column":111,"offset":3586},"indent":[]}},{"type":"text","value":"Create a new table","position":{"start":{"line":74,"column":111,"offset":3586},"end":{"line":74,"column":129,"offset":3604},"indent":[]}},{"type":"html","value":"</a>","position":{"start":{"line":74,"column":129,"offset":3604},"end":{"line":74,"column":133,"offset":3608},"indent":[]}},{"type":"text","value":" or a ","position":{"start":{"line":74,"column":133,"offset":3608},"end":{"line":74,"column":139,"offset":3614},"indent":[]}},{"type":"html","value":"<a href=\"https://www.postgresqltutorial.com/postgresql-temporary-table/\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":74,"column":139,"offset":3614},"end":{"line":74,"column":252,"offset":3727},"indent":[]}},{"type":"text","value":"temporary table","position":{"start":{"line":74,"column":252,"offset":3727},"end":{"line":74,"column":267,"offset":3742},"indent":[]}},{"type":"html","value":"</a>","position":{"start":{"line":74,"column":267,"offset":3742},"end":{"line":74,"column":271,"offset":3746},"indent":[]}}],"position":{"start":{"line":74,"column":1,"offset":3476},"end":{"line":74,"column":271,"offset":3746},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"CREATE [TEMP] TABLE [IF NOT EXISTS] table_name(\n       pk SERIAL PRIMARY KEY,\n   c1 type(size) NOT NULL,\n   c2 type(size) NULL,\n   ...\n);","position":{"start":{"line":76,"column":1,"offset":3748},"end":{"line":81,"column":7,"offset":3909},"indent":[1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"html","value":"<a href=\"https://www.postgresqltutorial.com/postgresql-add-column/\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":83,"column":1,"offset":3911},"end":{"line":83,"column":109,"offset":4019},"indent":[]}},{"type":"text","value":"Add a new column","position":{"start":{"line":83,"column":109,"offset":4019},"end":{"line":83,"column":125,"offset":4035},"indent":[]}},{"type":"html","value":"</a>","position":{"start":{"line":83,"column":125,"offset":4035},"end":{"line":83,"column":129,"offset":4039},"indent":[]}},{"type":"text","value":" to a table:","position":{"start":{"line":83,"column":129,"offset":4039},"end":{"line":83,"column":141,"offset":4051},"indent":[]}}],"position":{"start":{"line":83,"column":1,"offset":3911},"end":{"line":83,"column":141,"offset":4051},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"ALTER TABLE table_name ADD COLUMN new_column_name TYPE;","position":{"start":{"line":85,"column":1,"offset":4053},"end":{"line":85,"column":60,"offset":4112},"indent":[]}},{"type":"paragraph","children":[{"type":"html","value":"<a href=\"https://www.postgresqltutorial.com/postgresql-drop-column/\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":87,"column":1,"offset":4114},"end":{"line":87,"column":110,"offset":4223},"indent":[]}},{"type":"text","value":"Drop a column","position":{"start":{"line":87,"column":110,"offset":4223},"end":{"line":87,"column":123,"offset":4236},"indent":[]}},{"type":"html","value":"</a>","position":{"start":{"line":87,"column":123,"offset":4236},"end":{"line":87,"column":127,"offset":4240},"indent":[]}},{"type":"text","value":" in a table:","position":{"start":{"line":87,"column":127,"offset":4240},"end":{"line":87,"column":139,"offset":4252},"indent":[]}}],"position":{"start":{"line":87,"column":1,"offset":4114},"end":{"line":87,"column":139,"offset":4252},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"ALTER TABLE table_name DROP COLUMN column_name;","position":{"start":{"line":89,"column":1,"offset":4254},"end":{"line":89,"column":52,"offset":4305},"indent":[]}},{"type":"paragraph","children":[{"type":"html","value":"<a href=\"https://www.postgresqltutorial.com/postgresql-rename-column/\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":91,"column":1,"offset":4307},"end":{"line":91,"column":112,"offset":4418},"indent":[]}},{"type":"text","value":"Rename a column","position":{"start":{"line":91,"column":112,"offset":4418},"end":{"line":91,"column":127,"offset":4433},"indent":[]}},{"type":"html","value":"</a>","position":{"start":{"line":91,"column":127,"offset":4433},"end":{"line":91,"column":131,"offset":4437},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":91,"column":131,"offset":4437},"end":{"line":91,"column":132,"offset":4438},"indent":[]}}],"position":{"start":{"line":91,"column":1,"offset":4307},"end":{"line":91,"column":132,"offset":4438},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"ALTER TABLE table_name RENAME column_name TO new_column_name;","position":{"start":{"line":93,"column":1,"offset":4440},"end":{"line":93,"column":66,"offset":4505},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Set or remove a default value for a column:","position":{"start":{"line":95,"column":1,"offset":4507},"end":{"line":95,"column":44,"offset":4550},"indent":[]}}],"position":{"start":{"line":95,"column":1,"offset":4507},"end":{"line":95,"column":44,"offset":4550},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"ALTER TABLE table_name ALTER COLUMN [SET DEFAULT value | DROP DEFAULT]","position":{"start":{"line":97,"column":1,"offset":4552},"end":{"line":97,"column":75,"offset":4626},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Add a ","position":{"start":{"line":99,"column":1,"offset":4628},"end":{"line":99,"column":7,"offset":4634},"indent":[]}},{"type":"html","value":"<a href=\"https://www.postgresqltutorial.com/postgresql-primary-key/\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":99,"column":7,"offset":4634},"end":{"line":99,"column":116,"offset":4743},"indent":[]}},{"type":"text","value":"primary key","position":{"start":{"line":99,"column":116,"offset":4743},"end":{"line":99,"column":127,"offset":4754},"indent":[]}},{"type":"html","value":"</a>","position":{"start":{"line":99,"column":127,"offset":4754},"end":{"line":99,"column":131,"offset":4758},"indent":[]}},{"type":"text","value":" to a table.","position":{"start":{"line":99,"column":131,"offset":4758},"end":{"line":99,"column":143,"offset":4770},"indent":[]}}],"position":{"start":{"line":99,"column":1,"offset":4628},"end":{"line":99,"column":143,"offset":4770},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"ALTER TABLE table_name ADD PRIMARY KEY (column,...);","position":{"start":{"line":101,"column":1,"offset":4772},"end":{"line":101,"column":57,"offset":4828},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Remove the primary key from a table.","position":{"start":{"line":103,"column":1,"offset":4830},"end":{"line":103,"column":37,"offset":4866},"indent":[]}}],"position":{"start":{"line":103,"column":1,"offset":4830},"end":{"line":103,"column":37,"offset":4866},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"ALTER TABLE table_name\nDROP CONSTRAINT primary_key_constraint_name;","position":{"start":{"line":105,"column":1,"offset":4868},"end":{"line":106,"column":49,"offset":4943},"indent":[1]}},{"type":"paragraph","children":[{"type":"html","value":"<a href=\"https://www.postgresqltutorial.com/postgresql-rename-table/\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":108,"column":1,"offset":4945},"end":{"line":108,"column":111,"offset":5055},"indent":[]}},{"type":"text","value":"Rename a table","position":{"start":{"line":108,"column":111,"offset":5055},"end":{"line":108,"column":125,"offset":5069},"indent":[]}},{"type":"html","value":"</a>","position":{"start":{"line":108,"column":125,"offset":5069},"end":{"line":108,"column":129,"offset":5073},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":108,"column":129,"offset":5073},"end":{"line":108,"column":130,"offset":5074},"indent":[]}}],"position":{"start":{"line":108,"column":1,"offset":4945},"end":{"line":108,"column":130,"offset":5074},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"ALTER TABLE table_name RENAME TO new_table_name;","position":{"start":{"line":110,"column":1,"offset":5076},"end":{"line":110,"column":53,"offset":5128},"indent":[]}},{"type":"paragraph","children":[{"type":"html","value":"<a href=\"https://www.postgresqltutorial.com/postgresql-drop-table/\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":112,"column":1,"offset":5130},"end":{"line":112,"column":109,"offset":5238},"indent":[]}},{"type":"text","value":"Drop a table","position":{"start":{"line":112,"column":109,"offset":5238},"end":{"line":112,"column":121,"offset":5250},"indent":[]}},{"type":"html","value":"</a>","position":{"start":{"line":112,"column":121,"offset":5250},"end":{"line":112,"column":125,"offset":5254},"indent":[]}},{"type":"text","value":" and its dependent objects:","position":{"start":{"line":112,"column":125,"offset":5254},"end":{"line":112,"column":152,"offset":5281},"indent":[]}}],"position":{"start":{"line":112,"column":1,"offset":5130},"end":{"line":112,"column":152,"offset":5281},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"DROP TABLE [IF EXISTS] table_name CASCADE;","position":{"start":{"line":114,"column":1,"offset":5283},"end":{"line":114,"column":47,"offset":5329},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Managing views","position":{"start":{"line":116,"column":5,"offset":5335},"end":{"line":116,"column":19,"offset":5349},"indent":[]}}],"position":{"start":{"line":116,"column":1,"offset":5331},"end":{"line":116,"column":19,"offset":5349},"indent":[]}},{"type":"paragraph","children":[{"type":"html","value":"<a href=\"https://www.postgresqltutorial.com/managing-postgresql-views/\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":118,"column":1,"offset":5351},"end":{"line":118,"column":113,"offset":5463},"indent":[]}},{"type":"text","value":"Create a view","position":{"start":{"line":118,"column":113,"offset":5463},"end":{"line":118,"column":126,"offset":5476},"indent":[]}},{"type":"html","value":"</a>","position":{"start":{"line":118,"column":126,"offset":5476},"end":{"line":118,"column":130,"offset":5480},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":118,"column":130,"offset":5480},"end":{"line":118,"column":131,"offset":5481},"indent":[]}}],"position":{"start":{"line":118,"column":1,"offset":5351},"end":{"line":118,"column":131,"offset":5481},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"CREATE OR REPLACE view_name AS\nquery;","position":{"start":{"line":120,"column":1,"offset":5483},"end":{"line":121,"column":11,"offset":5528},"indent":[1]}},{"type":"paragraph","children":[{"type":"html","value":"<a href=\"https://www.postgresqltutorial.com/postgresql-recursive-view/\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":123,"column":1,"offset":5530},"end":{"line":123,"column":113,"offset":5642},"indent":[]}},{"type":"text","value":"Create a recursive view","position":{"start":{"line":123,"column":113,"offset":5642},"end":{"line":123,"column":136,"offset":5665},"indent":[]}},{"type":"html","value":"</a>","position":{"start":{"line":123,"column":136,"offset":5665},"end":{"line":123,"column":140,"offset":5669},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":123,"column":140,"offset":5669},"end":{"line":123,"column":141,"offset":5670},"indent":[]}}],"position":{"start":{"line":123,"column":1,"offset":5530},"end":{"line":123,"column":141,"offset":5670},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"CREATE RECURSIVE VIEW view_name(column_list) AS\nSELECT column_list;","position":{"start":{"line":125,"column":1,"offset":5672},"end":{"line":126,"column":24,"offset":5747},"indent":[1]}},{"type":"paragraph","children":[{"type":"html","value":"<a href=\"https://www.postgresqltutorial.com/postgresql-materialized-views/\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":128,"column":1,"offset":5749},"end":{"line":128,"column":117,"offset":5865},"indent":[]}},{"type":"text","value":"Create a materialized view","position":{"start":{"line":128,"column":117,"offset":5865},"end":{"line":128,"column":143,"offset":5891},"indent":[]}},{"type":"html","value":"</a>","position":{"start":{"line":128,"column":143,"offset":5891},"end":{"line":128,"column":147,"offset":5895},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":128,"column":147,"offset":5895},"end":{"line":128,"column":148,"offset":5896},"indent":[]}}],"position":{"start":{"line":128,"column":1,"offset":5749},"end":{"line":128,"column":148,"offset":5896},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"CREATE MATERIALIZED VIEW view_name\nAS\nquery\nWITH [NO] DATA;","position":{"start":{"line":130,"column":1,"offset":5898},"end":{"line":133,"column":20,"offset":5973},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Refresh a materialized view:","position":{"start":{"line":135,"column":1,"offset":5975},"end":{"line":135,"column":29,"offset":6003},"indent":[]}}],"position":{"start":{"line":135,"column":1,"offset":5975},"end":{"line":135,"column":29,"offset":6003},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"REFRESH MATERIALIZED VIEW CONCURRENTLY view_name;","position":{"start":{"line":137,"column":1,"offset":6005},"end":{"line":137,"column":54,"offset":6058},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Drop a view:","position":{"start":{"line":139,"column":1,"offset":6060},"end":{"line":139,"column":13,"offset":6072},"indent":[]}}],"position":{"start":{"line":139,"column":1,"offset":6060},"end":{"line":139,"column":13,"offset":6072},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"DROP VIEW [ IF EXISTS ] view_name;","position":{"start":{"line":141,"column":1,"offset":6074},"end":{"line":141,"column":39,"offset":6112},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Drop a materialized view:","position":{"start":{"line":143,"column":1,"offset":6114},"end":{"line":143,"column":26,"offset":6139},"indent":[]}}],"position":{"start":{"line":143,"column":1,"offset":6114},"end":{"line":143,"column":26,"offset":6139},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"DROP MATERIALIZED VIEW view_name;","position":{"start":{"line":145,"column":1,"offset":6141},"end":{"line":145,"column":38,"offset":6178},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Rename a view:","position":{"start":{"line":147,"column":1,"offset":6180},"end":{"line":147,"column":15,"offset":6194},"indent":[]}}],"position":{"start":{"line":147,"column":1,"offset":6180},"end":{"line":147,"column":15,"offset":6194},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"ALTER VIEW view_name RENAME TO new_name;","position":{"start":{"line":149,"column":1,"offset":6196},"end":{"line":149,"column":45,"offset":6240},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Managing indexes","position":{"start":{"line":151,"column":5,"offset":6246},"end":{"line":151,"column":21,"offset":6262},"indent":[]}}],"position":{"start":{"line":151,"column":1,"offset":6242},"end":{"line":151,"column":21,"offset":6262},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Creating an index with the specified name on a table","position":{"start":{"line":153,"column":1,"offset":6264},"end":{"line":153,"column":53,"offset":6316},"indent":[]}}],"position":{"start":{"line":153,"column":1,"offset":6264},"end":{"line":153,"column":53,"offset":6316},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"CREATE [UNIQUE] INDEX index_name\nON table (column,...)","position":{"start":{"line":155,"column":1,"offset":6318},"end":{"line":156,"column":26,"offset":6380},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"Removing a specified index from a table","position":{"start":{"line":158,"column":1,"offset":6382},"end":{"line":158,"column":40,"offset":6421},"indent":[]}}],"position":{"start":{"line":158,"column":1,"offset":6382},"end":{"line":158,"column":40,"offset":6421},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"DROP INDEX index_name;","position":{"start":{"line":160,"column":1,"offset":6423},"end":{"line":160,"column":27,"offset":6449},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Querying data from tables","position":{"start":{"line":162,"column":5,"offset":6455},"end":{"line":162,"column":30,"offset":6480},"indent":[]}}],"position":{"start":{"line":162,"column":1,"offset":6451},"end":{"line":162,"column":30,"offset":6480},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Query all data from a table:","position":{"start":{"line":164,"column":1,"offset":6482},"end":{"line":164,"column":29,"offset":6510},"indent":[]}}],"position":{"start":{"line":164,"column":1,"offset":6482},"end":{"line":164,"column":29,"offset":6510},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"SELECT * FROM table_name;","position":{"start":{"line":166,"column":1,"offset":6512},"end":{"line":166,"column":30,"offset":6541},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Query data from specified columns of all rows in a table:","position":{"start":{"line":168,"column":1,"offset":6543},"end":{"line":168,"column":58,"offset":6600},"indent":[]}}],"position":{"start":{"line":168,"column":1,"offset":6543},"end":{"line":168,"column":58,"offset":6600},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"SELECT column_list\nFROM table;","position":{"start":{"line":170,"column":1,"offset":6602},"end":{"line":171,"column":16,"offset":6640},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"Query data and select only unique rows:","position":{"start":{"line":173,"column":1,"offset":6642},"end":{"line":173,"column":40,"offset":6681},"indent":[]}}],"position":{"start":{"line":173,"column":1,"offset":6642},"end":{"line":173,"column":40,"offset":6681},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"SELECT DISTINCT (column)\nFROM table;","position":{"start":{"line":175,"column":1,"offset":6683},"end":{"line":176,"column":16,"offset":6727},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"Query data from a table with a filter:","position":{"start":{"line":178,"column":1,"offset":6729},"end":{"line":178,"column":39,"offset":6767},"indent":[]}}],"position":{"start":{"line":178,"column":1,"offset":6729},"end":{"line":178,"column":39,"offset":6767},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"SELECT *\nFROM table\nWHERE condition;","position":{"start":{"line":180,"column":1,"offset":6769},"end":{"line":182,"column":21,"offset":6817},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Assign an ","position":{"start":{"line":184,"column":1,"offset":6819},"end":{"line":184,"column":11,"offset":6829},"indent":[]}},{"type":"html","value":"<a href=\"https://www.postgresqltutorial.com/postgresql-alias/\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":184,"column":11,"offset":6829},"end":{"line":184,"column":114,"offset":6932},"indent":[]}},{"type":"text","value":"alias","position":{"start":{"line":184,"column":114,"offset":6932},"end":{"line":184,"column":119,"offset":6937},"indent":[]}},{"type":"html","value":"</a>","position":{"start":{"line":184,"column":119,"offset":6937},"end":{"line":184,"column":123,"offset":6941},"indent":[]}},{"type":"text","value":" to a column in the result set:","position":{"start":{"line":184,"column":123,"offset":6941},"end":{"line":184,"column":154,"offset":6972},"indent":[]}}],"position":{"start":{"line":184,"column":1,"offset":6819},"end":{"line":184,"column":154,"offset":6972},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"SELECT column_1 AS new_column_1, ...\nFROM table;","position":{"start":{"line":186,"column":1,"offset":6974},"end":{"line":187,"column":16,"offset":7030},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"Query data using the ","position":{"start":{"line":189,"column":1,"offset":7032},"end":{"line":189,"column":22,"offset":7053},"indent":[]}},{"type":"inlineCode","value":"LIKE","position":{"start":{"line":189,"column":22,"offset":7053},"end":{"line":189,"column":28,"offset":7059},"indent":[]}},{"type":"text","value":" operator:","position":{"start":{"line":189,"column":28,"offset":7059},"end":{"line":189,"column":38,"offset":7069},"indent":[]}}],"position":{"start":{"line":189,"column":1,"offset":7032},"end":{"line":189,"column":38,"offset":7069},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"SELECT * FROM table_name\nWHERE column LIKE '%value%'","position":{"start":{"line":191,"column":1,"offset":7071},"end":{"line":192,"column":32,"offset":7131},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"Query data using the ","position":{"start":{"line":194,"column":1,"offset":7133},"end":{"line":194,"column":22,"offset":7154},"indent":[]}},{"type":"inlineCode","value":"BETWEEN","position":{"start":{"line":194,"column":22,"offset":7154},"end":{"line":194,"column":32,"offset":7164},"indent":[]}},{"type":"text","value":"operator:","position":{"start":{"line":194,"column":32,"offset":7164},"end":{"line":194,"column":41,"offset":7173},"indent":[]}}],"position":{"start":{"line":194,"column":1,"offset":7133},"end":{"line":194,"column":41,"offset":7173},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"SELECT * FROM table_name\nWHERE column BETWEEN low AND high;","position":{"start":{"line":196,"column":1,"offset":7175},"end":{"line":197,"column":39,"offset":7242},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"Query data using the ","position":{"start":{"line":199,"column":1,"offset":7244},"end":{"line":199,"column":22,"offset":7265},"indent":[]}},{"type":"inlineCode","value":"IN","position":{"start":{"line":199,"column":22,"offset":7265},"end":{"line":199,"column":27,"offset":7270},"indent":[]}},{"type":"text","value":"operator:","position":{"start":{"line":199,"column":27,"offset":7270},"end":{"line":199,"column":36,"offset":7279},"indent":[]}}],"position":{"start":{"line":199,"column":1,"offset":7244},"end":{"line":199,"column":36,"offset":7279},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"SELECT * FROM table_name\nWHERE column IN (value1, value2,...);","position":{"start":{"line":201,"column":1,"offset":7281},"end":{"line":202,"column":42,"offset":7351},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"Constrain the returned rows with the ","position":{"start":{"line":204,"column":1,"offset":7353},"end":{"line":204,"column":38,"offset":7390},"indent":[]}},{"type":"inlineCode","value":"LIMIT","position":{"start":{"line":204,"column":38,"offset":7390},"end":{"line":204,"column":45,"offset":7397},"indent":[]}},{"type":"text","value":" clause:","position":{"start":{"line":204,"column":45,"offset":7397},"end":{"line":204,"column":53,"offset":7405},"indent":[]}}],"position":{"start":{"line":204,"column":1,"offset":7353},"end":{"line":204,"column":53,"offset":7405},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"SELECT * FROM table_name\nLIMIT limit OFFSET offset\nORDER BY column_name;","position":{"start":{"line":206,"column":1,"offset":7407},"end":{"line":208,"column":26,"offset":7491},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Query data from multiple using the ","position":{"start":{"line":210,"column":1,"offset":7493},"end":{"line":210,"column":36,"offset":7528},"indent":[]}},{"type":"html","value":"<a href=\"https://www.postgresqltutorial.com/postgresql-inner-join/\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":210,"column":36,"offset":7528},"end":{"line":210,"column":144,"offset":7636},"indent":[]}},{"type":"text","value":"inner join","position":{"start":{"line":210,"column":144,"offset":7636},"end":{"line":210,"column":154,"offset":7646},"indent":[]}},{"type":"html","value":"</a>","position":{"start":{"line":210,"column":154,"offset":7646},"end":{"line":210,"column":158,"offset":7650},"indent":[]}},{"type":"text","value":", ","position":{"start":{"line":210,"column":158,"offset":7650},"end":{"line":210,"column":160,"offset":7652},"indent":[]}},{"type":"html","value":"<a href=\"https://www.postgresqltutorial.com/postgresql-left-join/\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":210,"column":160,"offset":7652},"end":{"line":210,"column":267,"offset":7759},"indent":[]}},{"type":"text","value":"left join","position":{"start":{"line":210,"column":267,"offset":7759},"end":{"line":210,"column":276,"offset":7768},"indent":[]}},{"type":"html","value":"</a>","position":{"start":{"line":210,"column":276,"offset":7768},"end":{"line":210,"column":280,"offset":7772},"indent":[]}},{"type":"text","value":", ","position":{"start":{"line":210,"column":280,"offset":7772},"end":{"line":210,"column":282,"offset":7774},"indent":[]}},{"type":"html","value":"<a href=\"https://www.postgresqltutorial.com/postgresql-full-outer-join/\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":210,"column":282,"offset":7774},"end":{"line":210,"column":395,"offset":7887},"indent":[]}},{"type":"text","value":"full outer join","position":{"start":{"line":210,"column":395,"offset":7887},"end":{"line":210,"column":410,"offset":7902},"indent":[]}},{"type":"html","value":"</a>","position":{"start":{"line":210,"column":410,"offset":7902},"end":{"line":210,"column":414,"offset":7906},"indent":[]}},{"type":"text","value":", ","position":{"start":{"line":210,"column":414,"offset":7906},"end":{"line":210,"column":416,"offset":7908},"indent":[]}},{"type":"html","value":"<a href=\"https://www.postgresqltutorial.com/postgresql-cross-join/\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":210,"column":416,"offset":7908},"end":{"line":210,"column":524,"offset":8016},"indent":[]}},{"type":"text","value":"cross join","position":{"start":{"line":210,"column":524,"offset":8016},"end":{"line":210,"column":534,"offset":8026},"indent":[]}},{"type":"html","value":"</a>","position":{"start":{"line":210,"column":534,"offset":8026},"end":{"line":210,"column":538,"offset":8030},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":210,"column":538,"offset":8030},"end":{"line":210,"column":543,"offset":8035},"indent":[]}},{"type":"html","value":"<a href=\"https://www.postgresqltutorial.com/postgresql-natural-join/\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":210,"column":543,"offset":8035},"end":{"line":210,"column":653,"offset":8145},"indent":[]}},{"type":"text","value":"natural join","position":{"start":{"line":210,"column":653,"offset":8145},"end":{"line":210,"column":665,"offset":8157},"indent":[]}},{"type":"html","value":"</a>","position":{"start":{"line":210,"column":665,"offset":8157},"end":{"line":210,"column":669,"offset":8161},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":210,"column":669,"offset":8161},"end":{"line":210,"column":670,"offset":8162},"indent":[]}}],"position":{"start":{"line":210,"column":1,"offset":7493},"end":{"line":210,"column":670,"offset":8162},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"SELECT *\nFROM table1\nINNER JOIN table2 ON conditions\nSELECT *\nFROM table1\nLEFT JOIN table2 ON conditions\nSELECT *\nFROM table1\nFULL OUTER JOIN table2 ON conditions\nSELECT *\nFROM table1\nCROSS JOIN table2;\nSELECT *\nFROM table1\nNATURAL JOIN table2;","position":{"start":{"line":212,"column":1,"offset":8164},"end":{"line":226,"column":25,"offset":8468},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Return the number of rows of a table.","position":{"start":{"line":228,"column":1,"offset":8470},"end":{"line":228,"column":38,"offset":8507},"indent":[]}}],"position":{"start":{"line":228,"column":1,"offset":8470},"end":{"line":228,"column":38,"offset":8507},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"SELECT COUNT (*)\nFROM table_name;","position":{"start":{"line":230,"column":1,"offset":8509},"end":{"line":231,"column":21,"offset":8550},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"Sort rows in ascending or descending order:","position":{"start":{"line":233,"column":1,"offset":8552},"end":{"line":233,"column":44,"offset":8595},"indent":[]}}],"position":{"start":{"line":233,"column":1,"offset":8552},"end":{"line":233,"column":44,"offset":8595},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"SELECT select_list\nFROM table\nORDER BY column ASC [DESC], column2 ASC [DESC],...;","position":{"start":{"line":235,"column":1,"offset":8597},"end":{"line":237,"column":56,"offset":8690},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Group rows using ","position":{"start":{"line":239,"column":1,"offset":8692},"end":{"line":239,"column":18,"offset":8709},"indent":[]}},{"type":"inlineCode","value":"GROUP BY","position":{"start":{"line":239,"column":18,"offset":8709},"end":{"line":239,"column":28,"offset":8719},"indent":[]}},{"type":"text","value":" clause.","position":{"start":{"line":239,"column":28,"offset":8719},"end":{"line":239,"column":36,"offset":8727},"indent":[]}}],"position":{"start":{"line":239,"column":1,"offset":8692},"end":{"line":239,"column":36,"offset":8727},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"SELECT *\nFROM table\nGROUP BY column_1, column_2, ...;","position":{"start":{"line":241,"column":1,"offset":8729},"end":{"line":243,"column":38,"offset":8794},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Filter groups using the ","position":{"start":{"line":245,"column":1,"offset":8796},"end":{"line":245,"column":25,"offset":8820},"indent":[]}},{"type":"inlineCode","value":"HAVING","position":{"start":{"line":245,"column":25,"offset":8820},"end":{"line":245,"column":33,"offset":8828},"indent":[]}},{"type":"text","value":" clause.","position":{"start":{"line":245,"column":33,"offset":8828},"end":{"line":245,"column":41,"offset":8836},"indent":[]}}],"position":{"start":{"line":245,"column":1,"offset":8796},"end":{"line":245,"column":41,"offset":8836},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"SELECT *\nFROM table\nGROUP BY column_1\nHAVING condition;","position":{"start":{"line":247,"column":1,"offset":8838},"end":{"line":250,"column":22,"offset":8909},"indent":[1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Set operations","position":{"start":{"line":252,"column":5,"offset":8915},"end":{"line":252,"column":19,"offset":8929},"indent":[]}}],"position":{"start":{"line":252,"column":1,"offset":8911},"end":{"line":252,"column":19,"offset":8929},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Combine the result set of two or more queries with ","position":{"start":{"line":254,"column":1,"offset":8931},"end":{"line":254,"column":52,"offset":8982},"indent":[]}},{"type":"inlineCode","value":"UNION","position":{"start":{"line":254,"column":52,"offset":8982},"end":{"line":254,"column":59,"offset":8989},"indent":[]}},{"type":"text","value":" operator:","position":{"start":{"line":254,"column":59,"offset":8989},"end":{"line":254,"column":69,"offset":8999},"indent":[]}}],"position":{"start":{"line":254,"column":1,"offset":8931},"end":{"line":254,"column":69,"offset":8999},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"SELECT * FROM table1\nUNION\nSELECT * FROM table2;","position":{"start":{"line":256,"column":1,"offset":9001},"end":{"line":258,"column":26,"offset":9061},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Minus a result set using ","position":{"start":{"line":260,"column":1,"offset":9063},"end":{"line":260,"column":26,"offset":9088},"indent":[]}},{"type":"inlineCode","value":"EXCEPT","position":{"start":{"line":260,"column":26,"offset":9088},"end":{"line":260,"column":34,"offset":9096},"indent":[]}},{"type":"text","value":" operator:","position":{"start":{"line":260,"column":34,"offset":9096},"end":{"line":260,"column":44,"offset":9106},"indent":[]}}],"position":{"start":{"line":260,"column":1,"offset":9063},"end":{"line":260,"column":44,"offset":9106},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"SELECT * FROM table1\nEXCEPT\nSELECT * FROM table2;","position":{"start":{"line":262,"column":1,"offset":9108},"end":{"line":264,"column":26,"offset":9169},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Get intersection of the result sets of two queries:","position":{"start":{"line":266,"column":1,"offset":9171},"end":{"line":266,"column":52,"offset":9222},"indent":[]}}],"position":{"start":{"line":266,"column":1,"offset":9171},"end":{"line":266,"column":52,"offset":9222},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"SELECT * FROM table1\nINTERSECT\nSELECT * FROM table2;","position":{"start":{"line":268,"column":1,"offset":9224},"end":{"line":270,"column":26,"offset":9288},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Modifying data","position":{"start":{"line":272,"column":5,"offset":9294},"end":{"line":272,"column":19,"offset":9308},"indent":[]}}],"position":{"start":{"line":272,"column":1,"offset":9290},"end":{"line":272,"column":19,"offset":9308},"indent":[]}},{"type":"paragraph","children":[{"type":"html","value":"<a href=\"https://www.postgresqltutorial.com/postgresql-insert/\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":274,"column":1,"offset":9310},"end":{"line":274,"column":105,"offset":9414},"indent":[]}},{"type":"text","value":"Insert a new row into a table","position":{"start":{"line":274,"column":105,"offset":9414},"end":{"line":274,"column":134,"offset":9443},"indent":[]}},{"type":"html","value":"</a>","position":{"start":{"line":274,"column":134,"offset":9443},"end":{"line":274,"column":138,"offset":9447},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":274,"column":138,"offset":9447},"end":{"line":274,"column":139,"offset":9448},"indent":[]}}],"position":{"start":{"line":274,"column":1,"offset":9310},"end":{"line":274,"column":139,"offset":9448},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"INSERT INTO table(column1,column2,...)\nVALUES(value_1,value_2,...);","position":{"start":{"line":276,"column":1,"offset":9450},"end":{"line":277,"column":33,"offset":9525},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"Insert multiple rows into a table:","position":{"start":{"line":279,"column":1,"offset":9527},"end":{"line":279,"column":35,"offset":9561},"indent":[]}}],"position":{"start":{"line":279,"column":1,"offset":9527},"end":{"line":279,"column":35,"offset":9561},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"INSERT INTO table_name(column1,column2,...)\nVALUES(value_1,value_2,...),\n      (value_1,value_2,...),\n      (value_1,value_2,...)...","position":{"start":{"line":281,"column":1,"offset":9563},"end":{"line":284,"column":35,"offset":9711},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"html","value":"<a href=\"https://www.postgresqltutorial.com/postgresql-update/\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":286,"column":1,"offset":9713},"end":{"line":286,"column":105,"offset":9817},"indent":[]}},{"type":"text","value":"Update","position":{"start":{"line":286,"column":105,"offset":9817},"end":{"line":286,"column":111,"offset":9823},"indent":[]}},{"type":"html","value":"</a>","position":{"start":{"line":286,"column":111,"offset":9823},"end":{"line":286,"column":115,"offset":9827},"indent":[]}},{"type":"text","value":" data for all rows:","position":{"start":{"line":286,"column":115,"offset":9827},"end":{"line":286,"column":134,"offset":9846},"indent":[]}}],"position":{"start":{"line":286,"column":1,"offset":9713},"end":{"line":286,"column":134,"offset":9846},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"UPDATE table_name\nSET column_1 = value_1,\n    ...;","position":{"start":{"line":288,"column":1,"offset":9848},"end":{"line":290,"column":13,"offset":9910},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Update data for a set of rows specified by a condition in the ","position":{"start":{"line":292,"column":1,"offset":9912},"end":{"line":292,"column":63,"offset":9974},"indent":[]}},{"type":"inlineCode","value":"WHERE","position":{"start":{"line":292,"column":63,"offset":9974},"end":{"line":292,"column":70,"offset":9981},"indent":[]}},{"type":"text","value":" clause.","position":{"start":{"line":292,"column":70,"offset":9981},"end":{"line":292,"column":78,"offset":9989},"indent":[]}}],"position":{"start":{"line":292,"column":1,"offset":9912},"end":{"line":292,"column":78,"offset":9989},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"UPDATE table\nSET column_1 = value_1,\n    ...\nWHERE condition;","position":{"start":{"line":294,"column":1,"offset":9991},"end":{"line":297,"column":21,"offset":10068},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"html","value":"<a href=\"https://www.postgresqltutorial.com/postgresql-delete/\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":299,"column":1,"offset":10070},"end":{"line":299,"column":105,"offset":10174},"indent":[]}},{"type":"text","value":"Delete all rows","position":{"start":{"line":299,"column":105,"offset":10174},"end":{"line":299,"column":120,"offset":10189},"indent":[]}},{"type":"html","value":"</a>","position":{"start":{"line":299,"column":120,"offset":10189},"end":{"line":299,"column":124,"offset":10193},"indent":[]}},{"type":"text","value":" of a table:","position":{"start":{"line":299,"column":124,"offset":10193},"end":{"line":299,"column":136,"offset":10205},"indent":[]}}],"position":{"start":{"line":299,"column":1,"offset":10070},"end":{"line":299,"column":136,"offset":10205},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"DELETE FROM table_name;","position":{"start":{"line":301,"column":1,"offset":10207},"end":{"line":301,"column":28,"offset":10234},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Delete specific rows based on a condition:","position":{"start":{"line":303,"column":1,"offset":10236},"end":{"line":303,"column":43,"offset":10278},"indent":[]}}],"position":{"start":{"line":303,"column":1,"offset":10236},"end":{"line":303,"column":43,"offset":10278},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"DELETE FROM table_name\nWHERE condition;","position":{"start":{"line":305,"column":1,"offset":10280},"end":{"line":306,"column":21,"offset":10327},"indent":[1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Performance","position":{"start":{"line":308,"column":5,"offset":10333},"end":{"line":308,"column":16,"offset":10344},"indent":[]}}],"position":{"start":{"line":308,"column":1,"offset":10329},"end":{"line":308,"column":16,"offset":10344},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Show the query plan for a query:","position":{"start":{"line":310,"column":1,"offset":10346},"end":{"line":310,"column":33,"offset":10378},"indent":[]}}],"position":{"start":{"line":310,"column":1,"offset":10346},"end":{"line":310,"column":33,"offset":10378},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"EXPLAIN query;","position":{"start":{"line":312,"column":1,"offset":10380},"end":{"line":312,"column":19,"offset":10398},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Show and execute the query plan for a query:","position":{"start":{"line":314,"column":1,"offset":10400},"end":{"line":314,"column":45,"offset":10444},"indent":[]}}],"position":{"start":{"line":314,"column":1,"offset":10400},"end":{"line":314,"column":45,"offset":10444},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"EXPLAIN ANALYZE query;","position":{"start":{"line":316,"column":1,"offset":10446},"end":{"line":316,"column":27,"offset":10472},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Collect statistics:","position":{"start":{"line":318,"column":1,"offset":10474},"end":{"line":318,"column":20,"offset":10493},"indent":[]}}],"position":{"start":{"line":318,"column":1,"offset":10474},"end":{"line":318,"column":20,"offset":10493},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"ANALYZE table_name;","position":{"start":{"line":320,"column":1,"offset":10495},"end":{"line":320,"column":24,"offset":10518},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":322,"column":1,"offset":10520},"end":{"line":322,"column":4,"offset":10523},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Postgres & JSON:","position":{"start":{"line":324,"column":5,"offset":10529},"end":{"line":324,"column":21,"offset":10545},"indent":[]}}],"position":{"start":{"line":324,"column":1,"offset":10525},"end":{"line":324,"column":21,"offset":10545},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Creating the DB and the Table","position":{"start":{"line":326,"column":5,"offset":10551},"end":{"line":326,"column":34,"offset":10580},"indent":[]}}],"position":{"start":{"line":326,"column":1,"offset":10547},"end":{"line":326,"column":34,"offset":10580},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"DROP DATABASE IF EXISTS books_db;\nCREATE DATABASE books_db WITH ENCODING='UTF8' TEMPLATE template0;\n\nDROP TABLE IF EXISTS books;\n\nCREATE TABLE books (\n  id SERIAL PRIMARY KEY,\n  client VARCHAR NOT NULL,\n  data JSONb NOT NULL\n);","position":{"start":{"line":328,"column":1,"offset":10582},"end":{"line":337,"column":7,"offset":10841},"indent":[1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Populating the DB","position":{"start":{"line":339,"column":5,"offset":10847},"end":{"line":339,"column":22,"offset":10864},"indent":[]}}],"position":{"start":{"line":339,"column":1,"offset":10843},"end":{"line":339,"column":22,"offset":10864},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"INSERT INTO books(client, data) values( 'Joe', '{ \"title\": \"Siddhartha\", \"author\": { \"first_name\": \"Herman\", \"last_name\": \"Hesse\" } }' ); INSERT INTO books(client, data) values('Jenny', '{ \"title\": \"Bryan Guner\", \"author\": { \"first_name\": \"Jack\", \"last_name\": \"Kerouac\" } }'); INSERT INTO books(client, data) values('Jenny', '{ \"title\": \"100 aos de soledad\", \"author\": { \"first_name\": \"Gabo\", \"last_name\": \"Marquz\" } }');","position":{"start":{"line":341,"column":1,"offset":10866},"end":{"line":341,"column":428,"offset":11293},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Lets see everything inside the table books:","position":{"start":{"line":343,"column":1,"offset":11295},"end":{"line":343,"column":44,"offset":11338},"indent":[]}}],"position":{"start":{"line":343,"column":1,"offset":11295},"end":{"line":343,"column":44,"offset":11338},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"SELECT * FROM books;","position":{"start":{"line":345,"column":1,"offset":11340},"end":{"line":345,"column":25,"offset":11364},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Output:","position":{"start":{"line":347,"column":1,"offset":11366},"end":{"line":347,"column":8,"offset":11373},"indent":[]}}],"position":{"start":{"line":347,"column":1,"offset":11366},"end":{"line":347,"column":8,"offset":11373},"indent":[]}},{"type":"html","value":"<figure>\n<img src=\"https://cdn-images-1.medium.com/max/800/0*GOQQ0qNGak2yIrtQ\" class=\"graf-image\" />\n</figure>### `->` operator returns values out of JSON columns","position":{"start":{"line":349,"column":1,"offset":11375},"end":{"line":351,"column":62,"offset":11537},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Selecting 1 column:","position":{"start":{"line":353,"column":1,"offset":11539},"end":{"line":353,"column":20,"offset":11558},"indent":[]}}],"position":{"start":{"line":353,"column":1,"offset":11539},"end":{"line":353,"column":20,"offset":11558},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"SELECT client,\n    data->'title' AS title\n    FROM books;","position":{"start":{"line":355,"column":1,"offset":11560},"end":{"line":357,"column":20,"offset":11629},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Output:","position":{"start":{"line":359,"column":1,"offset":11631},"end":{"line":359,"column":8,"offset":11638},"indent":[]}}],"position":{"start":{"line":359,"column":1,"offset":11631},"end":{"line":359,"column":8,"offset":11638},"indent":[]}},{"type":"html","value":"<figure>\n<img src=\"https://cdn-images-1.medium.com/max/800/0*OIVYOfYcbVh65Mt5\" class=\"graf-image\" />\n</figure>Selecting 2 columns:","position":{"start":{"line":361,"column":1,"offset":11640},"end":{"line":363,"column":30,"offset":11770},"indent":[1,1]}},{"type":"code","lang":null,"meta":null,"value":"SELECT client,\n   data->'title' AS title, data->'author' AS author\n   FROM books;","position":{"start":{"line":365,"column":1,"offset":11772},"end":{"line":367,"column":19,"offset":11865},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Output:","position":{"start":{"line":369,"column":1,"offset":11867},"end":{"line":369,"column":8,"offset":11874},"indent":[]}}],"position":{"start":{"line":369,"column":1,"offset":11867},"end":{"line":369,"column":8,"offset":11874},"indent":[]}},{"type":"html","value":"<figure>\n<img src=\"https://cdn-images-1.medium.com/max/800/0*fEzPkSY8yGexKOk4\" class=\"graf-image\" />\n</figure>### `->` vs `->>`","position":{"start":{"line":371,"column":1,"offset":11876},"end":{"line":373,"column":27,"offset":12003},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The ","position":{"start":{"line":375,"column":1,"offset":12005},"end":{"line":375,"column":5,"offset":12009},"indent":[]}},{"type":"inlineCode","value":"->","position":{"start":{"line":375,"column":5,"offset":12009},"end":{"line":375,"column":9,"offset":12013},"indent":[]}},{"type":"text","value":" operator returns the original JSON type (which might be an object), whereas ","position":{"start":{"line":375,"column":9,"offset":12013},"end":{"line":375,"column":86,"offset":12090},"indent":[]}},{"type":"inlineCode","value":"->>","position":{"start":{"line":375,"column":86,"offset":12090},"end":{"line":375,"column":91,"offset":12095},"indent":[]}},{"type":"text","value":" returns text.","position":{"start":{"line":375,"column":91,"offset":12095},"end":{"line":375,"column":105,"offset":12109},"indent":[]}}],"position":{"start":{"line":375,"column":1,"offset":12005},"end":{"line":375,"column":105,"offset":12109},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Return NESTED objects","position":{"start":{"line":377,"column":5,"offset":12115},"end":{"line":377,"column":26,"offset":12136},"indent":[]}}],"position":{"start":{"line":377,"column":1,"offset":12111},"end":{"line":377,"column":26,"offset":12136},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You can use the ","position":{"start":{"line":379,"column":1,"offset":12138},"end":{"line":379,"column":17,"offset":12154},"indent":[]}},{"type":"inlineCode","value":"->","position":{"start":{"line":379,"column":17,"offset":12154},"end":{"line":379,"column":21,"offset":12158},"indent":[]}},{"type":"text","value":" to return a nested object and thus chain the operators:","position":{"start":{"line":379,"column":21,"offset":12158},"end":{"line":379,"column":77,"offset":12214},"indent":[]}}],"position":{"start":{"line":379,"column":1,"offset":12138},"end":{"line":379,"column":77,"offset":12214},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"SELECT client,\n   data->'author'->'last_name' AS author\n   FROM books;","position":{"start":{"line":381,"column":1,"offset":12216},"end":{"line":383,"column":19,"offset":12298},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Output:","position":{"start":{"line":385,"column":1,"offset":12300},"end":{"line":385,"column":8,"offset":12307},"indent":[]}}],"position":{"start":{"line":385,"column":1,"offset":12300},"end":{"line":385,"column":8,"offset":12307},"indent":[]}},{"type":"html","value":"<figure>\n<img src=\"https://cdn-images-1.medium.com/max/800/0*lwy8bR7igaroMXeb\" class=\"graf-image\" />\n</figure>### Filtering","position":{"start":{"line":387,"column":1,"offset":12309},"end":{"line":389,"column":23,"offset":12432},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Select rows based on a value inside your JSON:","position":{"start":{"line":391,"column":1,"offset":12434},"end":{"line":391,"column":47,"offset":12480},"indent":[]}}],"position":{"start":{"line":391,"column":1,"offset":12434},"end":{"line":391,"column":47,"offset":12480},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"SELECT\n client,\n data->'title' AS title\n FROM books\n  WHERE data->'title' = '\"Bryan Guner\"';","position":{"start":{"line":393,"column":1,"offset":12482},"end":{"line":397,"column":45,"offset":12594},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Notice WHERE uses ","position":{"start":{"line":399,"column":1,"offset":12596},"end":{"line":399,"column":19,"offset":12614},"indent":[]}},{"type":"inlineCode","value":"->","position":{"start":{"line":399,"column":19,"offset":12614},"end":{"line":399,"column":23,"offset":12618},"indent":[]}},{"type":"text","value":" so we must compare to JSON ","position":{"start":{"line":399,"column":23,"offset":12618},"end":{"line":399,"column":51,"offset":12646},"indent":[]}},{"type":"inlineCode","value":"'\"Bryan Guner\"'","position":{"start":{"line":399,"column":51,"offset":12646},"end":{"line":399,"column":68,"offset":12663},"indent":[]}}],"position":{"start":{"line":399,"column":1,"offset":12596},"end":{"line":399,"column":68,"offset":12663},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Or we could use ","position":{"start":{"line":401,"column":1,"offset":12665},"end":{"line":401,"column":17,"offset":12681},"indent":[]}},{"type":"inlineCode","value":"->>","position":{"start":{"line":401,"column":17,"offset":12681},"end":{"line":401,"column":22,"offset":12686},"indent":[]}},{"type":"text","value":" and compare to ","position":{"start":{"line":401,"column":22,"offset":12686},"end":{"line":401,"column":38,"offset":12702},"indent":[]}},{"type":"inlineCode","value":"'Bryan Guner'","position":{"start":{"line":401,"column":38,"offset":12702},"end":{"line":401,"column":53,"offset":12717},"indent":[]}}],"position":{"start":{"line":401,"column":1,"offset":12665},"end":{"line":401,"column":53,"offset":12717},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Output:","position":{"start":{"line":403,"column":1,"offset":12719},"end":{"line":403,"column":8,"offset":12726},"indent":[]}}],"position":{"start":{"line":403,"column":1,"offset":12719},"end":{"line":403,"column":8,"offset":12726},"indent":[]}},{"type":"html","value":"<figure>\n<img src=\"https://cdn-images-1.medium.com/max/800/0*poASndLoU71qlXqE\" class=\"graf-image\" />\n</figure>### Nested filtering","position":{"start":{"line":405,"column":1,"offset":12728},"end":{"line":407,"column":30,"offset":12858},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Find rows based on the value of a nested JSON object:","position":{"start":{"line":409,"column":1,"offset":12860},"end":{"line":409,"column":54,"offset":12913},"indent":[]}}],"position":{"start":{"line":409,"column":1,"offset":12860},"end":{"line":409,"column":54,"offset":12913},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"SELECT\n client,\n data->'title' AS title\n FROM books\n  WHERE data->'author'->>'last_name' = 'Kerouac';","position":{"start":{"line":411,"column":1,"offset":12915},"end":{"line":415,"column":54,"offset":13036},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Output:","position":{"start":{"line":417,"column":1,"offset":13038},"end":{"line":417,"column":8,"offset":13045},"indent":[]}}],"position":{"start":{"line":417,"column":1,"offset":13038},"end":{"line":417,"column":8,"offset":13045},"indent":[]}},{"type":"html","value":"<figure>\n<img src=\"https://cdn-images-1.medium.com/max/800/0*R1kOhDK19ntdUYkq\" class=\"graf-image\" />\n</figure>### A real world example","position":{"start":{"line":419,"column":1,"offset":13047},"end":{"line":421,"column":34,"offset":13181},"indent":[1,1]}},{"type":"code","lang":null,"meta":null,"value":"CREATE TABLE events (\n  name varchar(200),\n  visitor_id varchar(200),\n  properties json,\n  browser json\n);","position":{"start":{"line":423,"column":1,"offset":13183},"end":{"line":428,"column":7,"offset":13313},"indent":[1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"We're going to store events in this table, like pageviews. Each event has properties, which could be anything (e.g. current page) and also sends information about the browser (like OS, screen resolution, etc). Both of these are completely free form and could change over time (as we think of extra stuff to track).","position":{"start":{"line":430,"column":1,"offset":13315},"end":{"line":430,"column":315,"offset":13629},"indent":[]}}],"position":{"start":{"line":430,"column":1,"offset":13315},"end":{"line":430,"column":315,"offset":13629},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"INSERT INTO events VALUES (\n  'pageview', '1',\n  '{ \"page\": \"/\" }',\n  '{ \"name\": \"Chrome\", \"os\": \"Mac\", \"resolution\": { \"x\": 1440, \"y\": 900 } }'\n);\nINSERT INTO events VALUES (\n  'pageview', '2',\n  '{ \"page\": \"/\" }',\n  '{ \"name\": \"Firefox\", \"os\": \"Windows\", \"resolution\": { \"x\": 1920, \"y\": 1200 } }'\n);\nINSERT INTO events VALUES (\n  'pageview', '1',\n  '{ \"page\": \"/account\" }',\n  '{ \"name\": \"Chrome\", \"os\": \"Mac\", \"resolution\": { \"x\": 1440, \"y\": 900 } }'\n);\nINSERT INTO events VALUES (\n  'purchase', '5',\n  '{ \"amount\": 10 }',\n  '{ \"name\": \"Firefox\", \"os\": \"Windows\", \"resolution\": { \"x\": 1024, \"y\": 768 } }'\n);\nINSERT INTO events VALUES (\n  'purchase', '15',\n  '{ \"amount\": 200 }',\n  '{ \"name\": \"Firefox\", \"os\": \"Windows\", \"resolution\": { \"x\": 1280, \"y\": 800 } }'\n);\nINSERT INTO events VALUES (\n  'purchase', '15',\n  '{ \"amount\": 500 }',\n  '{ \"name\": \"Firefox\", \"os\": \"Windows\", \"resolution\": { \"x\": 1280, \"y\": 800 } }'\n);","position":{"start":{"line":432,"column":1,"offset":13631},"end":{"line":461,"column":7,"offset":14673},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Now lets select everything:","position":{"start":{"line":463,"column":1,"offset":14675},"end":{"line":463,"column":28,"offset":14702},"indent":[]}}],"position":{"start":{"line":463,"column":1,"offset":14675},"end":{"line":463,"column":28,"offset":14702},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"SELECT * FROM events;","position":{"start":{"line":465,"column":1,"offset":14704},"end":{"line":465,"column":26,"offset":14729},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Output:","position":{"start":{"line":467,"column":1,"offset":14731},"end":{"line":467,"column":8,"offset":14738},"indent":[]}}],"position":{"start":{"line":467,"column":1,"offset":14731},"end":{"line":467,"column":8,"offset":14738},"indent":[]}},{"type":"html","value":"<figure>\n<img src=\"https://cdn-images-1.medium.com/max/800/0*ZPHfB4FxjSIlAVxL\" class=\"graf-image\" />\n</figure>### JSON operators + PostgreSQL aggregate functions","position":{"start":{"line":469,"column":1,"offset":14740},"end":{"line":471,"column":61,"offset":14901},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Using the JSON operators, combined with traditional PostgreSQL aggregate functions, we can pull out whatever we want. You have the full might of an RDBMS at your disposal.","position":{"start":{"line":473,"column":1,"offset":14903},"end":{"line":473,"column":172,"offset":15074},"indent":[]}}],"position":{"start":{"line":473,"column":1,"offset":14903},"end":{"line":473,"column":172,"offset":15074},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"html","value":"<span id=\"4ffd\">","position":{"start":{"line":475,"column":5,"offset":15080},"end":{"line":475,"column":21,"offset":15096},"indent":[]}},{"type":"text","value":"Lets see browser usage:","position":{"start":{"line":475,"column":21,"offset":15096},"end":{"line":475,"column":44,"offset":15119},"indent":[]}},{"type":"html","value":"</span>","position":{"start":{"line":475,"column":44,"offset":15119},"end":{"line":475,"column":51,"offset":15126},"indent":[]}}],"position":{"start":{"line":475,"column":5,"offset":15080},"end":{"line":475,"column":51,"offset":15126},"indent":[]}}],"position":{"start":{"line":475,"column":1,"offset":15076},"end":{"line":475,"column":51,"offset":15126},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"html","value":"<span id=\"261c\">","position":{"start":{"line":476,"column":5,"offset":15131},"end":{"line":476,"column":21,"offset":15147},"indent":[]}},{"type":"inlineCode","value":"SELECT browser->>'name' AS browser, count(browser) FROM events GROUP BY browser->>'name';","position":{"start":{"line":476,"column":21,"offset":15147},"end":{"line":476,"column":112,"offset":15238},"indent":[]}},{"type":"html","value":"</span>","position":{"start":{"line":476,"column":112,"offset":15238},"end":{"line":476,"column":119,"offset":15245},"indent":[]}}],"position":{"start":{"line":476,"column":5,"offset":15131},"end":{"line":476,"column":119,"offset":15245},"indent":[]}}],"position":{"start":{"line":476,"column":1,"offset":15127},"end":{"line":476,"column":119,"offset":15245},"indent":[]}}],"position":{"start":{"line":475,"column":1,"offset":15076},"end":{"line":476,"column":119,"offset":15245},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"Output:","position":{"start":{"line":478,"column":1,"offset":15247},"end":{"line":478,"column":8,"offset":15254},"indent":[]}}],"position":{"start":{"line":478,"column":1,"offset":15247},"end":{"line":478,"column":8,"offset":15254},"indent":[]}},{"type":"html","value":"<figure>\n<img src=\"https://cdn-images-1.medium.com/max/800/0*4lEv2DgUk33FeUgo\" class=\"graf-image\" />\n</figure>- <span id=\"946c\">Total revenue per visitor:</span>","position":{"start":{"line":480,"column":1,"offset":15256},"end":{"line":482,"column":61,"offset":15417},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"inlineCode","value":"SELECT visitor_id, SUM(CAST(properties->>'amount' AS integer)) AS total FROM events WHERE CAST(properties->>'amount' AS integer) > 0 GROUP BY visitor_id;","position":{"start":{"line":484,"column":1,"offset":15419},"end":{"line":484,"column":156,"offset":15574},"indent":[]}}],"position":{"start":{"line":484,"column":1,"offset":15419},"end":{"line":484,"column":156,"offset":15574},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Output:","position":{"start":{"line":486,"column":1,"offset":15576},"end":{"line":486,"column":8,"offset":15583},"indent":[]}}],"position":{"start":{"line":486,"column":1,"offset":15576},"end":{"line":486,"column":8,"offset":15583},"indent":[]}},{"type":"html","value":"<figure>\n<img src=\"https://cdn-images-1.medium.com/max/800/0*HxOS3CgwXBJ6A2FP\" class=\"graf-image\" />\n</figure>- <span id=\"9850\">Average screen resolution</span>\n- <span id=\"132f\">`SELECT AVG(CAST(browser->'resolution'->>'x' AS integer)) AS width, AVG(CAST(browser->'resolution'->>'y' AS integer)) AS height FROM events;`</span>","position":{"start":{"line":488,"column":1,"offset":15585},"end":{"line":491,"column":167,"offset":15912},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Output:","position":{"start":{"line":493,"column":1,"offset":15914},"end":{"line":493,"column":8,"offset":15921},"indent":[]}}],"position":{"start":{"line":493,"column":1,"offset":15914},"end":{"line":493,"column":8,"offset":15921},"indent":[]}},{"type":"html","value":"<figure>\n<img src=\"https://cdn-images-1.medium.com/max/800/0*iyv4Iv4Rc8M8mwt1\" class=\"graf-image\" />\n</figure>#### If you found this guide helpful feel free to checkout my github/gists where I host similar content:","position":{"start":{"line":495,"column":1,"offset":15923},"end":{"line":497,"column":114,"offset":16137},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"html","value":"<a href=\"https://gist.github.com/bgoonz\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":499,"column":1,"offset":16139},"end":{"line":499,"column":82,"offset":16220},"indent":[]}},{"type":"text","value":"bgoonz's gists  GitHub","position":{"start":{"line":499,"column":82,"offset":16220},"end":{"line":499,"column":105,"offset":16243},"indent":[]}},{"type":"html","value":"</a>","position":{"start":{"line":499,"column":105,"offset":16243},"end":{"line":499,"column":109,"offset":16247},"indent":[]}}],"position":{"start":{"line":499,"column":1,"offset":16139},"end":{"line":499,"column":109,"offset":16247},"indent":[]}},{"type":"html","value":"<a href=\"https://github.com/bgoonz\" class=\"markup--anchor markup--mixtapeEmbed-anchor\" title=\"https://github.com/bgoonz\">\n<strong>bgoonzOverview</strong>\n<br />\n<em>Web Developer, Electrical Engineer JavaScript | CSS | Bootstrap | Python | React | Node.js | Express | Sequelize</em>github.com</a>\n<a href=\"https://github.com/bgoonz\" class=\"js-mixtapeImage mixtapeImage u-ignoreBlock\">\n</a>","position":{"start":{"line":501,"column":1,"offset":16249},"end":{"line":506,"column":5,"offset":16642},"indent":[1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Or Checkout my personal Resource Site:","position":{"start":{"line":508,"column":1,"offset":16644},"end":{"line":508,"column":39,"offset":16682},"indent":[]}}],"position":{"start":{"line":508,"column":1,"offset":16644},"end":{"line":508,"column":39,"offset":16682},"indent":[]}},{"type":"html","value":"<a href=\"https://bgoonzblog20master.gatsbyjs.io/docs/sitemap\" class=\"markup--anchor markup--mixtapeEmbed-anchor\" title=\"https://bgoonzblog20master.gatsbyjs.io/docs/sitemap\">\n<strong>a/A-Student-Resources</strong>\n<br />\n<em>Edit description</em>goofy-euclid-1cd736.netlify.app</a>\n<a href=\"https://bgoonzblog20master.gatsbyjs.io/docs/sitemap\" class=\"js-mixtapeImage mixtapeImage u-ignoreBlock\">\n</a>","position":{"start":{"line":510,"column":1,"offset":16684},"end":{"line":515,"column":5,"offset":17083},"indent":[1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"If you found this guide helpful feel free to checkout my GitHub/gists where I host similar content:","position":{"start":{"line":517,"column":5,"offset":17089},"end":{"line":517,"column":104,"offset":17188},"indent":[]}}],"position":{"start":{"line":517,"column":1,"offset":17085},"end":{"line":517,"column":104,"offset":17188},"indent":[]}},{"type":"html","value":"<a href=\"https://gist.github.com/bgoonz\" class=\"markup--anchor markup--mixtapeEmbed-anchor\" title=\"https://gist.github.com/bgoonz\">\n<strong>bgoonz's gists</strong>\n<br />\n<em>Instantly share code, notes, and snippets. Web Developer, Electrical Engineer JavaScript | CSS | Bootstrap | Python |</em>gist.github.com</a>\n<a href=\"https://gist.github.com/bgoonz\" class=\"js-mixtapeImage mixtapeImage u-ignoreBlock\">\n</a>","position":{"start":{"line":519,"column":1,"offset":17190},"end":{"line":524,"column":5,"offset":17605},"indent":[1,1,1,1,1]}},{"type":"html","value":"<a href=\"https://github.com/bgoonz\" class=\"markup--anchor markup--mixtapeEmbed-anchor\" title=\"https://github.com/bgoonz\">\n<strong>bgoonzOverview</strong>\n<br />\n<em>Web Developer, Electrical Engineer JavaScript | CSS | Bootstrap | Python | React | Node.js | Express | Sequelize</em>github.com</a>\n<a href=\"https://github.com/bgoonz\" class=\"js-mixtapeImage mixtapeImage u-ignoreBlock\">\n</a>","position":{"start":{"line":526,"column":1,"offset":17607},"end":{"line":531,"column":5,"offset":18000},"indent":[1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Or Checkout my personal Resource Site:","position":{"start":{"line":533,"column":5,"offset":18006},"end":{"line":533,"column":43,"offset":18044},"indent":[]}}],"position":{"start":{"line":533,"column":1,"offset":18002},"end":{"line":533,"column":43,"offset":18044},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":534,"column":1,"offset":18045}}}}