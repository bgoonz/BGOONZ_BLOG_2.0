{"expireTime":9007200903816787000,"key":"transformer-remark-markdown-html-ast-ab2e0ab91fa6052a54219c63ca1f4a62--","val":{"type":"root","children":[{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Modules: CommonJS modules","position":{"start":{"line":2,"column":4,"offset":4},"end":{"line":2,"column":29,"offset":29}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_modules_commonjs_modules"},"children":[{"type":"text","value":"#","position":{"start":{"line":2,"column":30,"offset":30},"end":{"line":2,"column":31,"offset":31}}}],"position":{"start":{"line":2,"column":29,"offset":29},"end":{"line":2,"column":102,"offset":102}}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":102,"offset":102}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/documentation.html#documentation_stability_index"},"children":[{"type":"text","value":"Stability: 2","position":{"start":{"line":4,"column":2,"offset":105},"end":{"line":4,"column":14,"offset":117}}}],"position":{"start":{"line":4,"column":1,"offset":104},"end":{"line":4,"column":88,"offset":191}}},{"type":"text","value":" - Stable","position":{"start":{"line":4,"column":88,"offset":191},"end":{"line":4,"column":97,"offset":200}}}],"position":{"start":{"line":4,"column":1,"offset":104},"end":{"line":4,"column":97,"offset":200}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In the Node.js module system, each file is treated as a separate module. For example, consider a file named ","position":{"start":{"line":6,"column":1,"offset":202},"end":{"line":6,"column":109,"offset":310}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"foo.js"}],"position":{"start":{"line":6,"column":109,"offset":310},"end":{"line":6,"column":117,"offset":318}}},{"type":"text","value":":","position":{"start":{"line":6,"column":117,"offset":318},"end":{"line":6,"column":118,"offset":319}}}],"position":{"start":{"line":6,"column":1,"offset":202},"end":{"line":6,"column":118,"offset":319}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const circle = require('./circle.js');\nconsole.log(`The area of a circle of radius 4 is ${circle.area(4)}`);\n"}],"position":{"start":{"line":8,"column":1,"offset":321},"end":{"line":11,"column":4,"offset":437}}}],"position":{"start":{"line":8,"column":1,"offset":321},"end":{"line":11,"column":4,"offset":437}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"On the first line, ","position":{"start":{"line":13,"column":1,"offset":439},"end":{"line":13,"column":20,"offset":458}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"foo.js"}],"position":{"start":{"line":13,"column":20,"offset":458},"end":{"line":13,"column":28,"offset":466}}},{"type":"text","value":" loads the module ","position":{"start":{"line":13,"column":28,"offset":466},"end":{"line":13,"column":46,"offset":484}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"circle.js"}],"position":{"start":{"line":13,"column":46,"offset":484},"end":{"line":13,"column":57,"offset":495}}},{"type":"text","value":" that is in the same directory as ","position":{"start":{"line":13,"column":57,"offset":495},"end":{"line":13,"column":91,"offset":529}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"foo.js"}],"position":{"start":{"line":13,"column":91,"offset":529},"end":{"line":13,"column":99,"offset":537}}},{"type":"text","value":".","position":{"start":{"line":13,"column":99,"offset":537},"end":{"line":13,"column":100,"offset":538}}}],"position":{"start":{"line":13,"column":1,"offset":439},"end":{"line":13,"column":100,"offset":538}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Here are the contents of ","position":{"start":{"line":15,"column":1,"offset":540},"end":{"line":15,"column":26,"offset":565}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"circle.js"}],"position":{"start":{"line":15,"column":26,"offset":565},"end":{"line":15,"column":37,"offset":576}}},{"type":"text","value":":","position":{"start":{"line":15,"column":37,"offset":576},"end":{"line":15,"column":38,"offset":577}}}],"position":{"start":{"line":15,"column":1,"offset":540},"end":{"line":15,"column":38,"offset":577}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const { PI } = Math;\n\nexports.area = (r) => PI * r ** 2;\n\nexports.circumference = (r) => 2 * PI * r;\n"}],"position":{"start":{"line":17,"column":1,"offset":579},"end":{"line":23,"column":4,"offset":687}}}],"position":{"start":{"line":17,"column":1,"offset":579},"end":{"line":23,"column":4,"offset":687}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The module ","position":{"start":{"line":25,"column":1,"offset":689},"end":{"line":25,"column":12,"offset":700}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"circle.js"}],"position":{"start":{"line":25,"column":12,"offset":700},"end":{"line":25,"column":23,"offset":711}}},{"type":"text","value":" has exported the functions ","position":{"start":{"line":25,"column":23,"offset":711},"end":{"line":25,"column":51,"offset":739}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"area()"}],"position":{"start":{"line":25,"column":51,"offset":739},"end":{"line":25,"column":59,"offset":747}}},{"type":"text","value":" and ","position":{"start":{"line":25,"column":59,"offset":747},"end":{"line":25,"column":64,"offset":752}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"circumference()"}],"position":{"start":{"line":25,"column":64,"offset":752},"end":{"line":25,"column":81,"offset":769}}},{"type":"text","value":". Functions and objects are added to the root of a module by specifying additional properties on the special ","position":{"start":{"line":25,"column":81,"offset":769},"end":{"line":25,"column":190,"offset":878}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":25,"column":190,"offset":878},"end":{"line":25,"column":199,"offset":887}}},{"type":"text","value":" object.","position":{"start":{"line":25,"column":199,"offset":887},"end":{"line":25,"column":207,"offset":895}}}],"position":{"start":{"line":25,"column":1,"offset":689},"end":{"line":25,"column":207,"offset":895}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Variables local to the module will be private, because the module is wrapped in a function by Node.js (see ","position":{"start":{"line":27,"column":1,"offset":897},"end":{"line":27,"column":108,"offset":1004}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_the_module_wrapper"},"children":[{"type":"text","value":"module wrapper","position":{"start":{"line":27,"column":109,"offset":1005},"end":{"line":27,"column":123,"offset":1019}}}],"position":{"start":{"line":27,"column":108,"offset":1004},"end":{"line":27,"column":188,"offset":1084}}},{"type":"text","value":"). In this example, the variable ","position":{"start":{"line":27,"column":188,"offset":1084},"end":{"line":27,"column":221,"offset":1117}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"PI"}],"position":{"start":{"line":27,"column":221,"offset":1117},"end":{"line":27,"column":225,"offset":1121}}},{"type":"text","value":" is private to ","position":{"start":{"line":27,"column":225,"offset":1121},"end":{"line":27,"column":240,"offset":1136}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"circle.js"}],"position":{"start":{"line":27,"column":240,"offset":1136},"end":{"line":27,"column":251,"offset":1147}}},{"type":"text","value":".","position":{"start":{"line":27,"column":251,"offset":1147},"end":{"line":27,"column":252,"offset":1148}}}],"position":{"start":{"line":27,"column":1,"offset":897},"end":{"line":27,"column":252,"offset":1148}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":29,"column":1,"offset":1150},"end":{"line":29,"column":5,"offset":1154}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":29,"column":5,"offset":1154},"end":{"line":29,"column":21,"offset":1170}}},{"type":"text","value":" property can be assigned a new value (such as a function or object).","position":{"start":{"line":29,"column":21,"offset":1170},"end":{"line":29,"column":90,"offset":1239}}}],"position":{"start":{"line":29,"column":1,"offset":1150},"end":{"line":29,"column":90,"offset":1239}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Below, ","position":{"start":{"line":31,"column":1,"offset":1241},"end":{"line":31,"column":8,"offset":1248}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"bar.js"}],"position":{"start":{"line":31,"column":8,"offset":1248},"end":{"line":31,"column":16,"offset":1256}}},{"type":"text","value":" makes use of the ","position":{"start":{"line":31,"column":16,"offset":1256},"end":{"line":31,"column":34,"offset":1274}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"square"}],"position":{"start":{"line":31,"column":34,"offset":1274},"end":{"line":31,"column":42,"offset":1282}}},{"type":"text","value":" module, which exports a Square class:","position":{"start":{"line":31,"column":42,"offset":1282},"end":{"line":31,"column":80,"offset":1320}}}],"position":{"start":{"line":31,"column":1,"offset":1241},"end":{"line":31,"column":80,"offset":1320}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const Square = require('./square.js');\nconst mySquare = new Square(2);\nconsole.log(`The area of mySquare is ${mySquare.area()}`);\n"}],"position":{"start":{"line":33,"column":1,"offset":1322},"end":{"line":37,"column":4,"offset":1459}}}],"position":{"start":{"line":33,"column":1,"offset":1322},"end":{"line":37,"column":4,"offset":1459}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":39,"column":1,"offset":1461},"end":{"line":39,"column":5,"offset":1465}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"square"}],"position":{"start":{"line":39,"column":5,"offset":1465},"end":{"line":39,"column":13,"offset":1473}}},{"type":"text","value":" module is defined in ","position":{"start":{"line":39,"column":13,"offset":1473},"end":{"line":39,"column":35,"offset":1495}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"square.js"}],"position":{"start":{"line":39,"column":35,"offset":1495},"end":{"line":39,"column":46,"offset":1506}}},{"type":"text","value":":","position":{"start":{"line":39,"column":46,"offset":1506},"end":{"line":39,"column":47,"offset":1507}}}],"position":{"start":{"line":39,"column":1,"offset":1461},"end":{"line":39,"column":47,"offset":1507}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"// Assigning to exports will not modify module, must use module.exports\nmodule.exports = class Square {\n  constructor(width) {\n    this.width = width;\n  }\n\n  area() {\n    return this.width ** 2;\n  }\n};\n"}],"position":{"start":{"line":41,"column":1,"offset":1509},"end":{"line":52,"column":4,"offset":1718}}}],"position":{"start":{"line":41,"column":1,"offset":1509},"end":{"line":52,"column":4,"offset":1718}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The module system is implemented in the ","position":{"start":{"line":54,"column":1,"offset":1720},"end":{"line":54,"column":41,"offset":1760}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('module')"}],"position":{"start":{"line":54,"column":41,"offset":1760},"end":{"line":54,"column":60,"offset":1779}}},{"type":"text","value":" module.","position":{"start":{"line":54,"column":60,"offset":1779},"end":{"line":54,"column":68,"offset":1787}}}],"position":{"start":{"line":54,"column":1,"offset":1720},"end":{"line":54,"column":68,"offset":1787}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Accessing the main module","position":{"start":{"line":56,"column":5,"offset":1793},"end":{"line":56,"column":30,"offset":1818}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_accessing_the_main_module"},"children":[{"type":"text","value":"#","position":{"start":{"line":56,"column":31,"offset":1819},"end":{"line":56,"column":32,"offset":1820}}}],"position":{"start":{"line":56,"column":30,"offset":1818},"end":{"line":56,"column":104,"offset":1892}}}],"position":{"start":{"line":56,"column":1,"offset":1789},"end":{"line":56,"column":104,"offset":1892}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When a file is run directly from Node.js, ","position":{"start":{"line":58,"column":1,"offset":1894},"end":{"line":58,"column":43,"offset":1936}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.main"}],"position":{"start":{"line":58,"column":43,"offset":1936},"end":{"line":58,"column":57,"offset":1950}}},{"type":"text","value":" is set to its ","position":{"start":{"line":58,"column":57,"offset":1950},"end":{"line":58,"column":72,"offset":1965}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module"}],"position":{"start":{"line":58,"column":72,"offset":1965},"end":{"line":58,"column":80,"offset":1973}}},{"type":"text","value":". That means that it is possible to determine whether a file has been run directly by testing ","position":{"start":{"line":58,"column":80,"offset":1973},"end":{"line":58,"column":174,"offset":2067}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.main === module"}],"position":{"start":{"line":58,"column":174,"offset":2067},"end":{"line":58,"column":199,"offset":2092}}},{"type":"text","value":".","position":{"start":{"line":58,"column":199,"offset":2092},"end":{"line":58,"column":200,"offset":2093}}}],"position":{"start":{"line":58,"column":1,"offset":1894},"end":{"line":58,"column":200,"offset":2093}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"For a file ","position":{"start":{"line":60,"column":1,"offset":2095},"end":{"line":60,"column":12,"offset":2106}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"foo.js"}],"position":{"start":{"line":60,"column":12,"offset":2106},"end":{"line":60,"column":20,"offset":2114}}},{"type":"text","value":", this will be ","position":{"start":{"line":60,"column":20,"offset":2114},"end":{"line":60,"column":35,"offset":2129}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"true"}],"position":{"start":{"line":60,"column":35,"offset":2129},"end":{"line":60,"column":41,"offset":2135}}},{"type":"text","value":" if run via ","position":{"start":{"line":60,"column":41,"offset":2135},"end":{"line":60,"column":53,"offset":2147}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node foo.js"}],"position":{"start":{"line":60,"column":53,"offset":2147},"end":{"line":60,"column":66,"offset":2160}}},{"type":"text","value":", but ","position":{"start":{"line":60,"column":66,"offset":2160},"end":{"line":60,"column":72,"offset":2166}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"false"}],"position":{"start":{"line":60,"column":72,"offset":2166},"end":{"line":60,"column":79,"offset":2173}}},{"type":"text","value":" if run by ","position":{"start":{"line":60,"column":79,"offset":2173},"end":{"line":60,"column":90,"offset":2184}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('./foo')"}],"position":{"start":{"line":60,"column":90,"offset":2184},"end":{"line":60,"column":108,"offset":2202}}},{"type":"text","value":".","position":{"start":{"line":60,"column":108,"offset":2202},"end":{"line":60,"column":109,"offset":2203}}}],"position":{"start":{"line":60,"column":1,"offset":2095},"end":{"line":60,"column":109,"offset":2203}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Because ","position":{"start":{"line":62,"column":1,"offset":2205},"end":{"line":62,"column":9,"offset":2213}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module"}],"position":{"start":{"line":62,"column":9,"offset":2213},"end":{"line":62,"column":17,"offset":2221}}},{"type":"text","value":" provides a ","position":{"start":{"line":62,"column":17,"offset":2221},"end":{"line":62,"column":29,"offset":2233}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"filename"}],"position":{"start":{"line":62,"column":29,"offset":2233},"end":{"line":62,"column":39,"offset":2243}}},{"type":"text","value":" property (normally equivalent to ","position":{"start":{"line":62,"column":39,"offset":2243},"end":{"line":62,"column":73,"offset":2277}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"__filename"}],"position":{"start":{"line":62,"column":73,"offset":2277},"end":{"line":62,"column":85,"offset":2289}}},{"type":"text","value":"), the entry point of the current application can be obtained by checking ","position":{"start":{"line":62,"column":85,"offset":2289},"end":{"line":62,"column":159,"offset":2363}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.main.filename"}],"position":{"start":{"line":62,"column":159,"offset":2363},"end":{"line":62,"column":182,"offset":2386}}},{"type":"text","value":".","position":{"start":{"line":62,"column":182,"offset":2386},"end":{"line":62,"column":183,"offset":2387}}}],"position":{"start":{"line":62,"column":1,"offset":2205},"end":{"line":62,"column":183,"offset":2387}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Package manager tips","position":{"start":{"line":64,"column":5,"offset":2393},"end":{"line":64,"column":25,"offset":2413}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_package_manager_tips"},"children":[{"type":"text","value":"#","position":{"start":{"line":64,"column":26,"offset":2414},"end":{"line":64,"column":27,"offset":2415}}}],"position":{"start":{"line":64,"column":25,"offset":2413},"end":{"line":64,"column":94,"offset":2482}}}],"position":{"start":{"line":64,"column":1,"offset":2389},"end":{"line":64,"column":94,"offset":2482}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The semantics of the Node.js ","position":{"start":{"line":66,"column":1,"offset":2484},"end":{"line":66,"column":30,"offset":2513}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":66,"column":30,"offset":2513},"end":{"line":66,"column":41,"offset":2524}}},{"type":"text","value":" function were designed to be general enough to support reasonable directory structures. Package manager programs such as ","position":{"start":{"line":66,"column":41,"offset":2524},"end":{"line":66,"column":163,"offset":2646}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"dpkg"}],"position":{"start":{"line":66,"column":163,"offset":2646},"end":{"line":66,"column":169,"offset":2652}}},{"type":"text","value":", ","position":{"start":{"line":66,"column":169,"offset":2652},"end":{"line":66,"column":171,"offset":2654}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"rpm"}],"position":{"start":{"line":66,"column":171,"offset":2654},"end":{"line":66,"column":176,"offset":2659}}},{"type":"text","value":", and ","position":{"start":{"line":66,"column":176,"offset":2659},"end":{"line":66,"column":182,"offset":2665}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"npm"}],"position":{"start":{"line":66,"column":182,"offset":2665},"end":{"line":66,"column":187,"offset":2670}}},{"type":"text","value":" will hopefully find it possible to build native packages from Node.js modules without modification.","position":{"start":{"line":66,"column":187,"offset":2670},"end":{"line":66,"column":287,"offset":2770}}}],"position":{"start":{"line":66,"column":1,"offset":2484},"end":{"line":66,"column":287,"offset":2770}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Below we give a suggested directory structure that could work:","position":{"start":{"line":68,"column":1,"offset":2772},"end":{"line":68,"column":63,"offset":2834}}}],"position":{"start":{"line":68,"column":1,"offset":2772},"end":{"line":68,"column":63,"offset":2834}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Let's say that we wanted to have the folder at ","position":{"start":{"line":70,"column":1,"offset":2836},"end":{"line":70,"column":48,"offset":2883}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/lib/node/<some-package>/<some-version>"}],"position":{"start":{"line":70,"column":48,"offset":2883},"end":{"line":70,"column":93,"offset":2928}}},{"type":"text","value":" hold the contents of a specific version of a package.","position":{"start":{"line":70,"column":93,"offset":2928},"end":{"line":70,"column":147,"offset":2982}}}],"position":{"start":{"line":70,"column":1,"offset":2836},"end":{"line":70,"column":147,"offset":2982}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Packages can depend on one another. In order to install package ","position":{"start":{"line":72,"column":1,"offset":2984},"end":{"line":72,"column":65,"offset":3048}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"foo"}],"position":{"start":{"line":72,"column":65,"offset":3048},"end":{"line":72,"column":70,"offset":3053}}},{"type":"text","value":", it may be necessary to install a specific version of package ","position":{"start":{"line":72,"column":70,"offset":3053},"end":{"line":72,"column":133,"offset":3116}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"bar"}],"position":{"start":{"line":72,"column":133,"offset":3116},"end":{"line":72,"column":138,"offset":3121}}},{"type":"text","value":". The ","position":{"start":{"line":72,"column":138,"offset":3121},"end":{"line":72,"column":144,"offset":3127}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"bar"}],"position":{"start":{"line":72,"column":144,"offset":3127},"end":{"line":72,"column":149,"offset":3132}}},{"type":"text","value":" package may itself have dependencies, and in some cases, these may even collide or form cyclic dependencies.","position":{"start":{"line":72,"column":149,"offset":3132},"end":{"line":72,"column":258,"offset":3241}}}],"position":{"start":{"line":72,"column":1,"offset":2984},"end":{"line":72,"column":258,"offset":3241}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Because Node.js looks up the ","position":{"start":{"line":74,"column":1,"offset":3243},"end":{"line":74,"column":30,"offset":3272}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"realpath"}],"position":{"start":{"line":74,"column":30,"offset":3272},"end":{"line":74,"column":40,"offset":3282}}},{"type":"text","value":" of any modules it loads (that is, it resolves symlinks) and then ","position":{"start":{"line":74,"column":40,"offset":3282},"end":{"line":74,"column":106,"offset":3348}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_loading_from_node_modules_folders"},"children":[{"type":"text","value":"looks for their dependencies in ","position":{"start":{"line":74,"column":107,"offset":3349},"end":{"line":74,"column":139,"offset":3381}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node_modules"}],"position":{"start":{"line":74,"column":139,"offset":3381},"end":{"line":74,"column":153,"offset":3395}}},{"type":"text","value":" folders","position":{"start":{"line":74,"column":153,"offset":3395},"end":{"line":74,"column":161,"offset":3403}}}],"position":{"start":{"line":74,"column":106,"offset":3348},"end":{"line":74,"column":241,"offset":3483}}},{"type":"text","value":", this situation can be resolved with the following architecture:","position":{"start":{"line":74,"column":241,"offset":3483},"end":{"line":74,"column":306,"offset":3548}}}],"position":{"start":{"line":74,"column":1,"offset":3243},"end":{"line":74,"column":306,"offset":3548}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/lib/node/foo/1.2.3/"}],"position":{"start":{"line":76,"column":3,"offset":3552},"end":{"line":76,"column":29,"offset":3578}}},{"type":"text","value":": Contents of the ","position":{"start":{"line":76,"column":29,"offset":3578},"end":{"line":76,"column":47,"offset":3596}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"foo"}],"position":{"start":{"line":76,"column":47,"offset":3596},"end":{"line":76,"column":52,"offset":3601}}},{"type":"text","value":" package, version 1.2.3.","position":{"start":{"line":76,"column":52,"offset":3601},"end":{"line":76,"column":76,"offset":3625}}}],"position":{"start":{"line":76,"column":1,"offset":3550},"end":{"line":76,"column":76,"offset":3625}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/lib/node/bar/4.3.2/"}],"position":{"start":{"line":77,"column":3,"offset":3628},"end":{"line":77,"column":29,"offset":3654}}},{"type":"text","value":": Contents of the ","position":{"start":{"line":77,"column":29,"offset":3654},"end":{"line":77,"column":47,"offset":3672}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"bar"}],"position":{"start":{"line":77,"column":47,"offset":3672},"end":{"line":77,"column":52,"offset":3677}}},{"type":"text","value":" package that ","position":{"start":{"line":77,"column":52,"offset":3677},"end":{"line":77,"column":66,"offset":3691}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"foo"}],"position":{"start":{"line":77,"column":66,"offset":3691},"end":{"line":77,"column":71,"offset":3696}}},{"type":"text","value":" depends on.","position":{"start":{"line":77,"column":71,"offset":3696},"end":{"line":77,"column":83,"offset":3708}}}],"position":{"start":{"line":77,"column":1,"offset":3626},"end":{"line":77,"column":83,"offset":3708}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/lib/node/foo/1.2.3/node_modules/bar"}],"position":{"start":{"line":78,"column":3,"offset":3711},"end":{"line":78,"column":45,"offset":3753}}},{"type":"text","value":": Symbolic link to ","position":{"start":{"line":78,"column":45,"offset":3753},"end":{"line":78,"column":64,"offset":3772}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/lib/node/bar/4.3.2/"}],"position":{"start":{"line":78,"column":64,"offset":3772},"end":{"line":78,"column":90,"offset":3798}}},{"type":"text","value":".","position":{"start":{"line":78,"column":90,"offset":3798},"end":{"line":78,"column":91,"offset":3799}}}],"position":{"start":{"line":78,"column":1,"offset":3709},"end":{"line":78,"column":91,"offset":3799}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/lib/node/bar/4.3.2/node_modules/*"}],"position":{"start":{"line":79,"column":3,"offset":3802},"end":{"line":79,"column":43,"offset":3842}}},{"type":"text","value":": Symbolic links to the packages that ","position":{"start":{"line":79,"column":43,"offset":3842},"end":{"line":79,"column":81,"offset":3880}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"bar"}],"position":{"start":{"line":79,"column":81,"offset":3880},"end":{"line":79,"column":86,"offset":3885}}},{"type":"text","value":" depends on.","position":{"start":{"line":79,"column":86,"offset":3885},"end":{"line":79,"column":98,"offset":3897}}}],"position":{"start":{"line":79,"column":1,"offset":3800},"end":{"line":79,"column":98,"offset":3897}}},{"type":"text","value":"\n"}],"position":{"start":{"line":76,"column":1,"offset":3550},"end":{"line":79,"column":98,"offset":3897}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Thus, even if a cycle is encountered, or if there are dependency conflicts, every module will be able to get a version of its dependency that it can use.","position":{"start":{"line":81,"column":1,"offset":3899},"end":{"line":81,"column":154,"offset":4052}}}],"position":{"start":{"line":81,"column":1,"offset":3899},"end":{"line":81,"column":154,"offset":4052}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When the code in the ","position":{"start":{"line":83,"column":1,"offset":4054},"end":{"line":83,"column":22,"offset":4075}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"foo"}],"position":{"start":{"line":83,"column":22,"offset":4075},"end":{"line":83,"column":27,"offset":4080}}},{"type":"text","value":" package does ","position":{"start":{"line":83,"column":27,"offset":4080},"end":{"line":83,"column":41,"offset":4094}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('bar')"}],"position":{"start":{"line":83,"column":41,"offset":4094},"end":{"line":83,"column":57,"offset":4110}}},{"type":"text","value":", it will get the version that is symlinked into ","position":{"start":{"line":83,"column":57,"offset":4110},"end":{"line":83,"column":106,"offset":4159}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/lib/node/foo/1.2.3/node_modules/bar"}],"position":{"start":{"line":83,"column":106,"offset":4159},"end":{"line":83,"column":148,"offset":4201}}},{"type":"text","value":". Then, when the code in the ","position":{"start":{"line":83,"column":148,"offset":4201},"end":{"line":83,"column":177,"offset":4230}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"bar"}],"position":{"start":{"line":83,"column":177,"offset":4230},"end":{"line":83,"column":182,"offset":4235}}},{"type":"text","value":" package calls ","position":{"start":{"line":83,"column":182,"offset":4235},"end":{"line":83,"column":197,"offset":4250}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('quux')"}],"position":{"start":{"line":83,"column":197,"offset":4250},"end":{"line":83,"column":214,"offset":4267}}},{"type":"text","value":", it'll get the version that is symlinked into ","position":{"start":{"line":83,"column":214,"offset":4267},"end":{"line":83,"column":261,"offset":4314}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/lib/node/bar/4.3.2/node_modules/quux"}],"position":{"start":{"line":83,"column":261,"offset":4314},"end":{"line":83,"column":304,"offset":4357}}},{"type":"text","value":".","position":{"start":{"line":83,"column":304,"offset":4357},"end":{"line":83,"column":305,"offset":4358}}}],"position":{"start":{"line":83,"column":1,"offset":4054},"end":{"line":83,"column":305,"offset":4358}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Furthermore, to make the module lookup process even more optimal, rather than putting packages directly in ","position":{"start":{"line":85,"column":1,"offset":4360},"end":{"line":85,"column":108,"offset":4467}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/lib/node"}],"position":{"start":{"line":85,"column":108,"offset":4467},"end":{"line":85,"column":123,"offset":4482}}},{"type":"text","value":", we could put them in ","position":{"start":{"line":85,"column":123,"offset":4482},"end":{"line":85,"column":146,"offset":4505}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/lib/node_modules/<name>/<version>"}],"position":{"start":{"line":85,"column":146,"offset":4505},"end":{"line":85,"column":186,"offset":4545}}},{"type":"text","value":". Then Node.js will not bother looking for missing dependencies in ","position":{"start":{"line":85,"column":186,"offset":4545},"end":{"line":85,"column":253,"offset":4612}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/node_modules"}],"position":{"start":{"line":85,"column":253,"offset":4612},"end":{"line":85,"column":272,"offset":4631}}},{"type":"text","value":" or ","position":{"start":{"line":85,"column":272,"offset":4631},"end":{"line":85,"column":276,"offset":4635}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/node_modules"}],"position":{"start":{"line":85,"column":276,"offset":4635},"end":{"line":85,"column":291,"offset":4650}}},{"type":"text","value":".","position":{"start":{"line":85,"column":291,"offset":4650},"end":{"line":85,"column":292,"offset":4651}}}],"position":{"start":{"line":85,"column":1,"offset":4360},"end":{"line":85,"column":292,"offset":4651}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In order to make modules available to the Node.js REPL, it might be useful to also add the ","position":{"start":{"line":87,"column":1,"offset":4653},"end":{"line":87,"column":92,"offset":4744}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/lib/node_modules"}],"position":{"start":{"line":87,"column":92,"offset":4744},"end":{"line":87,"column":115,"offset":4767}}},{"type":"text","value":" folder to the ","position":{"start":{"line":87,"column":115,"offset":4767},"end":{"line":87,"column":130,"offset":4782}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$NODE_PATH"}],"position":{"start":{"line":87,"column":130,"offset":4782},"end":{"line":87,"column":142,"offset":4794}}},{"type":"text","value":" environment variable. Since the module lookups using ","position":{"start":{"line":87,"column":142,"offset":4794},"end":{"line":87,"column":196,"offset":4848}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node_modules"}],"position":{"start":{"line":87,"column":196,"offset":4848},"end":{"line":87,"column":210,"offset":4862}}},{"type":"text","value":" folders are all relative, and based on the real path of the files making the calls to ","position":{"start":{"line":87,"column":210,"offset":4862},"end":{"line":87,"column":297,"offset":4949}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":87,"column":297,"offset":4949},"end":{"line":87,"column":308,"offset":4960}}},{"type":"text","value":", the packages themselves can be anywhere.","position":{"start":{"line":87,"column":308,"offset":4960},"end":{"line":87,"column":350,"offset":5002}}}],"position":{"start":{"line":87,"column":1,"offset":4653},"end":{"line":87,"column":350,"offset":5002}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":89,"column":5,"offset":5008},"end":{"line":89,"column":9,"offset":5012}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".mjs"}],"position":{"start":{"line":89,"column":9,"offset":5012},"end":{"line":89,"column":15,"offset":5018}}},{"type":"text","value":" extension","position":{"start":{"line":89,"column":15,"offset":5018},"end":{"line":89,"column":25,"offset":5028}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_the_mjs_extension"},"children":[{"type":"text","value":"#","position":{"start":{"line":89,"column":26,"offset":5029},"end":{"line":89,"column":27,"offset":5030}}}],"position":{"start":{"line":89,"column":25,"offset":5028},"end":{"line":89,"column":91,"offset":5094}}}],"position":{"start":{"line":89,"column":1,"offset":5004},"end":{"line":89,"column":91,"offset":5094}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"It is not possible to ","position":{"start":{"line":91,"column":1,"offset":5096},"end":{"line":91,"column":23,"offset":5118}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":91,"column":23,"offset":5118},"end":{"line":91,"column":34,"offset":5129}}},{"type":"text","value":" files that have the ","position":{"start":{"line":91,"column":34,"offset":5129},"end":{"line":91,"column":55,"offset":5150}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".mjs"}],"position":{"start":{"line":91,"column":55,"offset":5150},"end":{"line":91,"column":61,"offset":5156}}},{"type":"text","value":" extension. Attempting to do so will throw ","position":{"start":{"line":91,"column":61,"offset":5156},"end":{"line":91,"column":104,"offset":5199}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/errors.html#errors_err_require_esm"},"children":[{"type":"text","value":"an error","position":{"start":{"line":91,"column":105,"offset":5200},"end":{"line":91,"column":113,"offset":5208}}}],"position":{"start":{"line":91,"column":104,"offset":5199},"end":{"line":91,"column":173,"offset":5268}}},{"type":"text","value":". The ","position":{"start":{"line":91,"column":173,"offset":5268},"end":{"line":91,"column":179,"offset":5274}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".mjs"}],"position":{"start":{"line":91,"column":179,"offset":5274},"end":{"line":91,"column":185,"offset":5280}}},{"type":"text","value":" extension is reserved for ","position":{"start":{"line":91,"column":185,"offset":5280},"end":{"line":91,"column":212,"offset":5307}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/esm.html"},"children":[{"type":"text","value":"ECMAScript Modules","position":{"start":{"line":91,"column":213,"offset":5308},"end":{"line":91,"column":231,"offset":5326}}}],"position":{"start":{"line":91,"column":212,"offset":5307},"end":{"line":91,"column":265,"offset":5360}}},{"type":"text","value":" which cannot be loaded via ","position":{"start":{"line":91,"column":265,"offset":5360},"end":{"line":91,"column":293,"offset":5388}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":91,"column":293,"offset":5388},"end":{"line":91,"column":304,"offset":5399}}},{"type":"text","value":". See ","position":{"start":{"line":91,"column":304,"offset":5399},"end":{"line":91,"column":310,"offset":5405}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/esm.html"},"children":[{"type":"text","value":"ECMAScript Modules","position":{"start":{"line":91,"column":311,"offset":5406},"end":{"line":91,"column":329,"offset":5424}}}],"position":{"start":{"line":91,"column":310,"offset":5405},"end":{"line":91,"column":363,"offset":5458}}},{"type":"text","value":" for more details.","position":{"start":{"line":91,"column":363,"offset":5458},"end":{"line":91,"column":381,"offset":5476}}}],"position":{"start":{"line":91,"column":1,"offset":5096},"end":{"line":91,"column":381,"offset":5476}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"All together...","position":{"start":{"line":93,"column":5,"offset":5482},"end":{"line":93,"column":20,"offset":5497}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_all_together"},"children":[{"type":"text","value":"#","position":{"start":{"line":93,"column":21,"offset":5498},"end":{"line":93,"column":22,"offset":5499}}}],"position":{"start":{"line":93,"column":20,"offset":5497},"end":{"line":93,"column":81,"offset":5558}}}],"position":{"start":{"line":93,"column":1,"offset":5478},"end":{"line":93,"column":81,"offset":5558}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To get the exact filename that will be loaded when ","position":{"start":{"line":95,"column":1,"offset":5560},"end":{"line":95,"column":52,"offset":5611}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":95,"column":52,"offset":5611},"end":{"line":95,"column":63,"offset":5622}}},{"type":"text","value":" is called, use the ","position":{"start":{"line":95,"column":63,"offset":5622},"end":{"line":95,"column":83,"offset":5642}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.resolve()"}],"position":{"start":{"line":95,"column":83,"offset":5642},"end":{"line":95,"column":102,"offset":5661}}},{"type":"text","value":" function.","position":{"start":{"line":95,"column":102,"offset":5661},"end":{"line":95,"column":112,"offset":5671}}}],"position":{"start":{"line":95,"column":1,"offset":5560},"end":{"line":95,"column":112,"offset":5671}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Putting together all of the above, here is the high-level algorithm in pseudocode of what ","position":{"start":{"line":97,"column":1,"offset":5673},"end":{"line":97,"column":91,"offset":5763}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":97,"column":91,"offset":5763},"end":{"line":97,"column":102,"offset":5774}}},{"type":"text","value":" does:","position":{"start":{"line":97,"column":102,"offset":5774},"end":{"line":97,"column":108,"offset":5780}}}],"position":{"start":{"line":97,"column":1,"offset":5673},"end":{"line":97,"column":108,"offset":5780}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"require(X) from module at path Y","position":{"start":{"line":99,"column":1,"offset":5782},"end":{"line":99,"column":33,"offset":5814}}}],"position":{"start":{"line":99,"column":1,"offset":5782},"end":{"line":99,"column":33,"offset":5814}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X is a core module,\na. return the core module\nb. STOP","position":{"start":{"line":101,"column":4,"offset":5819},"end":{"line":103,"column":11,"offset":5881}}}],"position":{"start":{"line":101,"column":1,"offset":5816},"end":{"line":103,"column":11,"offset":5881}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X begins with '/'\na. set Y to be the filesystem root","position":{"start":{"line":104,"column":4,"offset":5885},"end":{"line":105,"column":38,"offset":5943}}}],"position":{"start":{"line":104,"column":1,"offset":5882},"end":{"line":105,"column":38,"offset":5943}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X begins with './' or '/' or '../'\na. LOAD","position":{"start":{"line":106,"column":4,"offset":5947},"end":{"line":107,"column":11,"offset":5995}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"AS","position":{"start":{"line":107,"column":12,"offset":5996},"end":{"line":107,"column":14,"offset":5998}}}],"position":{"start":{"line":107,"column":11,"offset":5995},"end":{"line":107,"column":15,"offset":5999}}},{"type":"text","value":"FILE(Y + X)\nb. LOAD","position":{"start":{"line":107,"column":15,"offset":5999},"end":{"line":108,"column":11,"offset":6021}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"AS","position":{"start":{"line":108,"column":12,"offset":6022},"end":{"line":108,"column":14,"offset":6024}}}],"position":{"start":{"line":108,"column":11,"offset":6021},"end":{"line":108,"column":15,"offset":6025}}},{"type":"text","value":"DIRECTORY(Y + X)\nc. THROW \"not found\"","position":{"start":{"line":108,"column":15,"offset":6025},"end":{"line":109,"column":24,"offset":6065}}}],"position":{"start":{"line":106,"column":1,"offset":5944},"end":{"line":109,"column":24,"offset":6065}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X begins with '#'\na. LOAD","position":{"start":{"line":110,"column":4,"offset":6069},"end":{"line":111,"column":11,"offset":6100}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"PACKAGE","position":{"start":{"line":111,"column":12,"offset":6101},"end":{"line":111,"column":19,"offset":6108}}}],"position":{"start":{"line":111,"column":11,"offset":6100},"end":{"line":111,"column":20,"offset":6109}}},{"type":"text","value":"IMPORTS(X, dirname(Y))","position":{"start":{"line":111,"column":20,"offset":6109},"end":{"line":111,"column":42,"offset":6131}}}],"position":{"start":{"line":110,"column":1,"offset":6066},"end":{"line":111,"column":42,"offset":6131}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"LOAD","position":{"start":{"line":112,"column":4,"offset":6135},"end":{"line":112,"column":8,"offset":6139}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"PACKAGE","position":{"start":{"line":112,"column":9,"offset":6140},"end":{"line":112,"column":16,"offset":6147}}}],"position":{"start":{"line":112,"column":8,"offset":6139},"end":{"line":112,"column":17,"offset":6148}}},{"type":"text","value":"SELF(X, dirname(Y))","position":{"start":{"line":112,"column":17,"offset":6148},"end":{"line":112,"column":36,"offset":6167}}}],"position":{"start":{"line":112,"column":1,"offset":6132},"end":{"line":112,"column":36,"offset":6167}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"LOAD","position":{"start":{"line":113,"column":4,"offset":6171},"end":{"line":113,"column":8,"offset":6175}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"NODE","position":{"start":{"line":113,"column":9,"offset":6176},"end":{"line":113,"column":13,"offset":6180}}}],"position":{"start":{"line":113,"column":8,"offset":6175},"end":{"line":113,"column":14,"offset":6181}}},{"type":"text","value":"MODULES(X, dirname(Y))","position":{"start":{"line":113,"column":14,"offset":6181},"end":{"line":113,"column":36,"offset":6203}}}],"position":{"start":{"line":113,"column":1,"offset":6168},"end":{"line":113,"column":36,"offset":6203}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"THROW \"not found\"","position":{"start":{"line":114,"column":4,"offset":6207},"end":{"line":114,"column":21,"offset":6224}}}],"position":{"start":{"line":114,"column":1,"offset":6204},"end":{"line":114,"column":21,"offset":6224}}},{"type":"text","value":"\n"}],"position":{"start":{"line":101,"column":1,"offset":5816},"end":{"line":114,"column":21,"offset":6224}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"LOAD","position":{"start":{"line":116,"column":1,"offset":6226},"end":{"line":116,"column":5,"offset":6230}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"AS","position":{"start":{"line":116,"column":6,"offset":6231},"end":{"line":116,"column":8,"offset":6233}}}],"position":{"start":{"line":116,"column":5,"offset":6230},"end":{"line":116,"column":9,"offset":6234}}},{"type":"text","value":"FILE(X)","position":{"start":{"line":116,"column":9,"offset":6234},"end":{"line":116,"column":16,"offset":6241}}}],"position":{"start":{"line":116,"column":1,"offset":6226},"end":{"line":116,"column":16,"offset":6241}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X is a file, load X as its file extension format. STOP","position":{"start":{"line":118,"column":4,"offset":6246},"end":{"line":118,"column":61,"offset":6303}}}],"position":{"start":{"line":118,"column":1,"offset":6243},"end":{"line":118,"column":61,"offset":6303}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X.js is a file, load X.js as JavaScript text. STOP","position":{"start":{"line":119,"column":4,"offset":6307},"end":{"line":119,"column":57,"offset":6360}}}],"position":{"start":{"line":119,"column":1,"offset":6304},"end":{"line":119,"column":57,"offset":6360}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X.json is a file, parse X.json to a JavaScript Object. STOP","position":{"start":{"line":120,"column":4,"offset":6364},"end":{"line":120,"column":66,"offset":6426}}}],"position":{"start":{"line":120,"column":1,"offset":6361},"end":{"line":120,"column":66,"offset":6426}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X.node is a file, load X.node as binary addon. STOP","position":{"start":{"line":121,"column":4,"offset":6430},"end":{"line":121,"column":58,"offset":6484}}}],"position":{"start":{"line":121,"column":1,"offset":6427},"end":{"line":121,"column":58,"offset":6484}}},{"type":"text","value":"\n"}],"position":{"start":{"line":118,"column":1,"offset":6243},"end":{"line":121,"column":58,"offset":6484}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"LOAD_INDEX(X)","position":{"start":{"line":123,"column":1,"offset":6486},"end":{"line":123,"column":14,"offset":6499}}}],"position":{"start":{"line":123,"column":1,"offset":6486},"end":{"line":123,"column":14,"offset":6499}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X/index.js is a file, load X/index.js as JavaScript text. STOP","position":{"start":{"line":125,"column":4,"offset":6504},"end":{"line":125,"column":69,"offset":6569}}}],"position":{"start":{"line":125,"column":1,"offset":6501},"end":{"line":125,"column":69,"offset":6569}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X/index.json is a file, parse X/index.json to a JavaScript object. STOP","position":{"start":{"line":126,"column":4,"offset":6573},"end":{"line":126,"column":78,"offset":6647}}}],"position":{"start":{"line":126,"column":1,"offset":6570},"end":{"line":126,"column":78,"offset":6647}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X/index.node is a file, load X/index.node as binary addon. STOP","position":{"start":{"line":127,"column":4,"offset":6651},"end":{"line":127,"column":70,"offset":6717}}}],"position":{"start":{"line":127,"column":1,"offset":6648},"end":{"line":127,"column":70,"offset":6717}}},{"type":"text","value":"\n"}],"position":{"start":{"line":125,"column":1,"offset":6501},"end":{"line":127,"column":70,"offset":6717}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"LOAD","position":{"start":{"line":129,"column":1,"offset":6719},"end":{"line":129,"column":5,"offset":6723}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"AS","position":{"start":{"line":129,"column":6,"offset":6724},"end":{"line":129,"column":8,"offset":6726}}}],"position":{"start":{"line":129,"column":5,"offset":6723},"end":{"line":129,"column":9,"offset":6727}}},{"type":"text","value":"DIRECTORY(X)","position":{"start":{"line":129,"column":9,"offset":6727},"end":{"line":129,"column":21,"offset":6739}}}],"position":{"start":{"line":129,"column":1,"offset":6719},"end":{"line":129,"column":21,"offset":6739}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X/package.json is a file,\na. Parse X/package.json, and look for \"main\" field.\nb. If \"main\" is a falsy value, GOTO 2.\nc. let M = X + (json main field)\nd. LOAD","position":{"start":{"line":131,"column":4,"offset":6744},"end":{"line":135,"column":11,"offset":6916}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"AS","position":{"start":{"line":135,"column":12,"offset":6917},"end":{"line":135,"column":14,"offset":6919}}}],"position":{"start":{"line":135,"column":11,"offset":6916},"end":{"line":135,"column":15,"offset":6920}}},{"type":"text","value":"FILE(M)\ne. LOAD","position":{"start":{"line":135,"column":15,"offset":6920},"end":{"line":136,"column":11,"offset":6938}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"INDEX(M)\nf. LOAD","position":{"start":{"line":136,"column":12,"offset":6939},"end":{"line":137,"column":11,"offset":6958}}}],"position":{"start":{"line":136,"column":11,"offset":6938},"end":{"line":137,"column":12,"offset":6959}}},{"type":"text","value":"INDEX(X) DEPRECATED\ng. THROW \"not found\"","position":{"start":{"line":137,"column":12,"offset":6959},"end":{"line":138,"column":24,"offset":7002}}}],"position":{"start":{"line":131,"column":1,"offset":6741},"end":{"line":138,"column":24,"offset":7002}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"LOAD_INDEX(X)","position":{"start":{"line":139,"column":4,"offset":7006},"end":{"line":139,"column":17,"offset":7019}}}],"position":{"start":{"line":139,"column":1,"offset":7003},"end":{"line":139,"column":17,"offset":7019}}},{"type":"text","value":"\n"}],"position":{"start":{"line":131,"column":1,"offset":6741},"end":{"line":139,"column":17,"offset":7019}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"LOAD","position":{"start":{"line":141,"column":1,"offset":7021},"end":{"line":141,"column":5,"offset":7025}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"NODE","position":{"start":{"line":141,"column":6,"offset":7026},"end":{"line":141,"column":10,"offset":7030}}}],"position":{"start":{"line":141,"column":5,"offset":7025},"end":{"line":141,"column":11,"offset":7031}}},{"type":"text","value":"MODULES(X, START)","position":{"start":{"line":141,"column":11,"offset":7031},"end":{"line":141,"column":28,"offset":7048}}}],"position":{"start":{"line":141,"column":1,"offset":7021},"end":{"line":141,"column":28,"offset":7048}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"let DIRS = NODE","position":{"start":{"line":143,"column":4,"offset":7053},"end":{"line":143,"column":19,"offset":7068}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"MODULES","position":{"start":{"line":143,"column":20,"offset":7069},"end":{"line":143,"column":27,"offset":7076}}}],"position":{"start":{"line":143,"column":19,"offset":7068},"end":{"line":143,"column":28,"offset":7077}}},{"type":"text","value":"PATHS(START)","position":{"start":{"line":143,"column":28,"offset":7077},"end":{"line":143,"column":40,"offset":7089}}}],"position":{"start":{"line":143,"column":1,"offset":7050},"end":{"line":143,"column":40,"offset":7089}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"for each DIR in DIRS:\na. LOAD","position":{"start":{"line":144,"column":4,"offset":7093},"end":{"line":145,"column":11,"offset":7125}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"PACKAGE","position":{"start":{"line":145,"column":12,"offset":7126},"end":{"line":145,"column":19,"offset":7133}}}],"position":{"start":{"line":145,"column":11,"offset":7125},"end":{"line":145,"column":20,"offset":7134}}},{"type":"text","value":"EXPORTS(X, DIR)\nb. LOAD","position":{"start":{"line":145,"column":20,"offset":7134},"end":{"line":146,"column":11,"offset":7160}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"AS","position":{"start":{"line":146,"column":12,"offset":7161},"end":{"line":146,"column":14,"offset":7163}}}],"position":{"start":{"line":146,"column":11,"offset":7160},"end":{"line":146,"column":15,"offset":7164}}},{"type":"text","value":"FILE(DIR/X)\nc. LOAD","position":{"start":{"line":146,"column":15,"offset":7164},"end":{"line":147,"column":11,"offset":7186}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"AS","position":{"start":{"line":147,"column":12,"offset":7187},"end":{"line":147,"column":14,"offset":7189}}}],"position":{"start":{"line":147,"column":11,"offset":7186},"end":{"line":147,"column":15,"offset":7190}}},{"type":"text","value":"DIRECTORY(DIR/X)","position":{"start":{"line":147,"column":15,"offset":7190},"end":{"line":147,"column":31,"offset":7206}}}],"position":{"start":{"line":144,"column":1,"offset":7090},"end":{"line":147,"column":31,"offset":7206}}},{"type":"text","value":"\n"}],"position":{"start":{"line":143,"column":1,"offset":7050},"end":{"line":147,"column":31,"offset":7206}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"NODE","position":{"start":{"line":149,"column":1,"offset":7208},"end":{"line":149,"column":5,"offset":7212}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"MODULES","position":{"start":{"line":149,"column":6,"offset":7213},"end":{"line":149,"column":13,"offset":7220}}}],"position":{"start":{"line":149,"column":5,"offset":7212},"end":{"line":149,"column":14,"offset":7221}}},{"type":"text","value":"PATHS(START)","position":{"start":{"line":149,"column":14,"offset":7221},"end":{"line":149,"column":26,"offset":7233}}}],"position":{"start":{"line":149,"column":1,"offset":7208},"end":{"line":149,"column":26,"offset":7233}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"let PARTS = path split(START)","position":{"start":{"line":151,"column":4,"offset":7238},"end":{"line":151,"column":33,"offset":7267}}}],"position":{"start":{"line":151,"column":1,"offset":7235},"end":{"line":151,"column":33,"offset":7267}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"let I = count of PARTS - 1","position":{"start":{"line":152,"column":4,"offset":7271},"end":{"line":152,"column":30,"offset":7297}}}],"position":{"start":{"line":152,"column":1,"offset":7268},"end":{"line":152,"column":30,"offset":7297}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"let DIRS = ","position":{"start":{"line":153,"column":4,"offset":7301},"end":{"line":153,"column":15,"offset":7312}}},{"type":"text","value":"[GLOBAL_FOLDERS]","position":{"start":{"line":153,"column":16,"offset":7313},"end":{"line":153,"column":30,"offset":7327}}}],"position":{"start":{"line":153,"column":1,"offset":7298},"end":{"line":153,"column":31,"offset":7328}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"while I >= 0,\na. if PARTS","position":{"start":{"line":154,"column":4,"offset":7332},"end":{"line":155,"column":15,"offset":7360}}},{"type":"text","value":"[I]","position":{"start":{"line":155,"column":16,"offset":7361},"end":{"line":155,"column":17,"offset":7362}}},{"type":"text","value":" = \"node","position":{"start":{"line":155,"column":18,"offset":7363},"end":{"line":155,"column":26,"offset":7371}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"modules\" CONTINUE\nb. DIR = path join(PARTS","position":{"start":{"line":155,"column":27,"offset":7372},"end":{"line":156,"column":28,"offset":7417}}},{"type":"text","value":"[0 .. I]","position":{"start":{"line":156,"column":29,"offset":7418},"end":{"line":156,"column":35,"offset":7424}}},{"type":"text","value":" + \"node","position":{"start":{"line":156,"column":36,"offset":7425},"end":{"line":156,"column":44,"offset":7433}}}],"position":{"start":{"line":155,"column":26,"offset":7371},"end":{"line":156,"column":45,"offset":7434}}},{"type":"text","value":"modules\")\nc. DIRS = DIRS + DIR\nd. let I = I - 1","position":{"start":{"line":156,"column":45,"offset":7434},"end":{"line":158,"column":20,"offset":7487}}}],"position":{"start":{"line":154,"column":1,"offset":7329},"end":{"line":158,"column":20,"offset":7487}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"return DIRS","position":{"start":{"line":159,"column":4,"offset":7491},"end":{"line":159,"column":15,"offset":7502}}}],"position":{"start":{"line":159,"column":1,"offset":7488},"end":{"line":159,"column":15,"offset":7502}}},{"type":"text","value":"\n"}],"position":{"start":{"line":151,"column":1,"offset":7235},"end":{"line":159,"column":15,"offset":7502}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"LOAD","position":{"start":{"line":161,"column":1,"offset":7504},"end":{"line":161,"column":5,"offset":7508}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"PACKAGE","position":{"start":{"line":161,"column":6,"offset":7509},"end":{"line":161,"column":13,"offset":7516}}}],"position":{"start":{"line":161,"column":5,"offset":7508},"end":{"line":161,"column":14,"offset":7517}}},{"type":"text","value":"IMPORTS(X, DIR)","position":{"start":{"line":161,"column":14,"offset":7517},"end":{"line":161,"column":29,"offset":7532}}}],"position":{"start":{"line":161,"column":1,"offset":7504},"end":{"line":161,"column":29,"offset":7532}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Find the closest package scope SCOPE to DIR.","position":{"start":{"line":163,"column":4,"offset":7537},"end":{"line":163,"column":48,"offset":7581}}}],"position":{"start":{"line":163,"column":1,"offset":7534},"end":{"line":163,"column":48,"offset":7581}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If no scope was found, return.","position":{"start":{"line":164,"column":4,"offset":7585},"end":{"line":164,"column":34,"offset":7615}}}],"position":{"start":{"line":164,"column":1,"offset":7582},"end":{"line":164,"column":34,"offset":7615}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If the SCOPE/package.json \"imports\" is null or undefined, return.","position":{"start":{"line":165,"column":4,"offset":7619},"end":{"line":165,"column":69,"offset":7684}}}],"position":{"start":{"line":165,"column":1,"offset":7616},"end":{"line":165,"column":69,"offset":7684}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"let MATCH = PACKAGE","position":{"start":{"line":166,"column":4,"offset":7688},"end":{"line":166,"column":23,"offset":7707}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"IMPORTS","position":{"start":{"line":166,"column":24,"offset":7708},"end":{"line":166,"column":31,"offset":7715}}}],"position":{"start":{"line":166,"column":23,"offset":7707},"end":{"line":166,"column":32,"offset":7716}}},{"type":"text","value":"RESOLVE(X, pathToFileURL(SCOPE),\n","position":{"start":{"line":166,"column":32,"offset":7716},"end":{"line":167,"column":4,"offset":7752}}},{"type":"text","value":"[\"node\", \"require\"]","position":{"start":{"line":167,"column":5,"offset":7753},"end":{"line":167,"column":22,"offset":7770}}},{"type":"text","value":") ","position":{"start":{"line":167,"column":23,"offset":7771},"end":{"line":167,"column":25,"offset":7773}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/esm.md#resolver-algorithm-specification"},"children":[{"type":"text","value":"defined in the ESM resolver","position":{"start":{"line":167,"column":26,"offset":7774},"end":{"line":167,"column":53,"offset":7801}}}],"position":{"start":{"line":167,"column":25,"offset":7773},"end":{"line":167,"column":118,"offset":7866}}},{"type":"text","value":".","position":{"start":{"line":167,"column":118,"offset":7866},"end":{"line":167,"column":119,"offset":7867}}}],"position":{"start":{"line":166,"column":1,"offset":7685},"end":{"line":167,"column":119,"offset":7867}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"RESOLVE","position":{"start":{"line":168,"column":4,"offset":7871},"end":{"line":168,"column":11,"offset":7878}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"ESM","position":{"start":{"line":168,"column":12,"offset":7879},"end":{"line":168,"column":15,"offset":7882}}}],"position":{"start":{"line":168,"column":11,"offset":7878},"end":{"line":168,"column":16,"offset":7883}}},{"type":"text","value":"MATCH(MATCH).","position":{"start":{"line":168,"column":16,"offset":7883},"end":{"line":168,"column":29,"offset":7896}}}],"position":{"start":{"line":168,"column":1,"offset":7868},"end":{"line":168,"column":29,"offset":7896}}},{"type":"text","value":"\n"}],"position":{"start":{"line":163,"column":1,"offset":7534},"end":{"line":168,"column":29,"offset":7896}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"LOAD","position":{"start":{"line":170,"column":1,"offset":7898},"end":{"line":170,"column":5,"offset":7902}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"PACKAGE","position":{"start":{"line":170,"column":6,"offset":7903},"end":{"line":170,"column":13,"offset":7910}}}],"position":{"start":{"line":170,"column":5,"offset":7902},"end":{"line":170,"column":14,"offset":7911}}},{"type":"text","value":"EXPORTS(X, DIR)","position":{"start":{"line":170,"column":14,"offset":7911},"end":{"line":170,"column":29,"offset":7926}}}],"position":{"start":{"line":170,"column":1,"offset":7898},"end":{"line":170,"column":29,"offset":7926}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Try to interpret X as a combination of NAME and SUBPATH where the name\nmay have a @scope/ prefix and the subpath begins with a slash (","position":{"start":{"line":172,"column":4,"offset":7931},"end":{"line":173,"column":67,"offset":8068}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/"}],"position":{"start":{"line":173,"column":67,"offset":8068},"end":{"line":173,"column":70,"offset":8071}}},{"type":"text","value":").","position":{"start":{"line":173,"column":70,"offset":8071},"end":{"line":173,"column":72,"offset":8073}}}],"position":{"start":{"line":172,"column":1,"offset":7928},"end":{"line":173,"column":72,"offset":8073}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X does not match this pattern or DIR/NAME/package.json is not a file,\nreturn.","position":{"start":{"line":174,"column":4,"offset":8077},"end":{"line":175,"column":11,"offset":8160}}}],"position":{"start":{"line":174,"column":1,"offset":8074},"end":{"line":175,"column":11,"offset":8160}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Parse DIR/NAME/package.json, and look for \"exports\" field.","position":{"start":{"line":176,"column":4,"offset":8164},"end":{"line":176,"column":62,"offset":8222}}}],"position":{"start":{"line":176,"column":1,"offset":8161},"end":{"line":176,"column":62,"offset":8222}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If \"exports\" is null or undefined, return.","position":{"start":{"line":177,"column":4,"offset":8226},"end":{"line":177,"column":46,"offset":8268}}}],"position":{"start":{"line":177,"column":1,"offset":8223},"end":{"line":177,"column":46,"offset":8268}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"let MATCH = PACKAGE","position":{"start":{"line":178,"column":4,"offset":8272},"end":{"line":178,"column":23,"offset":8291}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"EXPORTS","position":{"start":{"line":178,"column":24,"offset":8292},"end":{"line":178,"column":31,"offset":8299}}}],"position":{"start":{"line":178,"column":23,"offset":8291},"end":{"line":178,"column":32,"offset":8300}}},{"type":"text","value":"RESOLVE(pathToFileURL(DIR/NAME), \".\" + SUBPATH,\n","position":{"start":{"line":178,"column":32,"offset":8300},"end":{"line":179,"column":4,"offset":8351}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"package.json"}],"position":{"start":{"line":179,"column":4,"offset":8351},"end":{"line":179,"column":18,"offset":8365}}},{"type":"text","value":" \"exports\", ","position":{"start":{"line":179,"column":18,"offset":8365},"end":{"line":179,"column":30,"offset":8377}}},{"type":"text","value":"[\"node\", \"require\"]","position":{"start":{"line":179,"column":31,"offset":8378},"end":{"line":179,"column":48,"offset":8395}}},{"type":"text","value":") ","position":{"start":{"line":179,"column":49,"offset":8396},"end":{"line":179,"column":51,"offset":8398}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/esm.md#resolver-algorithm-specification"},"children":[{"type":"text","value":"defined in the ESM resolver","position":{"start":{"line":179,"column":52,"offset":8399},"end":{"line":179,"column":79,"offset":8426}}}],"position":{"start":{"line":179,"column":51,"offset":8398},"end":{"line":179,"column":144,"offset":8491}}},{"type":"text","value":".","position":{"start":{"line":179,"column":144,"offset":8491},"end":{"line":179,"column":145,"offset":8492}}}],"position":{"start":{"line":178,"column":1,"offset":8269},"end":{"line":179,"column":145,"offset":8492}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"RESOLVE","position":{"start":{"line":180,"column":4,"offset":8496},"end":{"line":180,"column":11,"offset":8503}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"ESM","position":{"start":{"line":180,"column":12,"offset":8504},"end":{"line":180,"column":15,"offset":8507}}}],"position":{"start":{"line":180,"column":11,"offset":8503},"end":{"line":180,"column":16,"offset":8508}}},{"type":"text","value":"MATCH(MATCH)","position":{"start":{"line":180,"column":16,"offset":8508},"end":{"line":180,"column":28,"offset":8520}}}],"position":{"start":{"line":180,"column":1,"offset":8493},"end":{"line":180,"column":28,"offset":8520}}},{"type":"text","value":"\n"}],"position":{"start":{"line":172,"column":1,"offset":7928},"end":{"line":180,"column":28,"offset":8520}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"LOAD","position":{"start":{"line":182,"column":1,"offset":8522},"end":{"line":182,"column":5,"offset":8526}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"PACKAGE","position":{"start":{"line":182,"column":6,"offset":8527},"end":{"line":182,"column":13,"offset":8534}}}],"position":{"start":{"line":182,"column":5,"offset":8526},"end":{"line":182,"column":14,"offset":8535}}},{"type":"text","value":"SELF(X, DIR)","position":{"start":{"line":182,"column":14,"offset":8535},"end":{"line":182,"column":26,"offset":8547}}}],"position":{"start":{"line":182,"column":1,"offset":8522},"end":{"line":182,"column":26,"offset":8547}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Find the closest package scope SCOPE to DIR.","position":{"start":{"line":184,"column":4,"offset":8552},"end":{"line":184,"column":48,"offset":8596}}}],"position":{"start":{"line":184,"column":1,"offset":8549},"end":{"line":184,"column":48,"offset":8596}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If no scope was found, return.","position":{"start":{"line":185,"column":4,"offset":8600},"end":{"line":185,"column":34,"offset":8630}}}],"position":{"start":{"line":185,"column":1,"offset":8597},"end":{"line":185,"column":34,"offset":8630}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If the SCOPE/package.json \"exports\" is null or undefined, return.","position":{"start":{"line":186,"column":4,"offset":8634},"end":{"line":186,"column":69,"offset":8699}}}],"position":{"start":{"line":186,"column":1,"offset":8631},"end":{"line":186,"column":69,"offset":8699}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If the SCOPE/package.json \"name\" is not the first segment of X, return.","position":{"start":{"line":187,"column":4,"offset":8703},"end":{"line":187,"column":75,"offset":8774}}}],"position":{"start":{"line":187,"column":1,"offset":8700},"end":{"line":187,"column":75,"offset":8774}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"let MATCH = PACKAGE","position":{"start":{"line":188,"column":4,"offset":8778},"end":{"line":188,"column":23,"offset":8797}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"EXPORTS","position":{"start":{"line":188,"column":24,"offset":8798},"end":{"line":188,"column":31,"offset":8805}}}],"position":{"start":{"line":188,"column":23,"offset":8797},"end":{"line":188,"column":32,"offset":8806}}},{"type":"text","value":"RESOLVE(pathToFileURL(SCOPE),\n\".\" + X.slice(\"name\".length), ","position":{"start":{"line":188,"column":32,"offset":8806},"end":{"line":189,"column":34,"offset":8869}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"package.json"}],"position":{"start":{"line":189,"column":34,"offset":8869},"end":{"line":189,"column":48,"offset":8883}}},{"type":"text","value":" \"exports\", ","position":{"start":{"line":189,"column":48,"offset":8883},"end":{"line":189,"column":60,"offset":8895}}},{"type":"text","value":"[\"node\", \"require\"]","position":{"start":{"line":189,"column":61,"offset":8896},"end":{"line":189,"column":78,"offset":8913}}},{"type":"text","value":")\n","position":{"start":{"line":189,"column":79,"offset":8914},"end":{"line":190,"column":4,"offset":8919}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/esm.md#resolver-algorithm-specification"},"children":[{"type":"text","value":"defined in the ESM resolver","position":{"start":{"line":190,"column":5,"offset":8920},"end":{"line":190,"column":32,"offset":8947}}}],"position":{"start":{"line":190,"column":4,"offset":8919},"end":{"line":190,"column":97,"offset":9012}}},{"type":"text","value":".","position":{"start":{"line":190,"column":97,"offset":9012},"end":{"line":190,"column":98,"offset":9013}}}],"position":{"start":{"line":188,"column":1,"offset":8775},"end":{"line":190,"column":98,"offset":9013}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"RESOLVE","position":{"start":{"line":191,"column":4,"offset":9017},"end":{"line":191,"column":11,"offset":9024}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"ESM","position":{"start":{"line":191,"column":12,"offset":9025},"end":{"line":191,"column":15,"offset":9028}}}],"position":{"start":{"line":191,"column":11,"offset":9024},"end":{"line":191,"column":16,"offset":9029}}},{"type":"text","value":"MATCH(MATCH)","position":{"start":{"line":191,"column":16,"offset":9029},"end":{"line":191,"column":28,"offset":9041}}}],"position":{"start":{"line":191,"column":1,"offset":9014},"end":{"line":191,"column":28,"offset":9041}}},{"type":"text","value":"\n"}],"position":{"start":{"line":184,"column":1,"offset":8549},"end":{"line":191,"column":28,"offset":9041}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"RESOLVE","position":{"start":{"line":193,"column":1,"offset":9043},"end":{"line":193,"column":8,"offset":9050}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"ESM","position":{"start":{"line":193,"column":9,"offset":9051},"end":{"line":193,"column":12,"offset":9054}}}],"position":{"start":{"line":193,"column":8,"offset":9050},"end":{"line":193,"column":13,"offset":9055}}},{"type":"text","value":"MATCH(MATCH)","position":{"start":{"line":193,"column":13,"offset":9055},"end":{"line":193,"column":25,"offset":9067}}}],"position":{"start":{"line":193,"column":1,"offset":9043},"end":{"line":193,"column":25,"offset":9067}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"let { RESOLVED, EXACT } = MATCH","position":{"start":{"line":195,"column":4,"offset":9072},"end":{"line":195,"column":35,"offset":9103}}}],"position":{"start":{"line":195,"column":1,"offset":9069},"end":{"line":195,"column":35,"offset":9103}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"let RESOLVED_PATH = fileURLToPath(RESOLVED)","position":{"start":{"line":196,"column":4,"offset":9107},"end":{"line":196,"column":47,"offset":9150}}}],"position":{"start":{"line":196,"column":1,"offset":9104},"end":{"line":196,"column":47,"offset":9150}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If EXACT is true,\na. If the file at RESOLVED","position":{"start":{"line":197,"column":4,"offset":9154},"end":{"line":198,"column":30,"offset":9201}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"PATH exists, load RESOLVED","position":{"start":{"line":198,"column":31,"offset":9202},"end":{"line":198,"column":57,"offset":9228}}}],"position":{"start":{"line":198,"column":30,"offset":9201},"end":{"line":198,"column":58,"offset":9229}}},{"type":"text","value":"PATH as its extension\nformat. STOP","position":{"start":{"line":198,"column":58,"offset":9229},"end":{"line":199,"column":16,"offset":9266}}}],"position":{"start":{"line":197,"column":1,"offset":9151},"end":{"line":199,"column":16,"offset":9266}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Otherwise, if EXACT is false,\na. LOAD","position":{"start":{"line":200,"column":4,"offset":9270},"end":{"line":201,"column":11,"offset":9310}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"AS","position":{"start":{"line":201,"column":12,"offset":9311},"end":{"line":201,"column":14,"offset":9313}}}],"position":{"start":{"line":201,"column":11,"offset":9310},"end":{"line":201,"column":15,"offset":9314}}},{"type":"text","value":"FILE(RESOLVED","position":{"start":{"line":201,"column":15,"offset":9314},"end":{"line":201,"column":28,"offset":9327}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"PATH)\nb. LOAD","position":{"start":{"line":201,"column":29,"offset":9328},"end":{"line":202,"column":11,"offset":9344}}}],"position":{"start":{"line":201,"column":28,"offset":9327},"end":{"line":202,"column":12,"offset":9345}}},{"type":"text","value":"AS","position":{"start":{"line":202,"column":12,"offset":9345},"end":{"line":202,"column":14,"offset":9347}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"DIRECTORY(RESOLVED","position":{"start":{"line":202,"column":15,"offset":9348},"end":{"line":202,"column":33,"offset":9366}}}],"position":{"start":{"line":202,"column":14,"offset":9347},"end":{"line":202,"column":34,"offset":9367}}},{"type":"text","value":"PATH)","position":{"start":{"line":202,"column":34,"offset":9367},"end":{"line":202,"column":39,"offset":9372}}}],"position":{"start":{"line":200,"column":1,"offset":9267},"end":{"line":202,"column":39,"offset":9372}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"THROW \"not found\"","position":{"start":{"line":203,"column":4,"offset":9376},"end":{"line":203,"column":21,"offset":9393}}}],"position":{"start":{"line":203,"column":1,"offset":9373},"end":{"line":203,"column":21,"offset":9393}}},{"type":"text","value":"\n"}],"position":{"start":{"line":195,"column":1,"offset":9069},"end":{"line":203,"column":21,"offset":9393}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Caching","position":{"start":{"line":205,"column":5,"offset":9399},"end":{"line":205,"column":12,"offset":9406}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_caching"},"children":[{"type":"text","value":"#","position":{"start":{"line":205,"column":13,"offset":9407},"end":{"line":205,"column":14,"offset":9408}}}],"position":{"start":{"line":205,"column":12,"offset":9406},"end":{"line":205,"column":68,"offset":9462}}}],"position":{"start":{"line":205,"column":1,"offset":9395},"end":{"line":205,"column":68,"offset":9462}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Modules are cached after the first time they are loaded. This means (among other things) that every call to ","position":{"start":{"line":207,"column":1,"offset":9464},"end":{"line":207,"column":109,"offset":9572}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('foo')"}],"position":{"start":{"line":207,"column":109,"offset":9572},"end":{"line":207,"column":125,"offset":9588}}},{"type":"text","value":" will get exactly the same object returned, if it would resolve to the same file.","position":{"start":{"line":207,"column":125,"offset":9588},"end":{"line":207,"column":206,"offset":9669}}}],"position":{"start":{"line":207,"column":1,"offset":9464},"end":{"line":207,"column":206,"offset":9669}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Provided ","position":{"start":{"line":209,"column":1,"offset":9671},"end":{"line":209,"column":10,"offset":9680}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.cache"}],"position":{"start":{"line":209,"column":10,"offset":9680},"end":{"line":209,"column":25,"offset":9695}}},{"type":"text","value":" is not modified, multiple calls to ","position":{"start":{"line":209,"column":25,"offset":9695},"end":{"line":209,"column":61,"offset":9731}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('foo')"}],"position":{"start":{"line":209,"column":61,"offset":9731},"end":{"line":209,"column":77,"offset":9747}}},{"type":"text","value":" will not cause the module code to be executed multiple times. This is an important feature. With it, \"partially done\" objects can be returned, thus allowing transitive dependencies to be loaded even when they would cause cycles.","position":{"start":{"line":209,"column":77,"offset":9747},"end":{"line":209,"column":306,"offset":9976}}}],"position":{"start":{"line":209,"column":1,"offset":9671},"end":{"line":209,"column":306,"offset":9976}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To have a module execute code multiple times, export a function, and call that function.","position":{"start":{"line":211,"column":1,"offset":9978},"end":{"line":211,"column":89,"offset":10066}}}],"position":{"start":{"line":211,"column":1,"offset":9978},"end":{"line":211,"column":89,"offset":10066}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"text","value":"Module caching caveats","position":{"start":{"line":213,"column":6,"offset":10073},"end":{"line":213,"column":28,"offset":10095}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_caching_caveats"},"children":[{"type":"text","value":"#","position":{"start":{"line":213,"column":29,"offset":10096},"end":{"line":213,"column":30,"offset":10097}}}],"position":{"start":{"line":213,"column":28,"offset":10095},"end":{"line":213,"column":99,"offset":10166}}}],"position":{"start":{"line":213,"column":1,"offset":10068},"end":{"line":213,"column":99,"offset":10166}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Modules are cached based on their resolved filename. Since modules may resolve to a different filename based on the location of the calling module (loading from ","position":{"start":{"line":215,"column":1,"offset":10168},"end":{"line":215,"column":162,"offset":10329}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node_modules"}],"position":{"start":{"line":215,"column":162,"offset":10329},"end":{"line":215,"column":176,"offset":10343}}},{"type":"text","value":" folders), it is not a ","position":{"start":{"line":215,"column":176,"offset":10343},"end":{"line":215,"column":199,"offset":10366}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"guarantee","position":{"start":{"line":215,"column":200,"offset":10367},"end":{"line":215,"column":209,"offset":10376}}}],"position":{"start":{"line":215,"column":199,"offset":10366},"end":{"line":215,"column":210,"offset":10377}}},{"type":"text","value":" that ","position":{"start":{"line":215,"column":210,"offset":10377},"end":{"line":215,"column":216,"offset":10383}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('foo')"}],"position":{"start":{"line":215,"column":216,"offset":10383},"end":{"line":215,"column":232,"offset":10399}}},{"type":"text","value":" will always return the exact same object, if it would resolve to different files.","position":{"start":{"line":215,"column":232,"offset":10399},"end":{"line":215,"column":314,"offset":10481}}}],"position":{"start":{"line":215,"column":1,"offset":10168},"end":{"line":215,"column":314,"offset":10481}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Additionally, on case-insensitive file systems or operating systems, different resolved filenames can point to the same file, but the cache will still treat them as different modules and will reload the file multiple times. For example, ","position":{"start":{"line":217,"column":1,"offset":10483},"end":{"line":217,"column":238,"offset":10720}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('./foo')"}],"position":{"start":{"line":217,"column":238,"offset":10720},"end":{"line":217,"column":256,"offset":10738}}},{"type":"text","value":" and ","position":{"start":{"line":217,"column":256,"offset":10738},"end":{"line":217,"column":261,"offset":10743}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('./FOO')"}],"position":{"start":{"line":217,"column":261,"offset":10743},"end":{"line":217,"column":279,"offset":10761}}},{"type":"text","value":" return two different objects, irrespective of whether or not ","position":{"start":{"line":217,"column":279,"offset":10761},"end":{"line":217,"column":341,"offset":10823}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"./foo"}],"position":{"start":{"line":217,"column":341,"offset":10823},"end":{"line":217,"column":348,"offset":10830}}},{"type":"text","value":" and ","position":{"start":{"line":217,"column":348,"offset":10830},"end":{"line":217,"column":353,"offset":10835}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"./FOO"}],"position":{"start":{"line":217,"column":353,"offset":10835},"end":{"line":217,"column":360,"offset":10842}}},{"type":"text","value":" are the same file.","position":{"start":{"line":217,"column":360,"offset":10842},"end":{"line":217,"column":379,"offset":10861}}}],"position":{"start":{"line":217,"column":1,"offset":10483},"end":{"line":217,"column":379,"offset":10861}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Core modules","position":{"start":{"line":219,"column":5,"offset":10867},"end":{"line":219,"column":17,"offset":10879}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_core_modules"},"children":[{"type":"text","value":"#","position":{"start":{"line":219,"column":18,"offset":10880},"end":{"line":219,"column":19,"offset":10881}}}],"position":{"start":{"line":219,"column":17,"offset":10879},"end":{"line":219,"column":78,"offset":10940}}}],"position":{"start":{"line":219,"column":1,"offset":10863},"end":{"line":219,"column":78,"offset":10940}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"History","position":{"start":{"line":221,"column":1,"offset":10942},"end":{"line":221,"column":8,"offset":10949}}}],"position":{"start":{"line":221,"column":1,"offset":10942},"end":{"line":221,"column":8,"offset":10949}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Node.js has several modules compiled into the binary. These modules are described in greater detail elsewhere in this documentation.","position":{"start":{"line":223,"column":1,"offset":10951},"end":{"line":223,"column":133,"offset":11083}}}],"position":{"start":{"line":223,"column":1,"offset":10951},"end":{"line":223,"column":133,"offset":11083}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The core modules are defined within the Node.js source and are located in the ","position":{"start":{"line":225,"column":1,"offset":11085},"end":{"line":225,"column":79,"offset":11163}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"lib/"}],"position":{"start":{"line":225,"column":79,"offset":11163},"end":{"line":225,"column":85,"offset":11169}}},{"type":"text","value":" folder.","position":{"start":{"line":225,"column":85,"offset":11169},"end":{"line":225,"column":93,"offset":11177}}}],"position":{"start":{"line":225,"column":1,"offset":11085},"end":{"line":225,"column":93,"offset":11177}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Core modules are always preferentially loaded if their identifier is passed to ","position":{"start":{"line":227,"column":1,"offset":11179},"end":{"line":227,"column":80,"offset":11258}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":227,"column":80,"offset":11258},"end":{"line":227,"column":91,"offset":11269}}},{"type":"text","value":". For instance, ","position":{"start":{"line":227,"column":91,"offset":11269},"end":{"line":227,"column":107,"offset":11285}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('http')"}],"position":{"start":{"line":227,"column":107,"offset":11285},"end":{"line":227,"column":124,"offset":11302}}},{"type":"text","value":" will always return the built in HTTP module, even if there is a file by that name.","position":{"start":{"line":227,"column":124,"offset":11302},"end":{"line":227,"column":207,"offset":11385}}}],"position":{"start":{"line":227,"column":1,"offset":11179},"end":{"line":227,"column":207,"offset":11385}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Core modules can also be identified using the ","position":{"start":{"line":229,"column":1,"offset":11387},"end":{"line":229,"column":47,"offset":11433}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node:"}],"position":{"start":{"line":229,"column":47,"offset":11433},"end":{"line":229,"column":54,"offset":11440}}},{"type":"text","value":" prefix, in which case it bypasses the ","position":{"start":{"line":229,"column":54,"offset":11440},"end":{"line":229,"column":93,"offset":11479}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require"}],"position":{"start":{"line":229,"column":93,"offset":11479},"end":{"line":229,"column":102,"offset":11488}}},{"type":"text","value":" cache. For instance, ","position":{"start":{"line":229,"column":102,"offset":11488},"end":{"line":229,"column":124,"offset":11510}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('node:http')"}],"position":{"start":{"line":229,"column":124,"offset":11510},"end":{"line":229,"column":146,"offset":11532}}},{"type":"text","value":" will always return the built in HTTP module, even if there is ","position":{"start":{"line":229,"column":146,"offset":11532},"end":{"line":229,"column":209,"offset":11595}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.cache"}],"position":{"start":{"line":229,"column":209,"offset":11595},"end":{"line":229,"column":224,"offset":11610}}},{"type":"text","value":" entry by that name.","position":{"start":{"line":229,"column":224,"offset":11610},"end":{"line":229,"column":244,"offset":11630}}}],"position":{"start":{"line":229,"column":1,"offset":11387},"end":{"line":229,"column":244,"offset":11630}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Cycles","position":{"start":{"line":231,"column":5,"offset":11636},"end":{"line":231,"column":11,"offset":11642}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_cycles"},"children":[{"type":"text","value":"#","position":{"start":{"line":231,"column":12,"offset":11643},"end":{"line":231,"column":13,"offset":11644}}}],"position":{"start":{"line":231,"column":11,"offset":11642},"end":{"line":231,"column":66,"offset":11697}}}],"position":{"start":{"line":231,"column":1,"offset":11632},"end":{"line":231,"column":66,"offset":11697}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When there are circular ","position":{"start":{"line":233,"column":1,"offset":11699},"end":{"line":233,"column":25,"offset":11723}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":233,"column":25,"offset":11723},"end":{"line":233,"column":36,"offset":11734}}},{"type":"text","value":" calls, a module might not have finished executing when it is returned.","position":{"start":{"line":233,"column":36,"offset":11734},"end":{"line":233,"column":107,"offset":11805}}}],"position":{"start":{"line":233,"column":1,"offset":11699},"end":{"line":233,"column":107,"offset":11805}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Consider this situation:","position":{"start":{"line":235,"column":1,"offset":11807},"end":{"line":235,"column":25,"offset":11831}}}],"position":{"start":{"line":235,"column":1,"offset":11807},"end":{"line":235,"column":25,"offset":11831}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"a.js"}],"position":{"start":{"line":237,"column":1,"offset":11833},"end":{"line":237,"column":7,"offset":11839}}},{"type":"text","value":":","position":{"start":{"line":237,"column":7,"offset":11839},"end":{"line":237,"column":8,"offset":11840}}}],"position":{"start":{"line":237,"column":1,"offset":11833},"end":{"line":237,"column":8,"offset":11840}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"console.log('a starting');\nexports.done = false;\nconst b = require('./b.js');\nconsole.log('in a, b.done = %j', b.done);\nexports.done = true;\nconsole.log('a done');\n"}],"position":{"start":{"line":239,"column":1,"offset":11842},"end":{"line":246,"column":4,"offset":12013}}}],"position":{"start":{"line":239,"column":1,"offset":11842},"end":{"line":246,"column":4,"offset":12013}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"b.js"}],"position":{"start":{"line":248,"column":1,"offset":12015},"end":{"line":248,"column":7,"offset":12021}}},{"type":"text","value":":","position":{"start":{"line":248,"column":7,"offset":12021},"end":{"line":248,"column":8,"offset":12022}}}],"position":{"start":{"line":248,"column":1,"offset":12015},"end":{"line":248,"column":8,"offset":12022}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"console.log('b starting');\nexports.done = false;\nconst a = require('./a.js');\nconsole.log('in b, a.done = %j', a.done);\nexports.done = true;\nconsole.log('b done');\n"}],"position":{"start":{"line":250,"column":1,"offset":12024},"end":{"line":257,"column":4,"offset":12195}}}],"position":{"start":{"line":250,"column":1,"offset":12024},"end":{"line":257,"column":4,"offset":12195}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"main.js"}],"position":{"start":{"line":259,"column":1,"offset":12197},"end":{"line":259,"column":10,"offset":12206}}},{"type":"text","value":":","position":{"start":{"line":259,"column":10,"offset":12206},"end":{"line":259,"column":11,"offset":12207}}}],"position":{"start":{"line":259,"column":1,"offset":12197},"end":{"line":259,"column":11,"offset":12207}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"console.log('main starting');\nconst a = require('./a.js');\nconst b = require('./b.js');\nconsole.log('in main, a.done = %j, b.done = %j', a.done, b.done);\n"}],"position":{"start":{"line":261,"column":1,"offset":12209},"end":{"line":266,"column":4,"offset":12370}}}],"position":{"start":{"line":261,"column":1,"offset":12209},"end":{"line":266,"column":4,"offset":12370}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When ","position":{"start":{"line":268,"column":1,"offset":12372},"end":{"line":268,"column":6,"offset":12377}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"main.js"}],"position":{"start":{"line":268,"column":6,"offset":12377},"end":{"line":268,"column":15,"offset":12386}}},{"type":"text","value":" loads ","position":{"start":{"line":268,"column":15,"offset":12386},"end":{"line":268,"column":22,"offset":12393}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"a.js"}],"position":{"start":{"line":268,"column":22,"offset":12393},"end":{"line":268,"column":28,"offset":12399}}},{"type":"text","value":", then ","position":{"start":{"line":268,"column":28,"offset":12399},"end":{"line":268,"column":35,"offset":12406}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"a.js"}],"position":{"start":{"line":268,"column":35,"offset":12406},"end":{"line":268,"column":41,"offset":12412}}},{"type":"text","value":" in turn loads ","position":{"start":{"line":268,"column":41,"offset":12412},"end":{"line":268,"column":56,"offset":12427}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"b.js"}],"position":{"start":{"line":268,"column":56,"offset":12427},"end":{"line":268,"column":62,"offset":12433}}},{"type":"text","value":". At that point, ","position":{"start":{"line":268,"column":62,"offset":12433},"end":{"line":268,"column":79,"offset":12450}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"b.js"}],"position":{"start":{"line":268,"column":79,"offset":12450},"end":{"line":268,"column":85,"offset":12456}}},{"type":"text","value":" tries to load ","position":{"start":{"line":268,"column":85,"offset":12456},"end":{"line":268,"column":100,"offset":12471}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"a.js"}],"position":{"start":{"line":268,"column":100,"offset":12471},"end":{"line":268,"column":106,"offset":12477}}},{"type":"text","value":". In order to prevent an infinite loop, an unfinished copy of the ","position":{"start":{"line":268,"column":106,"offset":12477},"end":{"line":268,"column":172,"offset":12543}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"a.js"}],"position":{"start":{"line":268,"column":172,"offset":12543},"end":{"line":268,"column":178,"offset":12549}}},{"type":"text","value":" exports object is returned to the ","position":{"start":{"line":268,"column":178,"offset":12549},"end":{"line":268,"column":213,"offset":12584}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"b.js"}],"position":{"start":{"line":268,"column":213,"offset":12584},"end":{"line":268,"column":219,"offset":12590}}},{"type":"text","value":" module. ","position":{"start":{"line":268,"column":219,"offset":12590},"end":{"line":268,"column":228,"offset":12599}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"b.js"}],"position":{"start":{"line":268,"column":228,"offset":12599},"end":{"line":268,"column":234,"offset":12605}}},{"type":"text","value":" then finishes loading, and its ","position":{"start":{"line":268,"column":234,"offset":12605},"end":{"line":268,"column":266,"offset":12637}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":268,"column":266,"offset":12637},"end":{"line":268,"column":275,"offset":12646}}},{"type":"text","value":" object is provided to the ","position":{"start":{"line":268,"column":275,"offset":12646},"end":{"line":268,"column":302,"offset":12673}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"a.js"}],"position":{"start":{"line":268,"column":302,"offset":12673},"end":{"line":268,"column":308,"offset":12679}}},{"type":"text","value":" module.","position":{"start":{"line":268,"column":308,"offset":12679},"end":{"line":268,"column":316,"offset":12687}}}],"position":{"start":{"line":268,"column":1,"offset":12372},"end":{"line":268,"column":316,"offset":12687}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"By the time ","position":{"start":{"line":270,"column":1,"offset":12689},"end":{"line":270,"column":13,"offset":12701}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"main.js"}],"position":{"start":{"line":270,"column":13,"offset":12701},"end":{"line":270,"column":22,"offset":12710}}},{"type":"text","value":" has loaded both modules, they're both finished. The output of this program would thus be:","position":{"start":{"line":270,"column":22,"offset":12710},"end":{"line":270,"column":112,"offset":12800}}}],"position":{"start":{"line":270,"column":1,"offset":12689},"end":{"line":270,"column":112,"offset":12800}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$ node main.js\nmain starting\na starting\nb starting\nin b, a.done = false\nb done\nin a, b.done = true\na done\nin main, a.done = true, b.done = true\n"}],"position":{"start":{"line":272,"column":1,"offset":12802},"end":{"line":282,"column":4,"offset":12953}}}],"position":{"start":{"line":272,"column":1,"offset":12802},"end":{"line":282,"column":4,"offset":12953}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Careful planning is required to allow cyclic module dependencies to work correctly within an application.","position":{"start":{"line":284,"column":1,"offset":12955},"end":{"line":284,"column":106,"offset":13060}}}],"position":{"start":{"line":284,"column":1,"offset":12955},"end":{"line":284,"column":106,"offset":13060}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"File modules","position":{"start":{"line":286,"column":5,"offset":13066},"end":{"line":286,"column":17,"offset":13078}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_file_modules"},"children":[{"type":"text","value":"#","position":{"start":{"line":286,"column":18,"offset":13079},"end":{"line":286,"column":19,"offset":13080}}}],"position":{"start":{"line":286,"column":17,"offset":13078},"end":{"line":286,"column":78,"offset":13139}}}],"position":{"start":{"line":286,"column":1,"offset":13062},"end":{"line":286,"column":78,"offset":13139}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If the exact filename is not found, then Node.js will attempt to load the required filename with the added extensions: ","position":{"start":{"line":288,"column":1,"offset":13141},"end":{"line":288,"column":120,"offset":13260}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".js"}],"position":{"start":{"line":288,"column":120,"offset":13260},"end":{"line":288,"column":125,"offset":13265}}},{"type":"text","value":", ","position":{"start":{"line":288,"column":125,"offset":13265},"end":{"line":288,"column":127,"offset":13267}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".json"}],"position":{"start":{"line":288,"column":127,"offset":13267},"end":{"line":288,"column":134,"offset":13274}}},{"type":"text","value":", and finally ","position":{"start":{"line":288,"column":134,"offset":13274},"end":{"line":288,"column":148,"offset":13288}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".node"}],"position":{"start":{"line":288,"column":148,"offset":13288},"end":{"line":288,"column":155,"offset":13295}}},{"type":"text","value":".","position":{"start":{"line":288,"column":155,"offset":13295},"end":{"line":288,"column":156,"offset":13296}}}],"position":{"start":{"line":288,"column":1,"offset":13141},"end":{"line":288,"column":156,"offset":13296}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".js"}],"position":{"start":{"line":290,"column":1,"offset":13298},"end":{"line":290,"column":6,"offset":13303}}},{"type":"text","value":" files are interpreted as JavaScript text files, and ","position":{"start":{"line":290,"column":6,"offset":13303},"end":{"line":290,"column":59,"offset":13356}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".json"}],"position":{"start":{"line":290,"column":59,"offset":13356},"end":{"line":290,"column":66,"offset":13363}}},{"type":"text","value":" files are parsed as JSON text files. ","position":{"start":{"line":290,"column":66,"offset":13363},"end":{"line":290,"column":104,"offset":13401}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".node"}],"position":{"start":{"line":290,"column":104,"offset":13401},"end":{"line":290,"column":111,"offset":13408}}},{"type":"text","value":" files are interpreted as compiled addon modules loaded with ","position":{"start":{"line":290,"column":111,"offset":13408},"end":{"line":290,"column":172,"offset":13469}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"process.dlopen()"}],"position":{"start":{"line":290,"column":172,"offset":13469},"end":{"line":290,"column":190,"offset":13487}}},{"type":"text","value":".","position":{"start":{"line":290,"column":190,"offset":13487},"end":{"line":290,"column":191,"offset":13488}}}],"position":{"start":{"line":290,"column":1,"offset":13298},"end":{"line":290,"column":191,"offset":13488}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A required module prefixed with ","position":{"start":{"line":292,"column":1,"offset":13490},"end":{"line":292,"column":33,"offset":13522}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"'/'"}],"position":{"start":{"line":292,"column":33,"offset":13522},"end":{"line":292,"column":38,"offset":13527}}},{"type":"text","value":" is an absolute path to the file. For example, ","position":{"start":{"line":292,"column":38,"offset":13527},"end":{"line":292,"column":85,"offset":13574}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('/home/marco/foo.js')"}],"position":{"start":{"line":292,"column":85,"offset":13574},"end":{"line":292,"column":116,"offset":13605}}},{"type":"text","value":" will load the file at ","position":{"start":{"line":292,"column":116,"offset":13605},"end":{"line":292,"column":139,"offset":13628}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/home/marco/foo.js"}],"position":{"start":{"line":292,"column":139,"offset":13628},"end":{"line":292,"column":159,"offset":13648}}},{"type":"text","value":".","position":{"start":{"line":292,"column":159,"offset":13648},"end":{"line":292,"column":160,"offset":13649}}}],"position":{"start":{"line":292,"column":1,"offset":13490},"end":{"line":292,"column":160,"offset":13649}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A required module prefixed with ","position":{"start":{"line":294,"column":1,"offset":13651},"end":{"line":294,"column":33,"offset":13683}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"'./'"}],"position":{"start":{"line":294,"column":33,"offset":13683},"end":{"line":294,"column":39,"offset":13689}}},{"type":"text","value":" is relative to the file calling ","position":{"start":{"line":294,"column":39,"offset":13689},"end":{"line":294,"column":72,"offset":13722}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":294,"column":72,"offset":13722},"end":{"line":294,"column":83,"offset":13733}}},{"type":"text","value":". That is, ","position":{"start":{"line":294,"column":83,"offset":13733},"end":{"line":294,"column":94,"offset":13744}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"circle.js"}],"position":{"start":{"line":294,"column":94,"offset":13744},"end":{"line":294,"column":105,"offset":13755}}},{"type":"text","value":" must be in the same directory as ","position":{"start":{"line":294,"column":105,"offset":13755},"end":{"line":294,"column":139,"offset":13789}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"foo.js"}],"position":{"start":{"line":294,"column":139,"offset":13789},"end":{"line":294,"column":147,"offset":13797}}},{"type":"text","value":" for ","position":{"start":{"line":294,"column":147,"offset":13797},"end":{"line":294,"column":152,"offset":13802}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('./circle')"}],"position":{"start":{"line":294,"column":152,"offset":13802},"end":{"line":294,"column":173,"offset":13823}}},{"type":"text","value":" to find it.","position":{"start":{"line":294,"column":173,"offset":13823},"end":{"line":294,"column":185,"offset":13835}}}],"position":{"start":{"line":294,"column":1,"offset":13651},"end":{"line":294,"column":185,"offset":13835}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Without a leading ","position":{"start":{"line":296,"column":1,"offset":13837},"end":{"line":296,"column":19,"offset":13855}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"'/'"}],"position":{"start":{"line":296,"column":19,"offset":13855},"end":{"line":296,"column":24,"offset":13860}}},{"type":"text","value":", ","position":{"start":{"line":296,"column":24,"offset":13860},"end":{"line":296,"column":26,"offset":13862}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"'./'"}],"position":{"start":{"line":296,"column":26,"offset":13862},"end":{"line":296,"column":32,"offset":13868}}},{"type":"text","value":", or ","position":{"start":{"line":296,"column":32,"offset":13868},"end":{"line":296,"column":37,"offset":13873}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"'../'"}],"position":{"start":{"line":296,"column":37,"offset":13873},"end":{"line":296,"column":44,"offset":13880}}},{"type":"text","value":" to indicate a file, the module must either be a core module or is loaded from a ","position":{"start":{"line":296,"column":44,"offset":13880},"end":{"line":296,"column":125,"offset":13961}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node_modules"}],"position":{"start":{"line":296,"column":125,"offset":13961},"end":{"line":296,"column":139,"offset":13975}}},{"type":"text","value":" folder.","position":{"start":{"line":296,"column":139,"offset":13975},"end":{"line":296,"column":147,"offset":13983}}}],"position":{"start":{"line":296,"column":1,"offset":13837},"end":{"line":296,"column":147,"offset":13983}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If the given path does not exist, ","position":{"start":{"line":298,"column":1,"offset":13985},"end":{"line":298,"column":35,"offset":14019}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":298,"column":35,"offset":14019},"end":{"line":298,"column":46,"offset":14030}}},{"type":"text","value":" will throw an ","position":{"start":{"line":298,"column":46,"offset":14030},"end":{"line":298,"column":61,"offset":14045}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/errors.html#errors_class_error"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Error"}],"position":{"start":{"line":298,"column":62,"offset":14046},"end":{"line":298,"column":69,"offset":14053}}}],"position":{"start":{"line":298,"column":61,"offset":14045},"end":{"line":298,"column":125,"offset":14109}}},{"type":"text","value":" with its ","position":{"start":{"line":298,"column":125,"offset":14109},"end":{"line":298,"column":135,"offset":14119}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"code"}],"position":{"start":{"line":298,"column":135,"offset":14119},"end":{"line":298,"column":141,"offset":14125}}},{"type":"text","value":" property set to ","position":{"start":{"line":298,"column":141,"offset":14125},"end":{"line":298,"column":158,"offset":14142}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"'MODULE_NOT_FOUND'"}],"position":{"start":{"line":298,"column":158,"offset":14142},"end":{"line":298,"column":178,"offset":14162}}},{"type":"text","value":".","position":{"start":{"line":298,"column":178,"offset":14162},"end":{"line":298,"column":179,"offset":14163}}}],"position":{"start":{"line":298,"column":1,"offset":13985},"end":{"line":298,"column":179,"offset":14163}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Folders as modules","position":{"start":{"line":300,"column":5,"offset":14169},"end":{"line":300,"column":23,"offset":14187}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_folders_as_modules"},"children":[{"type":"text","value":"#","position":{"start":{"line":300,"column":24,"offset":14188},"end":{"line":300,"column":25,"offset":14189}}}],"position":{"start":{"line":300,"column":23,"offset":14187},"end":{"line":300,"column":90,"offset":14254}}}],"position":{"start":{"line":300,"column":1,"offset":14165},"end":{"line":300,"column":90,"offset":14254}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"It is convenient to organize programs and libraries into self-contained directories, and then provide a single entry point to those directories. There are three ways in which a folder may be passed to ","position":{"start":{"line":302,"column":1,"offset":14256},"end":{"line":302,"column":202,"offset":14457}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":302,"column":202,"offset":14457},"end":{"line":302,"column":213,"offset":14468}}},{"type":"text","value":" as an argument.","position":{"start":{"line":302,"column":213,"offset":14468},"end":{"line":302,"column":229,"offset":14484}}}],"position":{"start":{"line":302,"column":1,"offset":14256},"end":{"line":302,"column":229,"offset":14484}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The first is to create a ","position":{"start":{"line":304,"column":1,"offset":14486},"end":{"line":304,"column":26,"offset":14511}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/packages.html#packages_node_js_package_json_field_definitions"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"package.json"}],"position":{"start":{"line":304,"column":27,"offset":14512},"end":{"line":304,"column":41,"offset":14526}}}],"position":{"start":{"line":304,"column":26,"offset":14511},"end":{"line":304,"column":128,"offset":14613}}},{"type":"text","value":" file in the root of the folder, which specifies a ","position":{"start":{"line":304,"column":128,"offset":14613},"end":{"line":304,"column":179,"offset":14664}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"main"}],"position":{"start":{"line":304,"column":179,"offset":14664},"end":{"line":304,"column":185,"offset":14670}}},{"type":"text","value":" module. An example ","position":{"start":{"line":304,"column":185,"offset":14670},"end":{"line":304,"column":205,"offset":14690}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/packages.html#packages_node_js_package_json_field_definitions"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"package.json"}],"position":{"start":{"line":304,"column":206,"offset":14691},"end":{"line":304,"column":220,"offset":14705}}}],"position":{"start":{"line":304,"column":205,"offset":14690},"end":{"line":304,"column":307,"offset":14792}}},{"type":"text","value":" file might look like this:","position":{"start":{"line":304,"column":307,"offset":14792},"end":{"line":304,"column":334,"offset":14819}}}],"position":{"start":{"line":304,"column":1,"offset":14486},"end":{"line":304,"column":334,"offset":14819}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"{ \"name\" : \"some-library\",\n  \"main\" : \"./lib/some-library.js\" }\n"}],"position":{"start":{"line":306,"column":1,"offset":14821},"end":{"line":309,"column":4,"offset":14892}}}],"position":{"start":{"line":306,"column":1,"offset":14821},"end":{"line":309,"column":4,"offset":14892}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If this was in a folder at ","position":{"start":{"line":311,"column":1,"offset":14894},"end":{"line":311,"column":28,"offset":14921}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"./some-library"}],"position":{"start":{"line":311,"column":28,"offset":14921},"end":{"line":311,"column":44,"offset":14937}}},{"type":"text","value":", then ","position":{"start":{"line":311,"column":44,"offset":14937},"end":{"line":311,"column":51,"offset":14944}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('./some-library')"}],"position":{"start":{"line":311,"column":51,"offset":14944},"end":{"line":311,"column":78,"offset":14971}}},{"type":"text","value":" would attempt to load ","position":{"start":{"line":311,"column":78,"offset":14971},"end":{"line":311,"column":101,"offset":14994}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"./some-library/lib/some-library.js"}],"position":{"start":{"line":311,"column":101,"offset":14994},"end":{"line":311,"column":137,"offset":15030}}},{"type":"text","value":".","position":{"start":{"line":311,"column":137,"offset":15030},"end":{"line":311,"column":138,"offset":15031}}}],"position":{"start":{"line":311,"column":1,"offset":14894},"end":{"line":311,"column":138,"offset":15031}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This is the extent of the awareness of ","position":{"start":{"line":313,"column":1,"offset":15033},"end":{"line":313,"column":40,"offset":15072}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"package.json"}],"position":{"start":{"line":313,"column":40,"offset":15072},"end":{"line":313,"column":54,"offset":15086}}},{"type":"text","value":" files within Node.js.","position":{"start":{"line":313,"column":54,"offset":15086},"end":{"line":313,"column":76,"offset":15108}}}],"position":{"start":{"line":313,"column":1,"offset":15033},"end":{"line":313,"column":76,"offset":15108}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If there is no ","position":{"start":{"line":315,"column":1,"offset":15110},"end":{"line":315,"column":16,"offset":15125}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/packages.html#packages_node_js_package_json_field_definitions"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"package.json"}],"position":{"start":{"line":315,"column":17,"offset":15126},"end":{"line":315,"column":31,"offset":15140}}}],"position":{"start":{"line":315,"column":16,"offset":15125},"end":{"line":315,"column":118,"offset":15227}}},{"type":"text","value":" file present in the directory, or if the ","position":{"start":{"line":315,"column":118,"offset":15227},"end":{"line":315,"column":160,"offset":15269}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/packages.html#packages_main"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"\"main\""}],"position":{"start":{"line":315,"column":161,"offset":15270},"end":{"line":315,"column":169,"offset":15278}}}],"position":{"start":{"line":315,"column":160,"offset":15269},"end":{"line":315,"column":222,"offset":15331}}},{"type":"text","value":" entry is missing or cannot be resolved, then Node.js will attempt to load an ","position":{"start":{"line":315,"column":222,"offset":15331},"end":{"line":315,"column":300,"offset":15409}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"index.js"}],"position":{"start":{"line":315,"column":300,"offset":15409},"end":{"line":315,"column":310,"offset":15419}}},{"type":"text","value":" or ","position":{"start":{"line":315,"column":310,"offset":15419},"end":{"line":315,"column":314,"offset":15423}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"index.node"}],"position":{"start":{"line":315,"column":314,"offset":15423},"end":{"line":315,"column":326,"offset":15435}}},{"type":"text","value":" file out of that directory. For example, if there was no ","position":{"start":{"line":315,"column":326,"offset":15435},"end":{"line":315,"column":384,"offset":15493}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/packages.html#packages_node_js_package_json_field_definitions"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"package.json"}],"position":{"start":{"line":315,"column":385,"offset":15494},"end":{"line":315,"column":399,"offset":15508}}}],"position":{"start":{"line":315,"column":384,"offset":15493},"end":{"line":315,"column":486,"offset":15595}}},{"type":"text","value":" file in the previous example, then ","position":{"start":{"line":315,"column":486,"offset":15595},"end":{"line":315,"column":522,"offset":15631}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('./some-library')"}],"position":{"start":{"line":315,"column":522,"offset":15631},"end":{"line":315,"column":549,"offset":15658}}},{"type":"text","value":" would attempt to load:","position":{"start":{"line":315,"column":549,"offset":15658},"end":{"line":315,"column":572,"offset":15681}}}],"position":{"start":{"line":315,"column":1,"offset":15110},"end":{"line":315,"column":572,"offset":15681}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"./some-library/index.js"}],"position":{"start":{"line":317,"column":3,"offset":15685},"end":{"line":317,"column":28,"offset":15710}}}],"position":{"start":{"line":317,"column":1,"offset":15683},"end":{"line":317,"column":28,"offset":15710}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"./some-library/index.node"}],"position":{"start":{"line":318,"column":3,"offset":15713},"end":{"line":318,"column":30,"offset":15740}}}],"position":{"start":{"line":318,"column":1,"offset":15711},"end":{"line":318,"column":30,"offset":15740}}},{"type":"text","value":"\n"}],"position":{"start":{"line":317,"column":1,"offset":15683},"end":{"line":318,"column":30,"offset":15740}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If these attempts fail, then Node.js will report the entire module as missing with the default error:","position":{"start":{"line":320,"column":1,"offset":15742},"end":{"line":320,"column":102,"offset":15843}}}],"position":{"start":{"line":320,"column":1,"offset":15742},"end":{"line":320,"column":102,"offset":15843}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Error: Cannot find module 'some-library'\n"}],"position":{"start":{"line":322,"column":1,"offset":15845},"end":{"line":324,"column":4,"offset":15893}}}],"position":{"start":{"line":322,"column":1,"offset":15845},"end":{"line":324,"column":4,"offset":15893}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Loading from ","position":{"start":{"line":326,"column":5,"offset":15899},"end":{"line":326,"column":18,"offset":15912}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node_modules"}],"position":{"start":{"line":326,"column":18,"offset":15912},"end":{"line":326,"column":32,"offset":15926}}},{"type":"text","value":" folders","position":{"start":{"line":326,"column":32,"offset":15926},"end":{"line":326,"column":40,"offset":15934}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_loading_from_node_modules_folders"},"children":[{"type":"text","value":"#","position":{"start":{"line":326,"column":41,"offset":15935},"end":{"line":326,"column":42,"offset":15936}}}],"position":{"start":{"line":326,"column":40,"offset":15934},"end":{"line":326,"column":122,"offset":16016}}}],"position":{"start":{"line":326,"column":1,"offset":15895},"end":{"line":326,"column":122,"offset":16016}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If the module identifier passed to ","position":{"start":{"line":328,"column":1,"offset":16018},"end":{"line":328,"column":36,"offset":16053}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":328,"column":36,"offset":16053},"end":{"line":328,"column":47,"offset":16064}}},{"type":"text","value":" is not a ","position":{"start":{"line":328,"column":47,"offset":16064},"end":{"line":328,"column":57,"offset":16074}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_core_modules"},"children":[{"type":"text","value":"core","position":{"start":{"line":328,"column":58,"offset":16075},"end":{"line":328,"column":62,"offset":16079}}}],"position":{"start":{"line":328,"column":57,"offset":16074},"end":{"line":328,"column":121,"offset":16138}}},{"type":"text","value":" module, and does not begin with ","position":{"start":{"line":328,"column":121,"offset":16138},"end":{"line":328,"column":154,"offset":16171}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"'/'"}],"position":{"start":{"line":328,"column":154,"offset":16171},"end":{"line":328,"column":159,"offset":16176}}},{"type":"text","value":", ","position":{"start":{"line":328,"column":159,"offset":16176},"end":{"line":328,"column":161,"offset":16178}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"'../'"}],"position":{"start":{"line":328,"column":161,"offset":16178},"end":{"line":328,"column":168,"offset":16185}}},{"type":"text","value":", or ","position":{"start":{"line":328,"column":168,"offset":16185},"end":{"line":328,"column":173,"offset":16190}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"'./'"}],"position":{"start":{"line":328,"column":173,"offset":16190},"end":{"line":328,"column":179,"offset":16196}}},{"type":"text","value":", then Node.js starts at the parent directory of the current module, and adds ","position":{"start":{"line":328,"column":179,"offset":16196},"end":{"line":328,"column":257,"offset":16274}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/node_modules"}],"position":{"start":{"line":328,"column":257,"offset":16274},"end":{"line":328,"column":272,"offset":16289}}},{"type":"text","value":", and attempts to load the module from that location. Node.js will not append ","position":{"start":{"line":328,"column":272,"offset":16289},"end":{"line":328,"column":350,"offset":16367}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node_modules"}],"position":{"start":{"line":328,"column":350,"offset":16367},"end":{"line":328,"column":364,"offset":16381}}},{"type":"text","value":" to a path already ending in ","position":{"start":{"line":328,"column":364,"offset":16381},"end":{"line":328,"column":393,"offset":16410}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node_modules"}],"position":{"start":{"line":328,"column":393,"offset":16410},"end":{"line":328,"column":407,"offset":16424}}},{"type":"text","value":".","position":{"start":{"line":328,"column":407,"offset":16424},"end":{"line":328,"column":408,"offset":16425}}}],"position":{"start":{"line":328,"column":1,"offset":16018},"end":{"line":328,"column":408,"offset":16425}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If it is not found there, then it moves to the parent directory, and so on, until the root of the file system is reached.","position":{"start":{"line":330,"column":1,"offset":16427},"end":{"line":330,"column":122,"offset":16548}}}],"position":{"start":{"line":330,"column":1,"offset":16427},"end":{"line":330,"column":122,"offset":16548}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"For example, if the file at ","position":{"start":{"line":332,"column":1,"offset":16550},"end":{"line":332,"column":29,"offset":16578}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"'/home/ry/projects/foo.js'"}],"position":{"start":{"line":332,"column":29,"offset":16578},"end":{"line":332,"column":57,"offset":16606}}},{"type":"text","value":" called ","position":{"start":{"line":332,"column":57,"offset":16606},"end":{"line":332,"column":65,"offset":16614}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('bar.js')"}],"position":{"start":{"line":332,"column":65,"offset":16614},"end":{"line":332,"column":84,"offset":16633}}},{"type":"text","value":", then Node.js would look in the following locations, in this order:","position":{"start":{"line":332,"column":84,"offset":16633},"end":{"line":332,"column":152,"offset":16701}}}],"position":{"start":{"line":332,"column":1,"offset":16550},"end":{"line":332,"column":152,"offset":16701}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/home/ry/projects/node_modules/bar.js"}],"position":{"start":{"line":334,"column":3,"offset":16705},"end":{"line":334,"column":42,"offset":16744}}}],"position":{"start":{"line":334,"column":1,"offset":16703},"end":{"line":334,"column":42,"offset":16744}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/home/ry/node_modules/bar.js"}],"position":{"start":{"line":335,"column":3,"offset":16747},"end":{"line":335,"column":33,"offset":16777}}}],"position":{"start":{"line":335,"column":1,"offset":16745},"end":{"line":335,"column":33,"offset":16777}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/home/node_modules/bar.js"}],"position":{"start":{"line":336,"column":3,"offset":16780},"end":{"line":336,"column":30,"offset":16807}}}],"position":{"start":{"line":336,"column":1,"offset":16778},"end":{"line":336,"column":30,"offset":16807}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/node_modules/bar.js"}],"position":{"start":{"line":337,"column":3,"offset":16810},"end":{"line":337,"column":25,"offset":16832}}}],"position":{"start":{"line":337,"column":1,"offset":16808},"end":{"line":337,"column":25,"offset":16832}}},{"type":"text","value":"\n"}],"position":{"start":{"line":334,"column":1,"offset":16703},"end":{"line":337,"column":25,"offset":16832}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This allows programs to localize their dependencies, so that they do not clash.","position":{"start":{"line":339,"column":1,"offset":16834},"end":{"line":339,"column":80,"offset":16913}}}],"position":{"start":{"line":339,"column":1,"offset":16834},"end":{"line":339,"column":80,"offset":16913}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"It is possible to require specific files or sub modules distributed with a module by including a path suffix after the module name. For instance ","position":{"start":{"line":341,"column":1,"offset":16915},"end":{"line":341,"column":146,"offset":17060}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('example-module/path/to/file')"}],"position":{"start":{"line":341,"column":146,"offset":17060},"end":{"line":341,"column":186,"offset":17100}}},{"type":"text","value":" would resolve ","position":{"start":{"line":341,"column":186,"offset":17100},"end":{"line":341,"column":201,"offset":17115}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"path/to/file"}],"position":{"start":{"line":341,"column":201,"offset":17115},"end":{"line":341,"column":215,"offset":17129}}},{"type":"text","value":" relative to where ","position":{"start":{"line":341,"column":215,"offset":17129},"end":{"line":341,"column":234,"offset":17148}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"example-module"}],"position":{"start":{"line":341,"column":234,"offset":17148},"end":{"line":341,"column":250,"offset":17164}}},{"type":"text","value":" is located. The suffixed path follows the same module resolution semantics.","position":{"start":{"line":341,"column":250,"offset":17164},"end":{"line":341,"column":326,"offset":17240}}}],"position":{"start":{"line":341,"column":1,"offset":16915},"end":{"line":341,"column":326,"offset":17240}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Loading from the global folders","position":{"start":{"line":343,"column":5,"offset":17246},"end":{"line":343,"column":36,"offset":17277}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_loading_from_the_global_folders"},"children":[{"type":"text","value":"#","position":{"start":{"line":343,"column":37,"offset":17278},"end":{"line":343,"column":38,"offset":17279}}}],"position":{"start":{"line":343,"column":36,"offset":17277},"end":{"line":343,"column":116,"offset":17357}}}],"position":{"start":{"line":343,"column":1,"offset":17242},"end":{"line":343,"column":116,"offset":17357}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If the ","position":{"start":{"line":345,"column":1,"offset":17359},"end":{"line":345,"column":8,"offset":17366}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"NODE_PATH"}],"position":{"start":{"line":345,"column":8,"offset":17366},"end":{"line":345,"column":19,"offset":17377}}},{"type":"text","value":" environment variable is set to a colon-delimited list of absolute paths, then Node.js will search those paths for modules if they are not found elsewhere.","position":{"start":{"line":345,"column":19,"offset":17377},"end":{"line":345,"column":174,"offset":17532}}}],"position":{"start":{"line":345,"column":1,"offset":17359},"end":{"line":345,"column":174,"offset":17532}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"On Windows, ","position":{"start":{"line":347,"column":1,"offset":17534},"end":{"line":347,"column":13,"offset":17546}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"NODE_PATH"}],"position":{"start":{"line":347,"column":13,"offset":17546},"end":{"line":347,"column":24,"offset":17557}}},{"type":"text","value":" is delimited by semicolons (","position":{"start":{"line":347,"column":24,"offset":17557},"end":{"line":347,"column":53,"offset":17586}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":";"}],"position":{"start":{"line":347,"column":53,"offset":17586},"end":{"line":347,"column":56,"offset":17589}}},{"type":"text","value":") instead of colons.","position":{"start":{"line":347,"column":56,"offset":17589},"end":{"line":347,"column":76,"offset":17609}}}],"position":{"start":{"line":347,"column":1,"offset":17534},"end":{"line":347,"column":76,"offset":17609}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"NODE_PATH"}],"position":{"start":{"line":349,"column":1,"offset":17611},"end":{"line":349,"column":12,"offset":17622}}},{"type":"text","value":" was originally created to support loading modules from varying paths before the current ","position":{"start":{"line":349,"column":12,"offset":17622},"end":{"line":349,"column":101,"offset":17711}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_all_together"},"children":[{"type":"text","value":"module resolution","position":{"start":{"line":349,"column":102,"offset":17712},"end":{"line":349,"column":119,"offset":17729}}}],"position":{"start":{"line":349,"column":101,"offset":17711},"end":{"line":349,"column":178,"offset":17788}}},{"type":"text","value":" algorithm was defined.","position":{"start":{"line":349,"column":178,"offset":17788},"end":{"line":349,"column":201,"offset":17811}}}],"position":{"start":{"line":349,"column":1,"offset":17611},"end":{"line":349,"column":201,"offset":17811}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"NODE_PATH"}],"position":{"start":{"line":351,"column":1,"offset":17813},"end":{"line":351,"column":12,"offset":17824}}},{"type":"text","value":" is still supported, but is less necessary now that the Node.js ecosystem has settled on a convention for locating dependent modules. Sometimes deployments that rely on ","position":{"start":{"line":351,"column":12,"offset":17824},"end":{"line":351,"column":181,"offset":17993}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"NODE_PATH"}],"position":{"start":{"line":351,"column":181,"offset":17993},"end":{"line":351,"column":192,"offset":18004}}},{"type":"text","value":" show surprising behavior when people are unaware that ","position":{"start":{"line":351,"column":192,"offset":18004},"end":{"line":351,"column":247,"offset":18059}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"NODE_PATH"}],"position":{"start":{"line":351,"column":247,"offset":18059},"end":{"line":351,"column":258,"offset":18070}}},{"type":"text","value":" must be set. Sometimes a module's dependencies change, causing a different version (or even a different module) to be loaded as the ","position":{"start":{"line":351,"column":258,"offset":18070},"end":{"line":351,"column":391,"offset":18203}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"NODE_PATH"}],"position":{"start":{"line":351,"column":391,"offset":18203},"end":{"line":351,"column":402,"offset":18214}}},{"type":"text","value":" is searched.","position":{"start":{"line":351,"column":402,"offset":18214},"end":{"line":351,"column":415,"offset":18227}}}],"position":{"start":{"line":351,"column":1,"offset":17813},"end":{"line":351,"column":415,"offset":18227}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Additionally, Node.js will search in the following list of GLOBAL_FOLDERS:","position":{"start":{"line":353,"column":1,"offset":18229},"end":{"line":353,"column":75,"offset":18303}}}],"position":{"start":{"line":353,"column":1,"offset":18229},"end":{"line":353,"column":75,"offset":18303}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"1: ","position":{"start":{"line":355,"column":3,"offset":18307},"end":{"line":355,"column":6,"offset":18310}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$HOME/.node_modules"}],"position":{"start":{"line":355,"column":6,"offset":18310},"end":{"line":355,"column":27,"offset":18331}}}],"position":{"start":{"line":355,"column":1,"offset":18305},"end":{"line":355,"column":27,"offset":18331}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"2: ","position":{"start":{"line":356,"column":3,"offset":18334},"end":{"line":356,"column":6,"offset":18337}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$HOME/.node_libraries"}],"position":{"start":{"line":356,"column":6,"offset":18337},"end":{"line":356,"column":29,"offset":18360}}}],"position":{"start":{"line":356,"column":1,"offset":18332},"end":{"line":356,"column":29,"offset":18360}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"3: ","position":{"start":{"line":357,"column":3,"offset":18363},"end":{"line":357,"column":6,"offset":18366}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$PREFIX/lib/node"}],"position":{"start":{"line":357,"column":6,"offset":18366},"end":{"line":357,"column":24,"offset":18384}}}],"position":{"start":{"line":357,"column":1,"offset":18361},"end":{"line":357,"column":24,"offset":18384}}},{"type":"text","value":"\n"}],"position":{"start":{"line":355,"column":1,"offset":18305},"end":{"line":357,"column":24,"offset":18384}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Where ","position":{"start":{"line":359,"column":1,"offset":18386},"end":{"line":359,"column":7,"offset":18392}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$HOME"}],"position":{"start":{"line":359,"column":7,"offset":18392},"end":{"line":359,"column":14,"offset":18399}}},{"type":"text","value":" is the user's home directory, and ","position":{"start":{"line":359,"column":14,"offset":18399},"end":{"line":359,"column":49,"offset":18434}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$PREFIX"}],"position":{"start":{"line":359,"column":49,"offset":18434},"end":{"line":359,"column":58,"offset":18443}}},{"type":"text","value":" is the Node.js configured ","position":{"start":{"line":359,"column":58,"offset":18443},"end":{"line":359,"column":85,"offset":18470}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node_prefix"}],"position":{"start":{"line":359,"column":85,"offset":18470},"end":{"line":359,"column":98,"offset":18483}}},{"type":"text","value":".","position":{"start":{"line":359,"column":98,"offset":18483},"end":{"line":359,"column":99,"offset":18484}}}],"position":{"start":{"line":359,"column":1,"offset":18386},"end":{"line":359,"column":99,"offset":18484}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"These are mostly for historic reasons.","position":{"start":{"line":361,"column":1,"offset":18486},"end":{"line":361,"column":39,"offset":18524}}}],"position":{"start":{"line":361,"column":1,"offset":18486},"end":{"line":361,"column":39,"offset":18524}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"It is strongly encouraged to place dependencies in the local ","position":{"start":{"line":363,"column":1,"offset":18526},"end":{"line":363,"column":62,"offset":18587}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node_modules"}],"position":{"start":{"line":363,"column":62,"offset":18587},"end":{"line":363,"column":76,"offset":18601}}},{"type":"text","value":" folder. These will be loaded faster, and more reliably.","position":{"start":{"line":363,"column":76,"offset":18601},"end":{"line":363,"column":132,"offset":18657}}}],"position":{"start":{"line":363,"column":1,"offset":18526},"end":{"line":363,"column":132,"offset":18657}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"The module wrapper","position":{"start":{"line":365,"column":5,"offset":18663},"end":{"line":365,"column":23,"offset":18681}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_the_module_wrapper"},"children":[{"type":"text","value":"#","position":{"start":{"line":365,"column":24,"offset":18682},"end":{"line":365,"column":25,"offset":18683}}}],"position":{"start":{"line":365,"column":23,"offset":18681},"end":{"line":365,"column":90,"offset":18748}}}],"position":{"start":{"line":365,"column":1,"offset":18659},"end":{"line":365,"column":90,"offset":18748}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Before a module's code is executed, Node.js will wrap it with a function wrapper that looks like the following:","position":{"start":{"line":367,"column":1,"offset":18750},"end":{"line":367,"column":112,"offset":18861}}}],"position":{"start":{"line":367,"column":1,"offset":18750},"end":{"line":367,"column":112,"offset":18861}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"(function(exports, require, module, __filename, __dirname) {\n// Module code actually lives in here\n});\n"}],"position":{"start":{"line":369,"column":1,"offset":18863},"end":{"line":373,"column":4,"offset":18973}}}],"position":{"start":{"line":369,"column":1,"offset":18863},"end":{"line":373,"column":4,"offset":18973}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"By doing this, Node.js achieves a few things:","position":{"start":{"line":375,"column":1,"offset":18975},"end":{"line":375,"column":46,"offset":19020}}}],"position":{"start":{"line":375,"column":1,"offset":18975},"end":{"line":375,"column":46,"offset":19020}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"It keeps top-level variables (defined with ","position":{"start":{"line":377,"column":3,"offset":19024},"end":{"line":377,"column":46,"offset":19067}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"var"}],"position":{"start":{"line":377,"column":46,"offset":19067},"end":{"line":377,"column":51,"offset":19072}}},{"type":"text","value":", ","position":{"start":{"line":377,"column":51,"offset":19072},"end":{"line":377,"column":53,"offset":19074}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const"}],"position":{"start":{"line":377,"column":53,"offset":19074},"end":{"line":377,"column":60,"offset":19081}}},{"type":"text","value":" or ","position":{"start":{"line":377,"column":60,"offset":19081},"end":{"line":377,"column":64,"offset":19085}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"let"}],"position":{"start":{"line":377,"column":64,"offset":19085},"end":{"line":377,"column":69,"offset":19090}}},{"type":"text","value":") scoped to the module rather than the global object.","position":{"start":{"line":377,"column":69,"offset":19090},"end":{"line":377,"column":122,"offset":19143}}}],"position":{"start":{"line":377,"column":1,"offset":19022},"end":{"line":377,"column":122,"offset":19143}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"It helps to provide some global-looking variables that are actually specific to the module, such as:","position":{"start":{"line":378,"column":3,"offset":19146},"end":{"line":378,"column":103,"offset":19246}}}],"position":{"start":{"line":378,"column":3,"offset":19146},"end":{"line":378,"column":103,"offset":19246}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":379,"column":7,"offset":19253},"end":{"line":379,"column":11,"offset":19257}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module"}],"position":{"start":{"line":379,"column":11,"offset":19257},"end":{"line":379,"column":19,"offset":19265}}},{"type":"text","value":" and ","position":{"start":{"line":379,"column":19,"offset":19265},"end":{"line":379,"column":24,"offset":19270}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":379,"column":24,"offset":19270},"end":{"line":379,"column":33,"offset":19279}}},{"type":"text","value":" objects that the implementor can use to export values from the module.","position":{"start":{"line":379,"column":33,"offset":19279},"end":{"line":379,"column":104,"offset":19350}}}],"position":{"start":{"line":379,"column":5,"offset":19251},"end":{"line":379,"column":104,"offset":19350}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The convenience variables ","position":{"start":{"line":380,"column":7,"offset":19357},"end":{"line":380,"column":33,"offset":19383}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"__filename"}],"position":{"start":{"line":380,"column":33,"offset":19383},"end":{"line":380,"column":45,"offset":19395}}},{"type":"text","value":" and ","position":{"start":{"line":380,"column":45,"offset":19395},"end":{"line":380,"column":50,"offset":19400}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"__dirname"}],"position":{"start":{"line":380,"column":50,"offset":19400},"end":{"line":380,"column":61,"offset":19411}}},{"type":"text","value":", containing the module's absolute filename and directory path.","position":{"start":{"line":380,"column":61,"offset":19411},"end":{"line":380,"column":124,"offset":19474}}}],"position":{"start":{"line":380,"column":5,"offset":19355},"end":{"line":380,"column":124,"offset":19474}}},{"type":"text","value":"\n"}],"position":{"start":{"line":379,"column":5,"offset":19251},"end":{"line":380,"column":124,"offset":19474}}},{"type":"text","value":"\n"}],"position":{"start":{"line":378,"column":1,"offset":19144},"end":{"line":380,"column":124,"offset":19474}}},{"type":"text","value":"\n"}],"position":{"start":{"line":377,"column":1,"offset":19022},"end":{"line":380,"column":124,"offset":19474}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"The module scope","position":{"start":{"line":382,"column":5,"offset":19480},"end":{"line":382,"column":21,"offset":19496}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_the_module_scope"},"children":[{"type":"text","value":"#","position":{"start":{"line":382,"column":22,"offset":19497},"end":{"line":382,"column":23,"offset":19498}}}],"position":{"start":{"line":382,"column":21,"offset":19496},"end":{"line":382,"column":86,"offset":19561}}}],"position":{"start":{"line":382,"column":1,"offset":19476},"end":{"line":382,"column":86,"offset":19561}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"__dirname"}],"position":{"start":{"line":384,"column":6,"offset":19568},"end":{"line":384,"column":17,"offset":19579}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_dirname"},"children":[{"type":"text","value":"#","position":{"start":{"line":384,"column":18,"offset":19580},"end":{"line":384,"column":19,"offset":19581}}}],"position":{"start":{"line":384,"column":17,"offset":19579},"end":{"line":384,"column":73,"offset":19635}}}],"position":{"start":{"line":384,"column":1,"offset":19563},"end":{"line":384,"column":73,"offset":19635}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.27","position":{"start":{"line":386,"column":1,"offset":19637},"end":{"line":386,"column":18,"offset":19654}}}],"position":{"start":{"line":386,"column":1,"offset":19637},"end":{"line":386,"column":18,"offset":19654}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"raw","value":"<string>","position":{"start":{"line":388,"column":4,"offset":19659},"end":{"line":388,"column":12,"offset":19667}}}],"position":{"start":{"line":388,"column":3,"offset":19658},"end":{"line":388,"column":98,"offset":19753}}}],"position":{"start":{"line":388,"column":1,"offset":19656},"end":{"line":388,"column":98,"offset":19753}}},{"type":"text","value":"\n"}],"position":{"start":{"line":388,"column":1,"offset":19656},"end":{"line":388,"column":98,"offset":19753}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The directory name of the current module. This is the same as the ","position":{"start":{"line":390,"column":1,"offset":19755},"end":{"line":390,"column":67,"offset":19821}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/path.html#path_path_dirname_path"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"path.dirname()"}],"position":{"start":{"line":390,"column":68,"offset":19822},"end":{"line":390,"column":84,"offset":19838}}}],"position":{"start":{"line":390,"column":67,"offset":19821},"end":{"line":390,"column":142,"offset":19896}}},{"type":"text","value":" of the ","position":{"start":{"line":390,"column":142,"offset":19896},"end":{"line":390,"column":150,"offset":19904}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_filename"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"__filename"}],"position":{"start":{"line":390,"column":151,"offset":19905},"end":{"line":390,"column":163,"offset":19917}}}],"position":{"start":{"line":390,"column":150,"offset":19904},"end":{"line":390,"column":218,"offset":19972}}},{"type":"text","value":".","position":{"start":{"line":390,"column":218,"offset":19972},"end":{"line":390,"column":219,"offset":19973}}}],"position":{"start":{"line":390,"column":1,"offset":19755},"end":{"line":390,"column":219,"offset":19973}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Example: running ","position":{"start":{"line":392,"column":1,"offset":19975},"end":{"line":392,"column":18,"offset":19992}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node example.js"}],"position":{"start":{"line":392,"column":18,"offset":19992},"end":{"line":392,"column":35,"offset":20009}}},{"type":"text","value":" from ","position":{"start":{"line":392,"column":35,"offset":20009},"end":{"line":392,"column":41,"offset":20015}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/Users/mjr"}],"position":{"start":{"line":392,"column":41,"offset":20015},"end":{"line":392,"column":53,"offset":20027}}}],"position":{"start":{"line":392,"column":1,"offset":19975},"end":{"line":392,"column":53,"offset":20027}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"console.log(__dirname);\n// Prints: /Users/mjr\nconsole.log(path.dirname(__filename));\n// Prints: /Users/mjr\n"}],"position":{"start":{"line":394,"column":1,"offset":20029},"end":{"line":399,"column":4,"offset":20143}}}],"position":{"start":{"line":394,"column":1,"offset":20029},"end":{"line":399,"column":4,"offset":20143}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"__filename"}],"position":{"start":{"line":401,"column":6,"offset":20150},"end":{"line":401,"column":18,"offset":20162}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_filename"},"children":[{"type":"text","value":"#","position":{"start":{"line":401,"column":19,"offset":20163},"end":{"line":401,"column":20,"offset":20164}}}],"position":{"start":{"line":401,"column":18,"offset":20162},"end":{"line":401,"column":75,"offset":20219}}}],"position":{"start":{"line":401,"column":1,"offset":20145},"end":{"line":401,"column":75,"offset":20219}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.0.1","position":{"start":{"line":403,"column":1,"offset":20221},"end":{"line":403,"column":17,"offset":20237}}}],"position":{"start":{"line":403,"column":1,"offset":20221},"end":{"line":403,"column":17,"offset":20237}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"raw","value":"<string>","position":{"start":{"line":405,"column":4,"offset":20242},"end":{"line":405,"column":12,"offset":20250}}}],"position":{"start":{"line":405,"column":3,"offset":20241},"end":{"line":405,"column":98,"offset":20336}}}],"position":{"start":{"line":405,"column":1,"offset":20239},"end":{"line":405,"column":98,"offset":20336}}},{"type":"text","value":"\n"}],"position":{"start":{"line":405,"column":1,"offset":20239},"end":{"line":405,"column":98,"offset":20336}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The file name of the current module. This is the current module file's absolute path with symlinks resolved.","position":{"start":{"line":407,"column":1,"offset":20338},"end":{"line":407,"column":109,"offset":20446}}}],"position":{"start":{"line":407,"column":1,"offset":20338},"end":{"line":407,"column":109,"offset":20446}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"For a main program this is not necessarily the same as the file name used in the command line.","position":{"start":{"line":409,"column":1,"offset":20448},"end":{"line":409,"column":95,"offset":20542}}}],"position":{"start":{"line":409,"column":1,"offset":20448},"end":{"line":409,"column":95,"offset":20542}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"See ","position":{"start":{"line":411,"column":1,"offset":20544},"end":{"line":411,"column":5,"offset":20548}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_dirname"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"__dirname"}],"position":{"start":{"line":411,"column":6,"offset":20549},"end":{"line":411,"column":17,"offset":20560}}}],"position":{"start":{"line":411,"column":5,"offset":20548},"end":{"line":411,"column":71,"offset":20614}}},{"type":"text","value":" for the directory name of the current module.","position":{"start":{"line":411,"column":71,"offset":20614},"end":{"line":411,"column":117,"offset":20660}}}],"position":{"start":{"line":411,"column":1,"offset":20544},"end":{"line":411,"column":117,"offset":20660}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Examples:","position":{"start":{"line":413,"column":1,"offset":20662},"end":{"line":413,"column":10,"offset":20671}}}],"position":{"start":{"line":413,"column":1,"offset":20662},"end":{"line":413,"column":10,"offset":20671}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Running ","position":{"start":{"line":415,"column":1,"offset":20673},"end":{"line":415,"column":9,"offset":20681}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node example.js"}],"position":{"start":{"line":415,"column":9,"offset":20681},"end":{"line":415,"column":26,"offset":20698}}},{"type":"text","value":" from ","position":{"start":{"line":415,"column":26,"offset":20698},"end":{"line":415,"column":32,"offset":20704}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/Users/mjr"}],"position":{"start":{"line":415,"column":32,"offset":20704},"end":{"line":415,"column":44,"offset":20716}}}],"position":{"start":{"line":415,"column":1,"offset":20673},"end":{"line":415,"column":44,"offset":20716}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"console.log(__filename);\n// Prints: /Users/mjr/example.js\nconsole.log(__dirname);\n// Prints: /Users/mjr\n"}],"position":{"start":{"line":417,"column":1,"offset":20718},"end":{"line":422,"column":4,"offset":20829}}}],"position":{"start":{"line":417,"column":1,"offset":20718},"end":{"line":422,"column":4,"offset":20829}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Given two modules: ","position":{"start":{"line":424,"column":1,"offset":20831},"end":{"line":424,"column":20,"offset":20850}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"a"}],"position":{"start":{"line":424,"column":20,"offset":20850},"end":{"line":424,"column":23,"offset":20853}}},{"type":"text","value":" and ","position":{"start":{"line":424,"column":23,"offset":20853},"end":{"line":424,"column":28,"offset":20858}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"b"}],"position":{"start":{"line":424,"column":28,"offset":20858},"end":{"line":424,"column":31,"offset":20861}}},{"type":"text","value":", where ","position":{"start":{"line":424,"column":31,"offset":20861},"end":{"line":424,"column":39,"offset":20869}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"b"}],"position":{"start":{"line":424,"column":39,"offset":20869},"end":{"line":424,"column":42,"offset":20872}}},{"type":"text","value":" is a dependency of ","position":{"start":{"line":424,"column":42,"offset":20872},"end":{"line":424,"column":62,"offset":20892}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"a"}],"position":{"start":{"line":424,"column":62,"offset":20892},"end":{"line":424,"column":65,"offset":20895}}},{"type":"text","value":" and there is a directory structure of:","position":{"start":{"line":424,"column":65,"offset":20895},"end":{"line":424,"column":104,"offset":20934}}}],"position":{"start":{"line":424,"column":1,"offset":20831},"end":{"line":424,"column":104,"offset":20934}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/Users/mjr/app/a.js"}],"position":{"start":{"line":426,"column":3,"offset":20938},"end":{"line":426,"column":24,"offset":20959}}}],"position":{"start":{"line":426,"column":1,"offset":20936},"end":{"line":426,"column":24,"offset":20959}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/Users/mjr/app/node_modules/b/b.js"}],"position":{"start":{"line":427,"column":3,"offset":20962},"end":{"line":427,"column":39,"offset":20998}}}],"position":{"start":{"line":427,"column":1,"offset":20960},"end":{"line":427,"column":39,"offset":20998}}},{"type":"text","value":"\n"}],"position":{"start":{"line":426,"column":1,"offset":20936},"end":{"line":427,"column":39,"offset":20998}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"References to ","position":{"start":{"line":429,"column":1,"offset":21000},"end":{"line":429,"column":15,"offset":21014}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"__filename"}],"position":{"start":{"line":429,"column":15,"offset":21014},"end":{"line":429,"column":27,"offset":21026}}},{"type":"text","value":" within ","position":{"start":{"line":429,"column":27,"offset":21026},"end":{"line":429,"column":35,"offset":21034}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"b.js"}],"position":{"start":{"line":429,"column":35,"offset":21034},"end":{"line":429,"column":41,"offset":21040}}},{"type":"text","value":" will return ","position":{"start":{"line":429,"column":41,"offset":21040},"end":{"line":429,"column":54,"offset":21053}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/Users/mjr/app/node_modules/b/b.js"}],"position":{"start":{"line":429,"column":54,"offset":21053},"end":{"line":429,"column":90,"offset":21089}}},{"type":"text","value":" while references to ","position":{"start":{"line":429,"column":90,"offset":21089},"end":{"line":429,"column":111,"offset":21110}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"__filename"}],"position":{"start":{"line":429,"column":111,"offset":21110},"end":{"line":429,"column":123,"offset":21122}}},{"type":"text","value":" within ","position":{"start":{"line":429,"column":123,"offset":21122},"end":{"line":429,"column":131,"offset":21130}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"a.js"}],"position":{"start":{"line":429,"column":131,"offset":21130},"end":{"line":429,"column":137,"offset":21136}}},{"type":"text","value":" will return ","position":{"start":{"line":429,"column":137,"offset":21136},"end":{"line":429,"column":150,"offset":21149}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/Users/mjr/app/a.js"}],"position":{"start":{"line":429,"column":150,"offset":21149},"end":{"line":429,"column":171,"offset":21170}}},{"type":"text","value":".","position":{"start":{"line":429,"column":171,"offset":21170},"end":{"line":429,"column":172,"offset":21171}}}],"position":{"start":{"line":429,"column":1,"offset":21000},"end":{"line":429,"column":172,"offset":21171}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":431,"column":6,"offset":21178},"end":{"line":431,"column":15,"offset":21187}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_exports"},"children":[{"type":"text","value":"#","position":{"start":{"line":431,"column":16,"offset":21188},"end":{"line":431,"column":17,"offset":21189}}}],"position":{"start":{"line":431,"column":15,"offset":21187},"end":{"line":431,"column":71,"offset":21243}}}],"position":{"start":{"line":431,"column":1,"offset":21173},"end":{"line":431,"column":71,"offset":21243}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.12","position":{"start":{"line":433,"column":1,"offset":21245},"end":{"line":433,"column":18,"offset":21262}}}],"position":{"start":{"line":433,"column":1,"offset":21245},"end":{"line":433,"column":18,"offset":21262}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"},"children":[{"type":"raw","value":"<Object>","position":{"start":{"line":435,"column":4,"offset":21267},"end":{"line":435,"column":12,"offset":21275}}}],"position":{"start":{"line":435,"column":3,"offset":21266},"end":{"line":435,"column":102,"offset":21365}}}],"position":{"start":{"line":435,"column":1,"offset":21264},"end":{"line":435,"column":102,"offset":21365}}},{"type":"text","value":"\n"}],"position":{"start":{"line":435,"column":1,"offset":21264},"end":{"line":435,"column":102,"offset":21365}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A reference to the ","position":{"start":{"line":437,"column":1,"offset":21367},"end":{"line":437,"column":20,"offset":21386}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":437,"column":20,"offset":21386},"end":{"line":437,"column":36,"offset":21402}}},{"type":"text","value":" that is shorter to type. See the section about the ","position":{"start":{"line":437,"column":36,"offset":21402},"end":{"line":437,"column":88,"offset":21454}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_exports_shortcut"},"children":[{"type":"text","value":"exports shortcut","position":{"start":{"line":437,"column":89,"offset":21455},"end":{"line":437,"column":105,"offset":21471}}}],"position":{"start":{"line":437,"column":88,"offset":21454},"end":{"line":437,"column":168,"offset":21534}}},{"type":"text","value":" for details on when to use ","position":{"start":{"line":437,"column":168,"offset":21534},"end":{"line":437,"column":196,"offset":21562}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":437,"column":196,"offset":21562},"end":{"line":437,"column":205,"offset":21571}}},{"type":"text","value":" and when to use ","position":{"start":{"line":437,"column":205,"offset":21571},"end":{"line":437,"column":222,"offset":21588}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":437,"column":222,"offset":21588},"end":{"line":437,"column":238,"offset":21604}}},{"type":"text","value":".","position":{"start":{"line":437,"column":238,"offset":21604},"end":{"line":437,"column":239,"offset":21605}}}],"position":{"start":{"line":437,"column":1,"offset":21367},"end":{"line":437,"column":239,"offset":21605}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module"}],"position":{"start":{"line":439,"column":6,"offset":21612},"end":{"line":439,"column":14,"offset":21620}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module"},"children":[{"type":"text","value":"#","position":{"start":{"line":439,"column":15,"offset":21621},"end":{"line":439,"column":16,"offset":21622}}}],"position":{"start":{"line":439,"column":14,"offset":21620},"end":{"line":439,"column":69,"offset":21675}}}],"position":{"start":{"line":439,"column":1,"offset":21607},"end":{"line":439,"column":69,"offset":21675}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.16","position":{"start":{"line":441,"column":1,"offset":21677},"end":{"line":441,"column":18,"offset":21694}}}],"position":{"start":{"line":441,"column":1,"offset":21677},"end":{"line":441,"column":18,"offset":21694}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_the_module_object"},"children":[{"type":"raw","value":"<module>","position":{"start":{"line":443,"column":4,"offset":21699},"end":{"line":443,"column":12,"offset":21707}}}],"position":{"start":{"line":443,"column":3,"offset":21698},"end":{"line":443,"column":76,"offset":21771}}}],"position":{"start":{"line":443,"column":1,"offset":21696},"end":{"line":443,"column":76,"offset":21771}}},{"type":"text","value":"\n"}],"position":{"start":{"line":443,"column":1,"offset":21696},"end":{"line":443,"column":76,"offset":21771}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A reference to the current module, see the section about the ","position":{"start":{"line":445,"column":1,"offset":21773},"end":{"line":445,"column":62,"offset":21834}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_the_module_object"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module"}],"position":{"start":{"line":445,"column":63,"offset":21835},"end":{"line":445,"column":71,"offset":21843}}},{"type":"text","value":" object","position":{"start":{"line":445,"column":71,"offset":21843},"end":{"line":445,"column":78,"offset":21850}}}],"position":{"start":{"line":445,"column":62,"offset":21834},"end":{"line":445,"column":142,"offset":21914}}},{"type":"text","value":". In particular, ","position":{"start":{"line":445,"column":142,"offset":21914},"end":{"line":445,"column":159,"offset":21931}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":445,"column":159,"offset":21931},"end":{"line":445,"column":175,"offset":21947}}},{"type":"text","value":" is used for defining what a module exports and makes available through ","position":{"start":{"line":445,"column":175,"offset":21947},"end":{"line":445,"column":247,"offset":22019}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":445,"column":247,"offset":22019},"end":{"line":445,"column":258,"offset":22030}}},{"type":"text","value":".","position":{"start":{"line":445,"column":258,"offset":22030},"end":{"line":445,"column":259,"offset":22031}}}],"position":{"start":{"line":445,"column":1,"offset":21773},"end":{"line":445,"column":259,"offset":22031}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require(id)"}],"position":{"start":{"line":447,"column":6,"offset":22038},"end":{"line":447,"column":19,"offset":22051}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_require_id"},"children":[{"type":"text","value":"#","position":{"start":{"line":447,"column":20,"offset":22052},"end":{"line":447,"column":21,"offset":22053}}}],"position":{"start":{"line":447,"column":19,"offset":22051},"end":{"line":447,"column":78,"offset":22110}}}],"position":{"start":{"line":447,"column":1,"offset":22033},"end":{"line":447,"column":78,"offset":22110}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.13","position":{"start":{"line":449,"column":1,"offset":22112},"end":{"line":449,"column":18,"offset":22129}}}],"position":{"start":{"line":449,"column":1,"offset":22112},"end":{"line":449,"column":18,"offset":22129}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"id"}],"position":{"start":{"line":451,"column":3,"offset":22133},"end":{"line":451,"column":7,"offset":22137}}},{"type":"text","value":" ","position":{"start":{"line":451,"column":7,"offset":22137},"end":{"line":451,"column":8,"offset":22138}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"raw","value":"<string>","position":{"start":{"line":451,"column":9,"offset":22139},"end":{"line":451,"column":17,"offset":22147}}}],"position":{"start":{"line":451,"column":8,"offset":22138},"end":{"line":451,"column":103,"offset":22233}}},{"type":"text","value":" module name or path","position":{"start":{"line":451,"column":103,"offset":22233},"end":{"line":451,"column":123,"offset":22253}}}],"position":{"start":{"line":451,"column":1,"offset":22131},"end":{"line":451,"column":123,"offset":22253}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Returns: ","position":{"start":{"line":452,"column":3,"offset":22256},"end":{"line":452,"column":12,"offset":22265}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Data_types"},"children":[{"type":"raw","value":"<any>","position":{"start":{"line":452,"column":13,"offset":22266},"end":{"line":452,"column":18,"offset":22271}}}],"position":{"start":{"line":452,"column":12,"offset":22265},"end":{"line":452,"column":103,"offset":22356}}},{"type":"text","value":" exported module content","position":{"start":{"line":452,"column":103,"offset":22356},"end":{"line":452,"column":127,"offset":22380}}}],"position":{"start":{"line":452,"column":1,"offset":22254},"end":{"line":452,"column":127,"offset":22380}}},{"type":"text","value":"\n"}],"position":{"start":{"line":451,"column":1,"offset":22131},"end":{"line":452,"column":127,"offset":22380}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Used to import modules, ","position":{"start":{"line":454,"column":1,"offset":22382},"end":{"line":454,"column":25,"offset":22406}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"JSON"}],"position":{"start":{"line":454,"column":25,"offset":22406},"end":{"line":454,"column":31,"offset":22412}}},{"type":"text","value":", and local files. Modules can be imported from ","position":{"start":{"line":454,"column":31,"offset":22412},"end":{"line":454,"column":79,"offset":22460}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node_modules"}],"position":{"start":{"line":454,"column":79,"offset":22460},"end":{"line":454,"column":93,"offset":22474}}},{"type":"text","value":". Local modules and JSON files can be imported using a relative path (e.g. ","position":{"start":{"line":454,"column":93,"offset":22474},"end":{"line":454,"column":168,"offset":22549}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"./"}],"position":{"start":{"line":454,"column":168,"offset":22549},"end":{"line":454,"column":172,"offset":22553}}},{"type":"text","value":", ","position":{"start":{"line":454,"column":172,"offset":22553},"end":{"line":454,"column":174,"offset":22555}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"./foo"}],"position":{"start":{"line":454,"column":174,"offset":22555},"end":{"line":454,"column":181,"offset":22562}}},{"type":"text","value":", ","position":{"start":{"line":454,"column":181,"offset":22562},"end":{"line":454,"column":183,"offset":22564}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"./bar/baz"}],"position":{"start":{"line":454,"column":183,"offset":22564},"end":{"line":454,"column":194,"offset":22575}}},{"type":"text","value":", ","position":{"start":{"line":454,"column":194,"offset":22575},"end":{"line":454,"column":196,"offset":22577}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"../foo"}],"position":{"start":{"line":454,"column":196,"offset":22577},"end":{"line":454,"column":204,"offset":22585}}},{"type":"text","value":") that will be resolved against the directory named by ","position":{"start":{"line":454,"column":204,"offset":22585},"end":{"line":454,"column":259,"offset":22640}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_dirname"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"__dirname"}],"position":{"start":{"line":454,"column":260,"offset":22641},"end":{"line":454,"column":271,"offset":22652}}}],"position":{"start":{"line":454,"column":259,"offset":22640},"end":{"line":454,"column":325,"offset":22706}}},{"type":"text","value":" (if defined) or the current working directory. The relative paths of POSIX style are resolved in an OS independent fashion, meaning that the examples above will work on Windows in the same way they would on Unix systems.","position":{"start":{"line":454,"column":325,"offset":22706},"end":{"line":454,"column":546,"offset":22927}}}],"position":{"start":{"line":454,"column":1,"offset":22382},"end":{"line":454,"column":546,"offset":22927}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"// Importing a local module with a path relative to the `__dirname` or current\n// working directory. (On Windows, this would resolve to .\\path\\myLocalModule.)\nconst myLocalModule = require('./path/myLocalModule');\n\n// Importing a JSON file:\nconst jsonData = require('./path/filename.json');\n\n// Importing a module from node_modules or Node.js built-in module:\nconst crypto = require('crypto');\n"}],"position":{"start":{"line":456,"column":1,"offset":22929},"end":{"line":466,"column":4,"offset":23330}}}],"position":{"start":{"line":456,"column":1,"offset":22929},"end":{"line":466,"column":4,"offset":23330}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h5","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.cache"}],"position":{"start":{"line":468,"column":7,"offset":23338},"end":{"line":468,"column":22,"offset":23353}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_require_cache"},"children":[{"type":"text","value":"#","position":{"start":{"line":468,"column":23,"offset":23354},"end":{"line":468,"column":24,"offset":23355}}}],"position":{"start":{"line":468,"column":22,"offset":23353},"end":{"line":468,"column":84,"offset":23415}}}],"position":{"start":{"line":468,"column":1,"offset":23332},"end":{"line":468,"column":84,"offset":23415}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.3.0","position":{"start":{"line":470,"column":1,"offset":23417},"end":{"line":470,"column":17,"offset":23433}}}],"position":{"start":{"line":470,"column":1,"offset":23417},"end":{"line":470,"column":17,"offset":23433}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"},"children":[{"type":"raw","value":"<Object>","position":{"start":{"line":472,"column":4,"offset":23438},"end":{"line":472,"column":12,"offset":23446}}}],"position":{"start":{"line":472,"column":3,"offset":23437},"end":{"line":472,"column":102,"offset":23536}}}],"position":{"start":{"line":472,"column":1,"offset":23435},"end":{"line":472,"column":102,"offset":23536}}},{"type":"text","value":"\n"}],"position":{"start":{"line":472,"column":1,"offset":23435},"end":{"line":472,"column":102,"offset":23536}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Modules are cached in this object when they are required. By deleting a key value from this object, the next ","position":{"start":{"line":474,"column":1,"offset":23538},"end":{"line":474,"column":110,"offset":23647}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require"}],"position":{"start":{"line":474,"column":110,"offset":23647},"end":{"line":474,"column":119,"offset":23656}}},{"type":"text","value":" will reload the module. This does not apply to ","position":{"start":{"line":474,"column":119,"offset":23656},"end":{"line":474,"column":167,"offset":23704}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/addons.html"},"children":[{"type":"text","value":"native addons","position":{"start":{"line":474,"column":168,"offset":23705},"end":{"line":474,"column":181,"offset":23718}}}],"position":{"start":{"line":474,"column":167,"offset":23704},"end":{"line":474,"column":218,"offset":23755}}},{"type":"text","value":", for which reloading will result in an error.","position":{"start":{"line":474,"column":218,"offset":23755},"end":{"line":474,"column":264,"offset":23801}}}],"position":{"start":{"line":474,"column":1,"offset":23538},"end":{"line":474,"column":264,"offset":23801}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Adding or replacing entries is also possible. This cache is checked before native modules and if a name matching a native module is added to the cache, only ","position":{"start":{"line":476,"column":1,"offset":23803},"end":{"line":476,"column":158,"offset":23960}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node:"}],"position":{"start":{"line":476,"column":158,"offset":23960},"end":{"line":476,"column":165,"offset":23967}}},{"type":"text","value":"-prefixed require calls are going to receive the native module. Use with care!","position":{"start":{"line":476,"column":165,"offset":23967},"end":{"line":476,"column":243,"offset":24045}}}],"position":{"start":{"line":476,"column":1,"offset":23803},"end":{"line":476,"column":243,"offset":24045}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const assert = require('assert');\nconst realFs = require('fs');\n\nconst fakeFs = {};\nrequire.cache.fs = { exports: fakeFs };\n\nassert.strictEqual(require('fs'), fakeFs);\nassert.strictEqual(require('node:fs'), realFs);\n"}],"position":{"start":{"line":478,"column":1,"offset":24047},"end":{"line":487,"column":4,"offset":24270}}}],"position":{"start":{"line":478,"column":1,"offset":24047},"end":{"line":487,"column":4,"offset":24270}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h5","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.extensions"}],"position":{"start":{"line":489,"column":7,"offset":24278},"end":{"line":489,"column":27,"offset":24298}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_require_extensions"},"children":[{"type":"text","value":"#","position":{"start":{"line":489,"column":28,"offset":24299},"end":{"line":489,"column":29,"offset":24300}}}],"position":{"start":{"line":489,"column":27,"offset":24298},"end":{"line":489,"column":94,"offset":24365}}}],"position":{"start":{"line":489,"column":1,"offset":24272},"end":{"line":489,"column":94,"offset":24365}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.3.0Deprecated since: v0.10.6","position":{"start":{"line":491,"column":1,"offset":24367},"end":{"line":491,"column":42,"offset":24408}}}],"position":{"start":{"line":491,"column":1,"offset":24367},"end":{"line":491,"column":42,"offset":24408}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/documentation.html#documentation_stability_index"},"children":[{"type":"text","value":"Stability: 0","position":{"start":{"line":493,"column":2,"offset":24411},"end":{"line":493,"column":14,"offset":24423}}}],"position":{"start":{"line":493,"column":1,"offset":24410},"end":{"line":493,"column":88,"offset":24497}}},{"type":"text","value":" - Deprecated","position":{"start":{"line":493,"column":88,"offset":24497},"end":{"line":493,"column":101,"offset":24510}}}],"position":{"start":{"line":493,"column":1,"offset":24410},"end":{"line":493,"column":101,"offset":24510}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"},"children":[{"type":"raw","value":"<Object>","position":{"start":{"line":495,"column":4,"offset":24515},"end":{"line":495,"column":12,"offset":24523}}}],"position":{"start":{"line":495,"column":3,"offset":24514},"end":{"line":495,"column":102,"offset":24613}}}],"position":{"start":{"line":495,"column":1,"offset":24512},"end":{"line":495,"column":102,"offset":24613}}},{"type":"text","value":"\n"}],"position":{"start":{"line":495,"column":1,"offset":24512},"end":{"line":495,"column":102,"offset":24613}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Instruct ","position":{"start":{"line":497,"column":1,"offset":24615},"end":{"line":497,"column":10,"offset":24624}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require"}],"position":{"start":{"line":497,"column":10,"offset":24624},"end":{"line":497,"column":19,"offset":24633}}},{"type":"text","value":" on how to handle certain file extensions.","position":{"start":{"line":497,"column":19,"offset":24633},"end":{"line":497,"column":61,"offset":24675}}}],"position":{"start":{"line":497,"column":1,"offset":24615},"end":{"line":497,"column":61,"offset":24675}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Process files with the extension ","position":{"start":{"line":499,"column":1,"offset":24677},"end":{"line":499,"column":34,"offset":24710}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".sjs"}],"position":{"start":{"line":499,"column":34,"offset":24710},"end":{"line":499,"column":40,"offset":24716}}},{"type":"text","value":" as ","position":{"start":{"line":499,"column":40,"offset":24716},"end":{"line":499,"column":44,"offset":24720}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".js"}],"position":{"start":{"line":499,"column":44,"offset":24720},"end":{"line":499,"column":49,"offset":24725}}},{"type":"text","value":":","position":{"start":{"line":499,"column":49,"offset":24725},"end":{"line":499,"column":50,"offset":24726}}}],"position":{"start":{"line":499,"column":1,"offset":24677},"end":{"line":499,"column":50,"offset":24726}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.extensions['.sjs'] = require.extensions['.js'];\n"}],"position":{"start":{"line":501,"column":1,"offset":24728},"end":{"line":503,"column":4,"offset":24791}}}],"position":{"start":{"line":501,"column":1,"offset":24728},"end":{"line":503,"column":4,"offset":24791}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Deprecated. In the past, this list has been used to load non-JavaScript modules into Node.js by compiling them on-demand. However, in practice, there are much better ways to do this, such as loading modules via some other Node.js program, or compiling them to JavaScript ahead of time.","position":{"start":{"line":505,"column":1,"offset":24793},"end":{"line":505,"column":286,"offset":25078}}}],"position":{"start":{"line":505,"column":1,"offset":24793},"end":{"line":505,"column":286,"offset":25078}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Avoid using ","position":{"start":{"line":507,"column":1,"offset":25080},"end":{"line":507,"column":13,"offset":25092}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.extensions"}],"position":{"start":{"line":507,"column":13,"offset":25092},"end":{"line":507,"column":33,"offset":25112}}},{"type":"text","value":". Use could cause subtle bugs and resolving the extensions gets slower with each registered extension.","position":{"start":{"line":507,"column":33,"offset":25112},"end":{"line":507,"column":135,"offset":25214}}}],"position":{"start":{"line":507,"column":1,"offset":25080},"end":{"line":507,"column":135,"offset":25214}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h5","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.main"}],"position":{"start":{"line":509,"column":7,"offset":25222},"end":{"line":509,"column":21,"offset":25236}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_require_main"},"children":[{"type":"text","value":"#","position":{"start":{"line":509,"column":22,"offset":25237},"end":{"line":509,"column":23,"offset":25238}}}],"position":{"start":{"line":509,"column":21,"offset":25236},"end":{"line":509,"column":82,"offset":25297}}}],"position":{"start":{"line":509,"column":1,"offset":25216},"end":{"line":509,"column":82,"offset":25297}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.17","position":{"start":{"line":511,"column":1,"offset":25299},"end":{"line":511,"column":18,"offset":25316}}}],"position":{"start":{"line":511,"column":1,"offset":25299},"end":{"line":511,"column":18,"offset":25316}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_the_module_object"},"children":[{"type":"raw","value":"<module>","position":{"start":{"line":513,"column":4,"offset":25321},"end":{"line":513,"column":12,"offset":25329}}}],"position":{"start":{"line":513,"column":3,"offset":25320},"end":{"line":513,"column":76,"offset":25393}}}],"position":{"start":{"line":513,"column":1,"offset":25318},"end":{"line":513,"column":76,"offset":25393}}},{"type":"text","value":"\n"}],"position":{"start":{"line":513,"column":1,"offset":25318},"end":{"line":513,"column":76,"offset":25393}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":515,"column":1,"offset":25395},"end":{"line":515,"column":5,"offset":25399}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Module"}],"position":{"start":{"line":515,"column":5,"offset":25399},"end":{"line":515,"column":13,"offset":25407}}},{"type":"text","value":" object representing the entry script loaded when the Node.js process launched. See ","position":{"start":{"line":515,"column":13,"offset":25407},"end":{"line":515,"column":97,"offset":25491}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_accessing_the_main_module"},"children":[{"type":"text","value":"\"Accessing the main module\"","position":{"start":{"line":515,"column":98,"offset":25492},"end":{"line":515,"column":125,"offset":25519}}}],"position":{"start":{"line":515,"column":97,"offset":25491},"end":{"line":515,"column":197,"offset":25591}}},{"type":"text","value":".","position":{"start":{"line":515,"column":197,"offset":25591},"end":{"line":515,"column":198,"offset":25592}}}],"position":{"start":{"line":515,"column":1,"offset":25395},"end":{"line":515,"column":198,"offset":25592}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In ","position":{"start":{"line":517,"column":1,"offset":25594},"end":{"line":517,"column":4,"offset":25597}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"entry.js"}],"position":{"start":{"line":517,"column":4,"offset":25597},"end":{"line":517,"column":14,"offset":25607}}},{"type":"text","value":" script:","position":{"start":{"line":517,"column":14,"offset":25607},"end":{"line":517,"column":22,"offset":25615}}}],"position":{"start":{"line":517,"column":1,"offset":25594},"end":{"line":517,"column":22,"offset":25615}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"console.log(require.main);\n"}],"position":{"start":{"line":519,"column":1,"offset":25617},"end":{"line":521,"column":4,"offset":25651}}}],"position":{"start":{"line":519,"column":1,"offset":25617},"end":{"line":521,"column":4,"offset":25651}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node entry.js\n"}],"position":{"start":{"line":523,"column":1,"offset":25653},"end":{"line":525,"column":4,"offset":25674}}}],"position":{"start":{"line":523,"column":1,"offset":25653},"end":{"line":525,"column":4,"offset":25674}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Module {\n  id: '.',\n  path: '/absolute/path/to',\n  exports: {},\n  filename: '/absolute/path/to/entry.js',\n  loaded: false,\n  children: [],\n  paths:\n   [ '/absolute/path/to/node_modules',\n     '/absolute/path/node_modules',\n     '/absolute/node_modules',\n     '/node_modules' ] }\n"}],"position":{"start":{"line":527,"column":1,"offset":25676},"end":{"line":540,"column":4,"offset":25962}}}],"position":{"start":{"line":527,"column":1,"offset":25676},"end":{"line":540,"column":4,"offset":25962}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h5","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.resolve(request[, options])"}],"position":{"start":{"line":542,"column":7,"offset":25970},"end":{"line":542,"column":44,"offset":26007}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_require_resolve_request_options"},"children":[{"type":"text","value":"#","position":{"start":{"line":542,"column":45,"offset":26008},"end":{"line":542,"column":46,"offset":26009}}}],"position":{"start":{"line":542,"column":44,"offset":26007},"end":{"line":542,"column":124,"offset":26087}}}],"position":{"start":{"line":542,"column":1,"offset":25964},"end":{"line":542,"column":124,"offset":26087}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"History","position":{"start":{"line":544,"column":1,"offset":26089},"end":{"line":544,"column":8,"offset":26096}}}],"position":{"start":{"line":544,"column":1,"offset":26089},"end":{"line":544,"column":8,"offset":26096}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"request"}],"position":{"start":{"line":546,"column":3,"offset":26100},"end":{"line":546,"column":12,"offset":26109}}},{"type":"text","value":" ","position":{"start":{"line":546,"column":12,"offset":26109},"end":{"line":546,"column":13,"offset":26110}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"raw","value":"<string>","position":{"start":{"line":546,"column":14,"offset":26111},"end":{"line":546,"column":22,"offset":26119}}}],"position":{"start":{"line":546,"column":13,"offset":26110},"end":{"line":546,"column":108,"offset":26205}}},{"type":"text","value":" The module path to resolve.","position":{"start":{"line":546,"column":108,"offset":26205},"end":{"line":546,"column":136,"offset":26233}}}],"position":{"start":{"line":546,"column":1,"offset":26098},"end":{"line":546,"column":136,"offset":26233}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"options"}],"position":{"start":{"line":547,"column":3,"offset":26236},"end":{"line":547,"column":12,"offset":26245}}},{"type":"text","value":" ","position":{"start":{"line":547,"column":12,"offset":26245},"end":{"line":547,"column":13,"offset":26246}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"},"children":[{"type":"raw","value":"<Object>","position":{"start":{"line":547,"column":14,"offset":26247},"end":{"line":547,"column":22,"offset":26255}}}],"position":{"start":{"line":547,"column":13,"offset":26246},"end":{"line":547,"column":112,"offset":26345}}}],"position":{"start":{"line":547,"column":1,"offset":26234},"end":{"line":547,"column":112,"offset":26345}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"paths"}],"position":{"start":{"line":548,"column":5,"offset":26350},"end":{"line":548,"column":12,"offset":26357}}},{"type":"text","value":" ","position":{"start":{"line":548,"column":12,"offset":26357},"end":{"line":548,"column":13,"offset":26358}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"text","value":"<string[]>","position":{"start":{"line":548,"column":14,"offset":26359},"end":{"line":548,"column":24,"offset":26369}}}],"position":{"start":{"line":548,"column":13,"offset":26358},"end":{"line":548,"column":110,"offset":26455}}},{"type":"text","value":" Paths to resolve module location from. If present, these paths are used instead of the default resolution paths, with the exception of ","position":{"start":{"line":548,"column":110,"offset":26455},"end":{"line":548,"column":246,"offset":26591}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_loading_from_the_global_folders"},"children":[{"type":"text","value":"GLOBAL_FOLDERS","position":{"start":{"line":548,"column":247,"offset":26592},"end":{"line":548,"column":261,"offset":26606}}}],"position":{"start":{"line":548,"column":246,"offset":26591},"end":{"line":548,"column":339,"offset":26684}}},{"type":"text","value":" like ","position":{"start":{"line":548,"column":339,"offset":26684},"end":{"line":548,"column":345,"offset":26690}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$HOME/.node_modules"}],"position":{"start":{"line":548,"column":345,"offset":26690},"end":{"line":548,"column":366,"offset":26711}}},{"type":"text","value":", which are always included. Each of these paths is used as a starting point for the module resolution algorithm, meaning that the ","position":{"start":{"line":548,"column":366,"offset":26711},"end":{"line":548,"column":497,"offset":26842}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node_modules"}],"position":{"start":{"line":548,"column":497,"offset":26842},"end":{"line":548,"column":511,"offset":26856}}},{"type":"text","value":" hierarchy is checked from this location.","position":{"start":{"line":548,"column":511,"offset":26856},"end":{"line":548,"column":552,"offset":26897}}}],"position":{"start":{"line":548,"column":3,"offset":26348},"end":{"line":548,"column":552,"offset":26897}}},{"type":"text","value":"\n"}],"position":{"start":{"line":548,"column":3,"offset":26348},"end":{"line":548,"column":552,"offset":26897}}},{"type":"text","value":"\n"}],"position":{"start":{"line":548,"column":1,"offset":26346},"end":{"line":548,"column":552,"offset":26897}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Returns: ","position":{"start":{"line":549,"column":3,"offset":26900},"end":{"line":549,"column":12,"offset":26909}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"raw","value":"<string>","position":{"start":{"line":549,"column":13,"offset":26910},"end":{"line":549,"column":21,"offset":26918}}}],"position":{"start":{"line":549,"column":12,"offset":26909},"end":{"line":549,"column":107,"offset":27004}}}],"position":{"start":{"line":549,"column":1,"offset":26898},"end":{"line":549,"column":107,"offset":27004}}},{"type":"text","value":"\n"}],"position":{"start":{"line":546,"column":1,"offset":26098},"end":{"line":549,"column":107,"offset":27004}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Use the internal ","position":{"start":{"line":551,"column":1,"offset":27006},"end":{"line":551,"column":18,"offset":27023}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":551,"column":18,"offset":27023},"end":{"line":551,"column":29,"offset":27034}}},{"type":"text","value":" machinery to look up the location of a module, but rather than loading the module, just return the resolved filename.","position":{"start":{"line":551,"column":29,"offset":27034},"end":{"line":551,"column":147,"offset":27152}}}],"position":{"start":{"line":551,"column":1,"offset":27006},"end":{"line":551,"column":147,"offset":27152}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If the module can not be found, a ","position":{"start":{"line":553,"column":1,"offset":27154},"end":{"line":553,"column":35,"offset":27188}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"MODULE_NOT_FOUND"}],"position":{"start":{"line":553,"column":35,"offset":27188},"end":{"line":553,"column":53,"offset":27206}}},{"type":"text","value":" error is thrown.","position":{"start":{"line":553,"column":53,"offset":27206},"end":{"line":553,"column":70,"offset":27223}}}],"position":{"start":{"line":553,"column":1,"offset":27154},"end":{"line":553,"column":70,"offset":27223}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h6","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.resolve.paths(request)"}],"position":{"start":{"line":555,"column":8,"offset":27232},"end":{"line":555,"column":40,"offset":27264}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_require_resolve_paths_request"},"children":[{"type":"text","value":"#","position":{"start":{"line":555,"column":41,"offset":27265},"end":{"line":555,"column":42,"offset":27266}}}],"position":{"start":{"line":555,"column":40,"offset":27264},"end":{"line":555,"column":118,"offset":27342}}}],"position":{"start":{"line":555,"column":1,"offset":27225},"end":{"line":555,"column":118,"offset":27342}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v8.9.0","position":{"start":{"line":557,"column":1,"offset":27344},"end":{"line":557,"column":17,"offset":27360}}}],"position":{"start":{"line":557,"column":1,"offset":27344},"end":{"line":557,"column":17,"offset":27360}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"request"}],"position":{"start":{"line":559,"column":3,"offset":27364},"end":{"line":559,"column":12,"offset":27373}}},{"type":"text","value":" ","position":{"start":{"line":559,"column":12,"offset":27373},"end":{"line":559,"column":13,"offset":27374}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"raw","value":"<string>","position":{"start":{"line":559,"column":14,"offset":27375},"end":{"line":559,"column":22,"offset":27383}}}],"position":{"start":{"line":559,"column":13,"offset":27374},"end":{"line":559,"column":108,"offset":27469}}},{"type":"text","value":" The module path whose lookup paths are being retrieved.","position":{"start":{"line":559,"column":108,"offset":27469},"end":{"line":559,"column":164,"offset":27525}}}],"position":{"start":{"line":559,"column":1,"offset":27362},"end":{"line":559,"column":164,"offset":27525}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Returns: ","position":{"start":{"line":560,"column":3,"offset":27528},"end":{"line":560,"column":12,"offset":27537}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"text","value":"<string[]>","position":{"start":{"line":560,"column":13,"offset":27538},"end":{"line":560,"column":23,"offset":27548}}}],"position":{"start":{"line":560,"column":12,"offset":27537},"end":{"line":560,"column":109,"offset":27634}}},{"type":"text","value":" | ","position":{"start":{"line":560,"column":109,"offset":27634},"end":{"line":560,"column":112,"offset":27637}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type"},"children":[{"type":"raw","value":"<null>","position":{"start":{"line":560,"column":113,"offset":27638},"end":{"line":560,"column":119,"offset":27644}}}],"position":{"start":{"line":560,"column":112,"offset":27637},"end":{"line":560,"column":203,"offset":27728}}}],"position":{"start":{"line":560,"column":1,"offset":27526},"end":{"line":560,"column":203,"offset":27728}}},{"type":"text","value":"\n"}],"position":{"start":{"line":559,"column":1,"offset":27362},"end":{"line":560,"column":203,"offset":27728}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Returns an array containing the paths searched during resolution of ","position":{"start":{"line":562,"column":1,"offset":27730},"end":{"line":562,"column":69,"offset":27798}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"request"}],"position":{"start":{"line":562,"column":69,"offset":27798},"end":{"line":562,"column":78,"offset":27807}}},{"type":"text","value":" or ","position":{"start":{"line":562,"column":78,"offset":27807},"end":{"line":562,"column":82,"offset":27811}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"null"}],"position":{"start":{"line":562,"column":82,"offset":27811},"end":{"line":562,"column":88,"offset":27817}}},{"type":"text","value":" if the ","position":{"start":{"line":562,"column":88,"offset":27817},"end":{"line":562,"column":96,"offset":27825}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"request"}],"position":{"start":{"line":562,"column":96,"offset":27825},"end":{"line":562,"column":105,"offset":27834}}},{"type":"text","value":" string references a core module, for example ","position":{"start":{"line":562,"column":105,"offset":27834},"end":{"line":562,"column":151,"offset":27880}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"http"}],"position":{"start":{"line":562,"column":151,"offset":27880},"end":{"line":562,"column":157,"offset":27886}}},{"type":"text","value":" or ","position":{"start":{"line":562,"column":157,"offset":27886},"end":{"line":562,"column":161,"offset":27890}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"fs"}],"position":{"start":{"line":562,"column":161,"offset":27890},"end":{"line":562,"column":165,"offset":27894}}},{"type":"text","value":".","position":{"start":{"line":562,"column":165,"offset":27894},"end":{"line":562,"column":166,"offset":27895}}}],"position":{"start":{"line":562,"column":1,"offset":27730},"end":{"line":562,"column":166,"offset":27895}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":564,"column":5,"offset":27901},"end":{"line":564,"column":9,"offset":27905}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module"}],"position":{"start":{"line":564,"column":9,"offset":27905},"end":{"line":564,"column":17,"offset":27913}}},{"type":"text","value":" object","position":{"start":{"line":564,"column":17,"offset":27913},"end":{"line":564,"column":24,"offset":27920}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_the_module_object"},"children":[{"type":"text","value":"#","position":{"start":{"line":564,"column":25,"offset":27921},"end":{"line":564,"column":26,"offset":27922}}}],"position":{"start":{"line":564,"column":24,"offset":27920},"end":{"line":564,"column":90,"offset":27986}}}],"position":{"start":{"line":564,"column":1,"offset":27897},"end":{"line":564,"column":90,"offset":27986}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.16","position":{"start":{"line":566,"column":1,"offset":27988},"end":{"line":566,"column":18,"offset":28005}}}],"position":{"start":{"line":566,"column":1,"offset":27988},"end":{"line":566,"column":18,"offset":28005}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"},"children":[{"type":"raw","value":"<Object>","position":{"start":{"line":568,"column":4,"offset":28010},"end":{"line":568,"column":12,"offset":28018}}}],"position":{"start":{"line":568,"column":3,"offset":28009},"end":{"line":568,"column":102,"offset":28108}}}],"position":{"start":{"line":568,"column":1,"offset":28007},"end":{"line":568,"column":102,"offset":28108}}},{"type":"text","value":"\n"}],"position":{"start":{"line":568,"column":1,"offset":28007},"end":{"line":568,"column":102,"offset":28108}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In each module, the ","position":{"start":{"line":570,"column":1,"offset":28110},"end":{"line":570,"column":21,"offset":28130}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module"}],"position":{"start":{"line":570,"column":21,"offset":28130},"end":{"line":570,"column":29,"offset":28138}}},{"type":"text","value":" free variable is a reference to the object representing the current module. For convenience, ","position":{"start":{"line":570,"column":29,"offset":28138},"end":{"line":570,"column":123,"offset":28232}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":570,"column":123,"offset":28232},"end":{"line":570,"column":139,"offset":28248}}},{"type":"text","value":" is also accessible via the ","position":{"start":{"line":570,"column":139,"offset":28248},"end":{"line":570,"column":167,"offset":28276}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":570,"column":167,"offset":28276},"end":{"line":570,"column":176,"offset":28285}}},{"type":"text","value":" module-global. ","position":{"start":{"line":570,"column":176,"offset":28285},"end":{"line":570,"column":192,"offset":28301}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module"}],"position":{"start":{"line":570,"column":192,"offset":28301},"end":{"line":570,"column":200,"offset":28309}}},{"type":"text","value":" is not actually a global but rather local to each module.","position":{"start":{"line":570,"column":200,"offset":28309},"end":{"line":570,"column":258,"offset":28367}}}],"position":{"start":{"line":570,"column":1,"offset":28110},"end":{"line":570,"column":258,"offset":28367}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.children"}],"position":{"start":{"line":572,"column":6,"offset":28374},"end":{"line":572,"column":23,"offset":28391}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_children"},"children":[{"type":"text","value":"#","position":{"start":{"line":572,"column":24,"offset":28392},"end":{"line":572,"column":25,"offset":28393}}}],"position":{"start":{"line":572,"column":23,"offset":28391},"end":{"line":572,"column":87,"offset":28455}}}],"position":{"start":{"line":572,"column":1,"offset":28369},"end":{"line":572,"column":87,"offset":28455}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.16","position":{"start":{"line":574,"column":1,"offset":28457},"end":{"line":574,"column":18,"offset":28474}}}],"position":{"start":{"line":574,"column":1,"offset":28457},"end":{"line":574,"column":18,"offset":28474}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_the_module_object"},"children":[{"type":"text","value":"<module[]>","position":{"start":{"line":576,"column":4,"offset":28479},"end":{"line":576,"column":14,"offset":28489}}}],"position":{"start":{"line":576,"column":3,"offset":28478},"end":{"line":576,"column":78,"offset":28553}}}],"position":{"start":{"line":576,"column":1,"offset":28476},"end":{"line":576,"column":78,"offset":28553}}},{"type":"text","value":"\n"}],"position":{"start":{"line":576,"column":1,"offset":28476},"end":{"line":576,"column":78,"offset":28553}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The module objects required for the first time by this one.","position":{"start":{"line":578,"column":1,"offset":28555},"end":{"line":578,"column":60,"offset":28614}}}],"position":{"start":{"line":578,"column":1,"offset":28555},"end":{"line":578,"column":60,"offset":28614}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":580,"column":6,"offset":28621},"end":{"line":580,"column":22,"offset":28637}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_exports"},"children":[{"type":"text","value":"#","position":{"start":{"line":580,"column":23,"offset":28638},"end":{"line":580,"column":24,"offset":28639}}}],"position":{"start":{"line":580,"column":22,"offset":28637},"end":{"line":580,"column":85,"offset":28700}}}],"position":{"start":{"line":580,"column":1,"offset":28616},"end":{"line":580,"column":85,"offset":28700}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.16","position":{"start":{"line":582,"column":1,"offset":28702},"end":{"line":582,"column":18,"offset":28719}}}],"position":{"start":{"line":582,"column":1,"offset":28702},"end":{"line":582,"column":18,"offset":28719}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"},"children":[{"type":"raw","value":"<Object>","position":{"start":{"line":584,"column":4,"offset":28724},"end":{"line":584,"column":12,"offset":28732}}}],"position":{"start":{"line":584,"column":3,"offset":28723},"end":{"line":584,"column":102,"offset":28822}}}],"position":{"start":{"line":584,"column":1,"offset":28721},"end":{"line":584,"column":102,"offset":28822}}},{"type":"text","value":"\n"}],"position":{"start":{"line":584,"column":1,"offset":28721},"end":{"line":584,"column":102,"offset":28822}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":586,"column":1,"offset":28824},"end":{"line":586,"column":5,"offset":28828}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":586,"column":5,"offset":28828},"end":{"line":586,"column":21,"offset":28844}}},{"type":"text","value":" object is created by the ","position":{"start":{"line":586,"column":21,"offset":28844},"end":{"line":586,"column":47,"offset":28870}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Module"}],"position":{"start":{"line":586,"column":47,"offset":28870},"end":{"line":586,"column":55,"offset":28878}}},{"type":"text","value":" system. Sometimes this is not acceptable; many want their module to be an instance of some class. To do this, assign the desired export object to ","position":{"start":{"line":586,"column":55,"offset":28878},"end":{"line":586,"column":202,"offset":29025}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":586,"column":202,"offset":29025},"end":{"line":586,"column":218,"offset":29041}}},{"type":"text","value":". Assigning the desired object to ","position":{"start":{"line":586,"column":218,"offset":29041},"end":{"line":586,"column":252,"offset":29075}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":586,"column":252,"offset":29075},"end":{"line":586,"column":261,"offset":29084}}},{"type":"text","value":" will simply rebind the local ","position":{"start":{"line":586,"column":261,"offset":29084},"end":{"line":586,"column":291,"offset":29114}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":586,"column":291,"offset":29114},"end":{"line":586,"column":300,"offset":29123}}},{"type":"text","value":" variable, which is probably not what is desired.","position":{"start":{"line":586,"column":300,"offset":29123},"end":{"line":586,"column":349,"offset":29172}}}],"position":{"start":{"line":586,"column":1,"offset":28824},"end":{"line":586,"column":349,"offset":29172}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"For example, suppose we were making a module called ","position":{"start":{"line":588,"column":1,"offset":29174},"end":{"line":588,"column":53,"offset":29226}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"a.js"}],"position":{"start":{"line":588,"column":53,"offset":29226},"end":{"line":588,"column":59,"offset":29232}}},{"type":"text","value":":","position":{"start":{"line":588,"column":59,"offset":29232},"end":{"line":588,"column":60,"offset":29233}}}],"position":{"start":{"line":588,"column":1,"offset":29174},"end":{"line":588,"column":60,"offset":29233}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const EventEmitter = require('events');\n\nmodule.exports = new EventEmitter();\n\n// Do some work, and after some time emit\n// the 'ready' event from the module itself.\nsetTimeout(() => {\n  module.exports.emit('ready');\n}, 1000);\n"}],"position":{"start":{"line":590,"column":1,"offset":29235},"end":{"line":600,"column":4,"offset":29469}}}],"position":{"start":{"line":590,"column":1,"offset":29235},"end":{"line":600,"column":4,"offset":29469}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Then in another file we could do:","position":{"start":{"line":602,"column":1,"offset":29471},"end":{"line":602,"column":34,"offset":29504}}}],"position":{"start":{"line":602,"column":1,"offset":29471},"end":{"line":602,"column":34,"offset":29504}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const a = require('./a');\na.on('ready', () => {\n  console.log('module \"a\" is ready');\n});\n"}],"position":{"start":{"line":604,"column":1,"offset":29506},"end":{"line":609,"column":4,"offset":29603}}}],"position":{"start":{"line":604,"column":1,"offset":29506},"end":{"line":609,"column":4,"offset":29603}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Assignment to ","position":{"start":{"line":611,"column":1,"offset":29605},"end":{"line":611,"column":15,"offset":29619}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":611,"column":15,"offset":29619},"end":{"line":611,"column":31,"offset":29635}}},{"type":"text","value":" must be done immediately. It cannot be done in any callbacks. This does not work:","position":{"start":{"line":611,"column":31,"offset":29635},"end":{"line":611,"column":113,"offset":29717}}}],"position":{"start":{"line":611,"column":1,"offset":29605},"end":{"line":611,"column":113,"offset":29717}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"x.js"}],"position":{"start":{"line":613,"column":1,"offset":29719},"end":{"line":613,"column":7,"offset":29725}}},{"type":"text","value":":","position":{"start":{"line":613,"column":7,"offset":29725},"end":{"line":613,"column":8,"offset":29726}}}],"position":{"start":{"line":613,"column":1,"offset":29719},"end":{"line":613,"column":8,"offset":29726}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"setTimeout(() => {\n  module.exports = { a: 'hello' };\n}, 0);\n"}],"position":{"start":{"line":615,"column":1,"offset":29728},"end":{"line":619,"column":4,"offset":29796}}}],"position":{"start":{"line":615,"column":1,"offset":29728},"end":{"line":619,"column":4,"offset":29796}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"y.js"}],"position":{"start":{"line":621,"column":1,"offset":29798},"end":{"line":621,"column":7,"offset":29804}}},{"type":"text","value":":","position":{"start":{"line":621,"column":7,"offset":29804},"end":{"line":621,"column":8,"offset":29805}}}],"position":{"start":{"line":621,"column":1,"offset":29798},"end":{"line":621,"column":8,"offset":29805}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const x = require('./x');\nconsole.log(x.a);\n"}],"position":{"start":{"line":623,"column":1,"offset":29807},"end":{"line":626,"column":4,"offset":29858}}}],"position":{"start":{"line":623,"column":1,"offset":29807},"end":{"line":626,"column":4,"offset":29858}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h5","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":628,"column":7,"offset":29866},"end":{"line":628,"column":16,"offset":29875}}},{"type":"text","value":" shortcut","position":{"start":{"line":628,"column":16,"offset":29875},"end":{"line":628,"column":25,"offset":29884}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_exports_shortcut"},"children":[{"type":"text","value":"#","position":{"start":{"line":628,"column":26,"offset":29885},"end":{"line":628,"column":27,"offset":29886}}}],"position":{"start":{"line":628,"column":25,"offset":29884},"end":{"line":628,"column":90,"offset":29949}}}],"position":{"start":{"line":628,"column":1,"offset":29860},"end":{"line":628,"column":90,"offset":29949}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.16","position":{"start":{"line":630,"column":1,"offset":29951},"end":{"line":630,"column":18,"offset":29968}}}],"position":{"start":{"line":630,"column":1,"offset":29951},"end":{"line":630,"column":18,"offset":29968}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":632,"column":1,"offset":29970},"end":{"line":632,"column":5,"offset":29974}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":632,"column":5,"offset":29974},"end":{"line":632,"column":14,"offset":29983}}},{"type":"text","value":" variable is available within a module's file-level scope, and is assigned the value of ","position":{"start":{"line":632,"column":14,"offset":29983},"end":{"line":632,"column":102,"offset":30071}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":632,"column":102,"offset":30071},"end":{"line":632,"column":118,"offset":30087}}},{"type":"text","value":" before the module is evaluated.","position":{"start":{"line":632,"column":118,"offset":30087},"end":{"line":632,"column":150,"offset":30119}}}],"position":{"start":{"line":632,"column":1,"offset":29970},"end":{"line":632,"column":150,"offset":30119}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"It allows a shortcut, so that ","position":{"start":{"line":634,"column":1,"offset":30121},"end":{"line":634,"column":31,"offset":30151}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports.f = ..."}],"position":{"start":{"line":634,"column":31,"offset":30151},"end":{"line":634,"column":55,"offset":30175}}},{"type":"text","value":" can be written more succinctly as ","position":{"start":{"line":634,"column":55,"offset":30175},"end":{"line":634,"column":90,"offset":30210}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports.f = ..."}],"position":{"start":{"line":634,"column":90,"offset":30210},"end":{"line":634,"column":107,"offset":30227}}},{"type":"text","value":". However, be aware that like any variable, if a new value is assigned to ","position":{"start":{"line":634,"column":107,"offset":30227},"end":{"line":634,"column":181,"offset":30301}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":634,"column":181,"offset":30301},"end":{"line":634,"column":190,"offset":30310}}},{"type":"text","value":", it is no longer bound to ","position":{"start":{"line":634,"column":190,"offset":30310},"end":{"line":634,"column":217,"offset":30337}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":634,"column":217,"offset":30337},"end":{"line":634,"column":233,"offset":30353}}},{"type":"text","value":":","position":{"start":{"line":634,"column":233,"offset":30353},"end":{"line":634,"column":234,"offset":30354}}}],"position":{"start":{"line":634,"column":1,"offset":30121},"end":{"line":634,"column":234,"offset":30354}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports.hello = true; // Exported from require of module\nexports = { hello: false };  // Not exported, only available in the module\n"}],"position":{"start":{"line":636,"column":1,"offset":30356},"end":{"line":639,"column":4,"offset":30502}}}],"position":{"start":{"line":636,"column":1,"offset":30356},"end":{"line":639,"column":4,"offset":30502}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When the ","position":{"start":{"line":641,"column":1,"offset":30504},"end":{"line":641,"column":10,"offset":30513}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":641,"column":10,"offset":30513},"end":{"line":641,"column":26,"offset":30529}}},{"type":"text","value":" property is being completely replaced by a new object, it is common to also reassign ","position":{"start":{"line":641,"column":26,"offset":30529},"end":{"line":641,"column":112,"offset":30615}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":641,"column":112,"offset":30615},"end":{"line":641,"column":121,"offset":30624}}},{"type":"text","value":":","position":{"start":{"line":641,"column":121,"offset":30624},"end":{"line":641,"column":122,"offset":30625}}}],"position":{"start":{"line":641,"column":1,"offset":30504},"end":{"line":641,"column":122,"offset":30625}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports = exports = function Constructor() {\n  // ... etc.\n};\n"}],"position":{"start":{"line":643,"column":1,"offset":30627},"end":{"line":647,"column":4,"offset":30703}}}],"position":{"start":{"line":643,"column":1,"offset":30627},"end":{"line":647,"column":4,"offset":30703}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To illustrate the behavior, imagine this hypothetical implementation of ","position":{"start":{"line":649,"column":1,"offset":30705},"end":{"line":649,"column":73,"offset":30777}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":649,"column":73,"offset":30777},"end":{"line":649,"column":84,"offset":30788}}},{"type":"text","value":", which is quite similar to what is actually done by ","position":{"start":{"line":649,"column":84,"offset":30788},"end":{"line":649,"column":137,"offset":30841}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":649,"column":137,"offset":30841},"end":{"line":649,"column":148,"offset":30852}}},{"type":"text","value":":","position":{"start":{"line":649,"column":148,"offset":30852},"end":{"line":649,"column":149,"offset":30853}}}],"position":{"start":{"line":649,"column":1,"offset":30705},"end":{"line":649,"column":149,"offset":30853}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"function require(/* ... */) {\n  const module = { exports: {} };\n  ((module, exports) => {\n    // Module code here. In this example, define a function.\n    function someFunc() {}\n    exports = someFunc;\n    // At this point, exports is no longer a shortcut to module.exports, and\n    // this module will still export an empty default object.\n    module.exports = someFunc;\n    // At this point, the module will now export someFunc, instead of the\n    // default object.\n  })(module, module.exports);\n  return module.exports;\n}\n"}],"position":{"start":{"line":651,"column":1,"offset":30855},"end":{"line":666,"column":4,"offset":31388}}}],"position":{"start":{"line":651,"column":1,"offset":30855},"end":{"line":666,"column":4,"offset":31388}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.filename"}],"position":{"start":{"line":668,"column":6,"offset":31395},"end":{"line":668,"column":23,"offset":31412}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_filename"},"children":[{"type":"text","value":"#","position":{"start":{"line":668,"column":24,"offset":31413},"end":{"line":668,"column":25,"offset":31414}}}],"position":{"start":{"line":668,"column":23,"offset":31412},"end":{"line":668,"column":87,"offset":31476}}}],"position":{"start":{"line":668,"column":1,"offset":31390},"end":{"line":668,"column":87,"offset":31476}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.16","position":{"start":{"line":670,"column":1,"offset":31478},"end":{"line":670,"column":18,"offset":31495}}}],"position":{"start":{"line":670,"column":1,"offset":31478},"end":{"line":670,"column":18,"offset":31495}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"raw","value":"<string>","position":{"start":{"line":672,"column":4,"offset":31500},"end":{"line":672,"column":12,"offset":31508}}}],"position":{"start":{"line":672,"column":3,"offset":31499},"end":{"line":672,"column":98,"offset":31594}}}],"position":{"start":{"line":672,"column":1,"offset":31497},"end":{"line":672,"column":98,"offset":31594}}},{"type":"text","value":"\n"}],"position":{"start":{"line":672,"column":1,"offset":31497},"end":{"line":672,"column":98,"offset":31594}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The fully resolved filename of the module.","position":{"start":{"line":674,"column":1,"offset":31596},"end":{"line":674,"column":43,"offset":31638}}}],"position":{"start":{"line":674,"column":1,"offset":31596},"end":{"line":674,"column":43,"offset":31638}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.id"}],"position":{"start":{"line":676,"column":6,"offset":31645},"end":{"line":676,"column":17,"offset":31656}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_id"},"children":[{"type":"text","value":"#","position":{"start":{"line":676,"column":18,"offset":31657},"end":{"line":676,"column":19,"offset":31658}}}],"position":{"start":{"line":676,"column":17,"offset":31656},"end":{"line":676,"column":75,"offset":31714}}}],"position":{"start":{"line":676,"column":1,"offset":31640},"end":{"line":676,"column":75,"offset":31714}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.16","position":{"start":{"line":678,"column":1,"offset":31716},"end":{"line":678,"column":18,"offset":31733}}}],"position":{"start":{"line":678,"column":1,"offset":31716},"end":{"line":678,"column":18,"offset":31733}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"raw","value":"<string>","position":{"start":{"line":680,"column":4,"offset":31738},"end":{"line":680,"column":12,"offset":31746}}}],"position":{"start":{"line":680,"column":3,"offset":31737},"end":{"line":680,"column":98,"offset":31832}}}],"position":{"start":{"line":680,"column":1,"offset":31735},"end":{"line":680,"column":98,"offset":31832}}},{"type":"text","value":"\n"}],"position":{"start":{"line":680,"column":1,"offset":31735},"end":{"line":680,"column":98,"offset":31832}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The identifier for the module. Typically this is the fully resolved filename.","position":{"start":{"line":682,"column":1,"offset":31834},"end":{"line":682,"column":78,"offset":31911}}}],"position":{"start":{"line":682,"column":1,"offset":31834},"end":{"line":682,"column":78,"offset":31911}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.isPreloading"}],"position":{"start":{"line":684,"column":6,"offset":31918},"end":{"line":684,"column":27,"offset":31939}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_ispreloading"},"children":[{"type":"text","value":"#","position":{"start":{"line":684,"column":28,"offset":31940},"end":{"line":684,"column":29,"offset":31941}}}],"position":{"start":{"line":684,"column":27,"offset":31939},"end":{"line":684,"column":95,"offset":32007}}}],"position":{"start":{"line":684,"column":1,"offset":31913},"end":{"line":684,"column":95,"offset":32007}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v15.4.0","position":{"start":{"line":686,"column":1,"offset":32009},"end":{"line":686,"column":18,"offset":32026}}}],"position":{"start":{"line":686,"column":1,"offset":32009},"end":{"line":686,"column":18,"offset":32026}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Type: ","position":{"start":{"line":688,"column":3,"offset":32030},"end":{"line":688,"column":9,"offset":32036}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type"},"children":[{"type":"raw","value":"<boolean>","position":{"start":{"line":688,"column":10,"offset":32037},"end":{"line":688,"column":19,"offset":32046}}}],"position":{"start":{"line":688,"column":9,"offset":32036},"end":{"line":688,"column":106,"offset":32133}}},{"type":"text","value":" ","position":{"start":{"line":688,"column":106,"offset":32133},"end":{"line":688,"column":107,"offset":32134}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"true"}],"position":{"start":{"line":688,"column":107,"offset":32134},"end":{"line":688,"column":113,"offset":32140}}},{"type":"text","value":" if the module is running during the Node.js preload phase.","position":{"start":{"line":688,"column":113,"offset":32140},"end":{"line":688,"column":172,"offset":32199}}}],"position":{"start":{"line":688,"column":1,"offset":32028},"end":{"line":688,"column":172,"offset":32199}}},{"type":"text","value":"\n"}],"position":{"start":{"line":688,"column":1,"offset":32028},"end":{"line":688,"column":172,"offset":32199}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.loaded"}],"position":{"start":{"line":690,"column":6,"offset":32206},"end":{"line":690,"column":21,"offset":32221}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_loaded"},"children":[{"type":"text","value":"#","position":{"start":{"line":690,"column":22,"offset":32222},"end":{"line":690,"column":23,"offset":32223}}}],"position":{"start":{"line":690,"column":21,"offset":32221},"end":{"line":690,"column":83,"offset":32283}}}],"position":{"start":{"line":690,"column":1,"offset":32201},"end":{"line":690,"column":83,"offset":32283}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.16","position":{"start":{"line":692,"column":1,"offset":32285},"end":{"line":692,"column":18,"offset":32302}}}],"position":{"start":{"line":692,"column":1,"offset":32285},"end":{"line":692,"column":18,"offset":32302}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type"},"children":[{"type":"raw","value":"<boolean>","position":{"start":{"line":694,"column":4,"offset":32307},"end":{"line":694,"column":13,"offset":32316}}}],"position":{"start":{"line":694,"column":3,"offset":32306},"end":{"line":694,"column":100,"offset":32403}}}],"position":{"start":{"line":694,"column":1,"offset":32304},"end":{"line":694,"column":100,"offset":32403}}},{"type":"text","value":"\n"}],"position":{"start":{"line":694,"column":1,"offset":32304},"end":{"line":694,"column":100,"offset":32403}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Whether or not the module is done loading, or is in the process of loading.","position":{"start":{"line":696,"column":1,"offset":32405},"end":{"line":696,"column":76,"offset":32480}}}],"position":{"start":{"line":696,"column":1,"offset":32405},"end":{"line":696,"column":76,"offset":32480}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.parent"}],"position":{"start":{"line":698,"column":6,"offset":32487},"end":{"line":698,"column":21,"offset":32502}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_parent"},"children":[{"type":"text","value":"#","position":{"start":{"line":698,"column":22,"offset":32503},"end":{"line":698,"column":23,"offset":32504}}}],"position":{"start":{"line":698,"column":21,"offset":32502},"end":{"line":698,"column":83,"offset":32564}}}],"position":{"start":{"line":698,"column":1,"offset":32482},"end":{"line":698,"column":83,"offset":32564}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.16Deprecated since: v14.6.0, v12.19.0","position":{"start":{"line":700,"column":1,"offset":32566},"end":{"line":700,"column":53,"offset":32618}}}],"position":{"start":{"line":700,"column":1,"offset":32566},"end":{"line":700,"column":53,"offset":32618}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/documentation.html#documentation_stability_index"},"children":[{"type":"text","value":"Stability: 0","position":{"start":{"line":702,"column":2,"offset":32621},"end":{"line":702,"column":14,"offset":32633}}}],"position":{"start":{"line":702,"column":1,"offset":32620},"end":{"line":702,"column":88,"offset":32707}}},{"type":"text","value":" - Deprecated: Please use ","position":{"start":{"line":702,"column":88,"offset":32707},"end":{"line":702,"column":114,"offset":32733}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_require_main"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.main"}],"position":{"start":{"line":702,"column":115,"offset":32734},"end":{"line":702,"column":129,"offset":32748}}}],"position":{"start":{"line":702,"column":114,"offset":32733},"end":{"line":702,"column":188,"offset":32807}}},{"type":"text","value":" and ","position":{"start":{"line":702,"column":188,"offset":32807},"end":{"line":702,"column":193,"offset":32812}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_children"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.children"}],"position":{"start":{"line":702,"column":194,"offset":32813},"end":{"line":702,"column":211,"offset":32830}}}],"position":{"start":{"line":702,"column":193,"offset":32812},"end":{"line":702,"column":273,"offset":32892}}},{"type":"text","value":" instead.","position":{"start":{"line":702,"column":273,"offset":32892},"end":{"line":702,"column":282,"offset":32901}}}],"position":{"start":{"line":702,"column":1,"offset":32620},"end":{"line":702,"column":282,"offset":32901}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_the_module_object"},"children":[{"type":"raw","value":"<module>","position":{"start":{"line":704,"column":4,"offset":32906},"end":{"line":704,"column":12,"offset":32914}}}],"position":{"start":{"line":704,"column":3,"offset":32905},"end":{"line":704,"column":76,"offset":32978}}},{"type":"text","value":" | ","position":{"start":{"line":704,"column":76,"offset":32978},"end":{"line":704,"column":79,"offset":32981}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type"},"children":[{"type":"raw","value":"<null>","position":{"start":{"line":704,"column":80,"offset":32982},"end":{"line":704,"column":86,"offset":32988}}}],"position":{"start":{"line":704,"column":79,"offset":32981},"end":{"line":704,"column":170,"offset":33072}}},{"type":"text","value":" | ","position":{"start":{"line":704,"column":170,"offset":33072},"end":{"line":704,"column":173,"offset":33075}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Undefined_type"},"children":[{"type":"raw","value":"<undefined>","position":{"start":{"line":704,"column":174,"offset":33076},"end":{"line":704,"column":185,"offset":33087}}}],"position":{"start":{"line":704,"column":173,"offset":33075},"end":{"line":704,"column":274,"offset":33176}}}],"position":{"start":{"line":704,"column":1,"offset":32903},"end":{"line":704,"column":274,"offset":33176}}},{"type":"text","value":"\n"}],"position":{"start":{"line":704,"column":1,"offset":32903},"end":{"line":704,"column":274,"offset":33176}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The module that first required this one, or ","position":{"start":{"line":706,"column":1,"offset":33178},"end":{"line":706,"column":45,"offset":33222}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"null"}],"position":{"start":{"line":706,"column":45,"offset":33222},"end":{"line":706,"column":51,"offset":33228}}},{"type":"text","value":" if the current module is the entry point of the current process, or ","position":{"start":{"line":706,"column":51,"offset":33228},"end":{"line":706,"column":120,"offset":33297}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"undefined"}],"position":{"start":{"line":706,"column":120,"offset":33297},"end":{"line":706,"column":131,"offset":33308}}},{"type":"text","value":" if the module was loaded by something that is not a CommonJS module (E.G.: REPL or ","position":{"start":{"line":706,"column":131,"offset":33308},"end":{"line":706,"column":215,"offset":33392}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"import"}],"position":{"start":{"line":706,"column":215,"offset":33392},"end":{"line":706,"column":223,"offset":33400}}},{"type":"text","value":").","position":{"start":{"line":706,"column":223,"offset":33400},"end":{"line":706,"column":225,"offset":33402}}}],"position":{"start":{"line":706,"column":1,"offset":33178},"end":{"line":706,"column":225,"offset":33402}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.path"}],"position":{"start":{"line":708,"column":6,"offset":33409},"end":{"line":708,"column":19,"offset":33422}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_path"},"children":[{"type":"text","value":"#","position":{"start":{"line":708,"column":20,"offset":33423},"end":{"line":708,"column":21,"offset":33424}}}],"position":{"start":{"line":708,"column":19,"offset":33422},"end":{"line":708,"column":79,"offset":33482}}}],"position":{"start":{"line":708,"column":1,"offset":33404},"end":{"line":708,"column":79,"offset":33482}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v11.14.0","position":{"start":{"line":710,"column":1,"offset":33484},"end":{"line":710,"column":19,"offset":33502}}}],"position":{"start":{"line":710,"column":1,"offset":33484},"end":{"line":710,"column":19,"offset":33502}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"raw","value":"<string>","position":{"start":{"line":712,"column":4,"offset":33507},"end":{"line":712,"column":12,"offset":33515}}}],"position":{"start":{"line":712,"column":3,"offset":33506},"end":{"line":712,"column":98,"offset":33601}}}],"position":{"start":{"line":712,"column":1,"offset":33504},"end":{"line":712,"column":98,"offset":33601}}},{"type":"text","value":"\n"}],"position":{"start":{"line":712,"column":1,"offset":33504},"end":{"line":712,"column":98,"offset":33601}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The directory name of the module. This is usually the same as the ","position":{"start":{"line":714,"column":1,"offset":33603},"end":{"line":714,"column":67,"offset":33669}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/path.html#path_path_dirname_path"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"path.dirname()"}],"position":{"start":{"line":714,"column":68,"offset":33670},"end":{"line":714,"column":84,"offset":33686}}}],"position":{"start":{"line":714,"column":67,"offset":33669},"end":{"line":714,"column":142,"offset":33744}}},{"type":"text","value":" of the ","position":{"start":{"line":714,"column":142,"offset":33744},"end":{"line":714,"column":150,"offset":33752}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_id"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.id"}],"position":{"start":{"line":714,"column":151,"offset":33753},"end":{"line":714,"column":162,"offset":33764}}}],"position":{"start":{"line":714,"column":150,"offset":33752},"end":{"line":714,"column":218,"offset":33820}}},{"type":"text","value":".","position":{"start":{"line":714,"column":218,"offset":33820},"end":{"line":714,"column":219,"offset":33821}}}],"position":{"start":{"line":714,"column":1,"offset":33603},"end":{"line":714,"column":219,"offset":33821}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.paths"}],"position":{"start":{"line":716,"column":6,"offset":33828},"end":{"line":716,"column":20,"offset":33842}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_paths"},"children":[{"type":"text","value":"#","position":{"start":{"line":716,"column":21,"offset":33843},"end":{"line":716,"column":22,"offset":33844}}}],"position":{"start":{"line":716,"column":20,"offset":33842},"end":{"line":716,"column":81,"offset":33903}}}],"position":{"start":{"line":716,"column":1,"offset":33823},"end":{"line":716,"column":81,"offset":33903}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.4.0","position":{"start":{"line":718,"column":1,"offset":33905},"end":{"line":718,"column":17,"offset":33921}}}],"position":{"start":{"line":718,"column":1,"offset":33905},"end":{"line":718,"column":17,"offset":33921}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"text","value":"<string[]>","position":{"start":{"line":720,"column":4,"offset":33926},"end":{"line":720,"column":14,"offset":33936}}}],"position":{"start":{"line":720,"column":3,"offset":33925},"end":{"line":720,"column":100,"offset":34022}}}],"position":{"start":{"line":720,"column":1,"offset":33923},"end":{"line":720,"column":100,"offset":34022}}},{"type":"text","value":"\n"}],"position":{"start":{"line":720,"column":1,"offset":33923},"end":{"line":720,"column":100,"offset":34022}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The search paths for the module.","position":{"start":{"line":722,"column":1,"offset":34024},"end":{"line":722,"column":33,"offset":34056}}}],"position":{"start":{"line":722,"column":1,"offset":34024},"end":{"line":722,"column":33,"offset":34056}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.require(id)"}],"position":{"start":{"line":724,"column":6,"offset":34063},"end":{"line":724,"column":26,"offset":34083}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_require_id"},"children":[{"type":"text","value":"#","position":{"start":{"line":724,"column":27,"offset":34084},"end":{"line":724,"column":28,"offset":34085}}}],"position":{"start":{"line":724,"column":26,"offset":34083},"end":{"line":724,"column":92,"offset":34149}}}],"position":{"start":{"line":724,"column":1,"offset":34058},"end":{"line":724,"column":92,"offset":34149}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.5.1","position":{"start":{"line":726,"column":1,"offset":34151},"end":{"line":726,"column":17,"offset":34167}}}],"position":{"start":{"line":726,"column":1,"offset":34151},"end":{"line":726,"column":17,"offset":34167}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"id"}],"position":{"start":{"line":728,"column":3,"offset":34171},"end":{"line":728,"column":7,"offset":34175}}},{"type":"text","value":" ","position":{"start":{"line":728,"column":7,"offset":34175},"end":{"line":728,"column":8,"offset":34176}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"raw","value":"<string>","position":{"start":{"line":728,"column":9,"offset":34177},"end":{"line":728,"column":17,"offset":34185}}}],"position":{"start":{"line":728,"column":8,"offset":34176},"end":{"line":728,"column":103,"offset":34271}}}],"position":{"start":{"line":728,"column":1,"offset":34169},"end":{"line":728,"column":103,"offset":34271}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Returns: ","position":{"start":{"line":729,"column":3,"offset":34274},"end":{"line":729,"column":12,"offset":34283}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Data_types"},"children":[{"type":"raw","value":"<any>","position":{"start":{"line":729,"column":13,"offset":34284},"end":{"line":729,"column":18,"offset":34289}}}],"position":{"start":{"line":729,"column":12,"offset":34283},"end":{"line":729,"column":103,"offset":34374}}},{"type":"text","value":" exported module content","position":{"start":{"line":729,"column":103,"offset":34374},"end":{"line":729,"column":127,"offset":34398}}}],"position":{"start":{"line":729,"column":1,"offset":34272},"end":{"line":729,"column":127,"offset":34398}}},{"type":"text","value":"\n"}],"position":{"start":{"line":728,"column":1,"offset":34169},"end":{"line":729,"column":127,"offset":34398}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":731,"column":1,"offset":34400},"end":{"line":731,"column":5,"offset":34404}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.require()"}],"position":{"start":{"line":731,"column":5,"offset":34404},"end":{"line":731,"column":23,"offset":34422}}},{"type":"text","value":" method provides a way to load a module as if ","position":{"start":{"line":731,"column":23,"offset":34422},"end":{"line":731,"column":69,"offset":34468}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":731,"column":69,"offset":34468},"end":{"line":731,"column":80,"offset":34479}}},{"type":"text","value":" was called from the original module.","position":{"start":{"line":731,"column":80,"offset":34479},"end":{"line":731,"column":117,"offset":34516}}}],"position":{"start":{"line":731,"column":1,"offset":34400},"end":{"line":731,"column":117,"offset":34516}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In order to do this, it is necessary to get a reference to the ","position":{"start":{"line":733,"column":1,"offset":34518},"end":{"line":733,"column":64,"offset":34581}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module"}],"position":{"start":{"line":733,"column":64,"offset":34581},"end":{"line":733,"column":72,"offset":34589}}},{"type":"text","value":" object. Since ","position":{"start":{"line":733,"column":72,"offset":34589},"end":{"line":733,"column":87,"offset":34604}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":733,"column":87,"offset":34604},"end":{"line":733,"column":98,"offset":34615}}},{"type":"text","value":" returns the ","position":{"start":{"line":733,"column":98,"offset":34615},"end":{"line":733,"column":111,"offset":34628}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":733,"column":111,"offset":34628},"end":{"line":733,"column":127,"offset":34644}}},{"type":"text","value":", and the ","position":{"start":{"line":733,"column":127,"offset":34644},"end":{"line":733,"column":137,"offset":34654}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module"}],"position":{"start":{"line":733,"column":137,"offset":34654},"end":{"line":733,"column":145,"offset":34662}}},{"type":"text","value":" is typically ","position":{"start":{"line":733,"column":145,"offset":34662},"end":{"line":733,"column":159,"offset":34676}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"only","position":{"start":{"line":733,"column":160,"offset":34677},"end":{"line":733,"column":164,"offset":34681}}}],"position":{"start":{"line":733,"column":159,"offset":34676},"end":{"line":733,"column":165,"offset":34682}}},{"type":"text","value":" available within a specific module's code, it must be explicitly exported in order to be used.","position":{"start":{"line":733,"column":165,"offset":34682},"end":{"line":733,"column":260,"offset":34777}}}],"position":{"start":{"line":733,"column":1,"offset":34518},"end":{"line":733,"column":260,"offset":34777}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":735,"column":5,"offset":34783},"end":{"line":735,"column":9,"offset":34787}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Module"}],"position":{"start":{"line":735,"column":9,"offset":34787},"end":{"line":735,"column":17,"offset":34795}}},{"type":"text","value":" object","position":{"start":{"line":735,"column":17,"offset":34795},"end":{"line":735,"column":24,"offset":34802}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_the_module_object_1"},"children":[{"type":"text","value":"#","position":{"start":{"line":735,"column":25,"offset":34803},"end":{"line":735,"column":26,"offset":34804}}}],"position":{"start":{"line":735,"column":24,"offset":34802},"end":{"line":735,"column":92,"offset":34870}}}],"position":{"start":{"line":735,"column":1,"offset":34779},"end":{"line":735,"column":92,"offset":34870}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This section was moved to ","position":{"start":{"line":737,"column":1,"offset":34872},"end":{"line":737,"column":27,"offset":34898}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/module.html#module_the_module_object"},"children":[{"type":"text","value":"Modules: ","position":{"start":{"line":737,"column":28,"offset":34899},"end":{"line":737,"column":37,"offset":34908}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module"}],"position":{"start":{"line":737,"column":37,"offset":34908},"end":{"line":737,"column":45,"offset":34916}}},{"type":"text","value":" core module","position":{"start":{"line":737,"column":45,"offset":34916},"end":{"line":737,"column":57,"offset":34928}}}],"position":{"start":{"line":737,"column":27,"offset":34898},"end":{"line":737,"column":119,"offset":34990}}},{"type":"text","value":".","position":{"start":{"line":737,"column":119,"offset":34990},"end":{"line":737,"column":120,"offset":34991}}}],"position":{"start":{"line":737,"column":1,"offset":34872},"end":{"line":737,"column":120,"offset":34991}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/module.html#module_module_builtinmodules"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.builtinModules"}],"position":{"start":{"line":739,"column":4,"offset":34996},"end":{"line":739,"column":27,"offset":35019}}}],"position":{"start":{"line":739,"column":3,"offset":34995},"end":{"line":739,"column":93,"offset":35085}}}],"position":{"start":{"line":739,"column":1,"offset":34993},"end":{"line":739,"column":93,"offset":35085}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/module.html#module_module_createrequire_filename"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.createRequire(filename)"}],"position":{"start":{"line":740,"column":4,"offset":35089},"end":{"line":740,"column":36,"offset":35121}}}],"position":{"start":{"line":740,"column":3,"offset":35088},"end":{"line":740,"column":110,"offset":35195}}}],"position":{"start":{"line":740,"column":1,"offset":35086},"end":{"line":740,"column":110,"offset":35195}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/module.html#module_module_syncbuiltinesmexports"},"children":[],"position":{"start":{"line":741,"column":3,"offset":35198},"end":{"line":741,"column":77,"offset":35272}}}],"position":{"start":{"line":741,"column":1,"offset":35196},"end":{"line":741,"column":77,"offset":35272}}},{"type":"text","value":"\n"}],"position":{"start":{"line":739,"column":1,"offset":34993},"end":{"line":741,"column":77,"offset":35272}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":742,"column":1,"offset":35273}}}}