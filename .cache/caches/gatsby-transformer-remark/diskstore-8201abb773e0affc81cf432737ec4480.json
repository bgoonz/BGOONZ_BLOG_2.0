{"expireTime":9007200908525411000,"key":"transformer-remark-markdown-ast-2686f12aa36e9603630333defd8d4037--","val":{"type":"root","children":[{"type":"heading","depth":1,"children":[{"type":"text","value":"What is THIS","position":{"start":{"line":3,"column":3,"offset":4},"end":{"line":3,"column":15,"offset":16},"indent":[]}}],"position":{"start":{"line":3,"column":1,"offset":2},"end":{"line":3,"column":15,"offset":16},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"What is ","position":{"start":{"line":5,"column":3,"offset":20},"end":{"line":5,"column":11,"offset":28},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":5,"column":11,"offset":28},"end":{"line":5,"column":17,"offset":34},"indent":[]}},{"type":"text","value":"?","position":{"start":{"line":5,"column":17,"offset":34},"end":{"line":5,"column":18,"offset":35},"indent":[]}}],"position":{"start":{"line":5,"column":1,"offset":18},"end":{"line":5,"column":18,"offset":35},"indent":[]}},{"type":"paragraph","children":[{"type":"linkReference","identifier":"mdn","label":"mdn","referenceType":"full","children":[{"type":"strong","children":[{"type":"inlineCode","value":"this","position":{"start":{"line":7,"column":4,"offset":40},"end":{"line":7,"column":10,"offset":46},"indent":[]}}],"position":{"start":{"line":7,"column":2,"offset":38},"end":{"line":7,"column":12,"offset":48},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":37},"end":{"line":7,"column":18,"offset":54},"indent":[]}},{"type":"text","value":" is a special \"variable\" which implicitly exists in every\nfunction. It can be thought of being similar to Java's ","position":{"start":{"line":7,"column":18,"offset":54},"end":{"line":8,"column":56,"offset":167},"indent":[1]}},{"type":"inlineCode","value":"this","position":{"start":{"line":8,"column":56,"offset":167},"end":{"line":8,"column":62,"offset":173},"indent":[]}},{"type":"text","value":" and Python's\n","position":{"start":{"line":8,"column":62,"offset":173},"end":{"line":9,"column":1,"offset":187},"indent":[1]}},{"type":"inlineCode","value":"self","position":{"start":{"line":9,"column":1,"offset":187},"end":{"line":9,"column":7,"offset":193},"indent":[]}},{"type":"text","value":", but it's much more flexible than that.","position":{"start":{"line":9,"column":7,"offset":193},"end":{"line":9,"column":47,"offset":233},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":37},"end":{"line":9,"column":47,"offset":233},"indent":[1,1]}},{"type":"html","value":"<div class=\"callout warning\">","position":{"start":{"line":11,"column":1,"offset":235},"end":{"line":11,"column":30,"offset":264},"indent":[]}},{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Important","position":{"start":{"line":13,"column":3,"offset":268},"end":{"line":13,"column":12,"offset":277},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":266},"end":{"line":13,"column":14,"offset":279},"indent":[]}},{"type":"text","value":": The value of ","position":{"start":{"line":13,"column":14,"offset":279},"end":{"line":13,"column":29,"offset":294},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":13,"column":29,"offset":294},"end":{"line":13,"column":35,"offset":300},"indent":[]}},{"type":"text","value":" is determined when the\nfunction is ","position":{"start":{"line":13,"column":35,"offset":300},"end":{"line":14,"column":13,"offset":336},"indent":[1]}},{"type":"strong","children":[{"type":"text","value":"called","position":{"start":{"line":14,"column":15,"offset":338},"end":{"line":14,"column":21,"offset":344},"indent":[]}}],"position":{"start":{"line":14,"column":13,"offset":336},"end":{"line":14,"column":23,"offset":346},"indent":[]}},{"type":"text","value":", not when the function is\n","position":{"start":{"line":14,"column":23,"offset":346},"end":{"line":15,"column":1,"offset":373},"indent":[1]}},{"type":"emphasis","children":[{"type":"text","value":"defined","position":{"start":{"line":15,"column":2,"offset":374},"end":{"line":15,"column":9,"offset":381},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":373},"end":{"line":15,"column":10,"offset":382},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":15,"column":10,"offset":382},"end":{"line":15,"column":11,"offset":383},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":266},"end":{"line":15,"column":11,"offset":383},"indent":[1,1]}},{"type":"html","value":"</div>","position":{"start":{"line":17,"column":1,"offset":385},"end":{"line":17,"column":7,"offset":391},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Given the following function:","position":{"start":{"line":19,"column":1,"offset":393},"end":{"line":19,"column":30,"offset":422},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":393},"end":{"line":19,"column":30,"offset":422},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":21,"column":1,"offset":424},"end":{"line":21,"column":4,"offset":427},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"function foo() {\n    console.log(this);\n}","position":{"start":{"line":24,"column":1,"offset":430},"end":{"line":30,"column":4,"offset":483},"indent":[1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"these would be the values of ","position":{"start":{"line":32,"column":1,"offset":485},"end":{"line":32,"column":30,"offset":514},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":32,"column":30,"offset":514},"end":{"line":32,"column":36,"offset":520},"indent":[]}},{"type":"text","value":" if called in those specific ways:","position":{"start":{"line":32,"column":36,"offset":520},"end":{"line":32,"column":70,"offset":554},"indent":[]}}],"position":{"start":{"line":32,"column":1,"offset":485},"end":{"line":32,"column":70,"offset":554},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"// \"normal call\": global object / window in browsers\n//                undefined in strict mode\nfoo();\n\n// as object \"method\": to the object\nvar obj = { method: foo };\nobj.method();\n\n// via .call / .apply: To the value passed as first argument\nfoo.call(bar);","position":{"start":{"line":34,"column":1,"offset":556},"end":{"line":45,"column":4,"offset":824},"indent":[1,1,1,1,1,1,1,1,1,1,1]}},{"type":"definition","identifier":"mdn","label":"mdn","title":null,"url":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this","position":{"start":{"line":47,"column":1,"offset":826},"end":{"line":47,"column":88,"offset":913},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"What is the this keyword","position":{"start":{"line":49,"column":4,"offset":918},"end":{"line":49,"column":28,"offset":942},"indent":[]}}],"position":{"start":{"line":49,"column":1,"offset":915},"end":{"line":49,"column":28,"offset":942},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"In general, the ","position":{"start":{"line":51,"column":1,"offset":944},"end":{"line":51,"column":17,"offset":960},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":51,"column":17,"offset":960},"end":{"line":51,"column":23,"offset":966},"indent":[]}},{"type":"text","value":" references the object of which the function is a property. In other words, the ","position":{"start":{"line":51,"column":23,"offset":966},"end":{"line":51,"column":103,"offset":1046},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":51,"column":103,"offset":1046},"end":{"line":51,"column":109,"offset":1052},"indent":[]}},{"type":"text","value":" references the object that is currently calling the function.","position":{"start":{"line":51,"column":109,"offset":1052},"end":{"line":51,"column":171,"offset":1114},"indent":[]}}],"position":{"start":{"line":51,"column":1,"offset":944},"end":{"line":51,"column":171,"offset":1114},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Suppose you have an object called ","position":{"start":{"line":53,"column":1,"offset":1116},"end":{"line":53,"column":35,"offset":1150},"indent":[]}},{"type":"inlineCode","value":"counter","position":{"start":{"line":53,"column":35,"offset":1150},"end":{"line":53,"column":44,"offset":1159},"indent":[]}},{"type":"text","value":" that has a method ","position":{"start":{"line":53,"column":44,"offset":1159},"end":{"line":53,"column":63,"offset":1178},"indent":[]}},{"type":"inlineCode","value":"next()","position":{"start":{"line":53,"column":63,"offset":1178},"end":{"line":53,"column":71,"offset":1186},"indent":[]}},{"type":"text","value":". When you call the ","position":{"start":{"line":53,"column":71,"offset":1186},"end":{"line":53,"column":91,"offset":1206},"indent":[]}},{"type":"inlineCode","value":"next()","position":{"start":{"line":53,"column":91,"offset":1206},"end":{"line":53,"column":99,"offset":1214},"indent":[]}},{"type":"text","value":" method, you can access the ","position":{"start":{"line":53,"column":99,"offset":1214},"end":{"line":53,"column":127,"offset":1242},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":53,"column":127,"offset":1242},"end":{"line":53,"column":133,"offset":1248},"indent":[]}},{"type":"text","value":" object.","position":{"start":{"line":53,"column":133,"offset":1248},"end":{"line":53,"column":141,"offset":1256},"indent":[]}}],"position":{"start":{"line":53,"column":1,"offset":1116},"end":{"line":53,"column":141,"offset":1256},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"let counter = {\n  count: 0,\n  next: function () {\n    return ++this.count;\n  },\n};\n\ncounter.next();Code language: JavaScript (javascript)","position":{"start":{"line":55,"column":1,"offset":1258},"end":{"line":64,"column":4,"offset":1405},"indent":[1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Inside the ","position":{"start":{"line":66,"column":1,"offset":1407},"end":{"line":66,"column":12,"offset":1418},"indent":[]}},{"type":"inlineCode","value":"next()","position":{"start":{"line":66,"column":12,"offset":1418},"end":{"line":66,"column":20,"offset":1426},"indent":[]}},{"type":"text","value":" function, the ","position":{"start":{"line":66,"column":20,"offset":1426},"end":{"line":66,"column":35,"offset":1441},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":66,"column":35,"offset":1441},"end":{"line":66,"column":41,"offset":1447},"indent":[]}},{"type":"text","value":" references the ","position":{"start":{"line":66,"column":41,"offset":1447},"end":{"line":66,"column":57,"offset":1463},"indent":[]}},{"type":"inlineCode","value":"counter","position":{"start":{"line":66,"column":57,"offset":1463},"end":{"line":66,"column":66,"offset":1472},"indent":[]}},{"type":"text","value":" object. See the following method call:","position":{"start":{"line":66,"column":66,"offset":1472},"end":{"line":66,"column":105,"offset":1511},"indent":[]}}],"position":{"start":{"line":66,"column":1,"offset":1407},"end":{"line":66,"column":105,"offset":1511},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"counter.next();Code language: CSS (css)","position":{"start":{"line":68,"column":1,"offset":1513},"end":{"line":70,"column":4,"offset":1562},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The ","position":{"start":{"line":72,"column":1,"offset":1564},"end":{"line":72,"column":5,"offset":1568},"indent":[]}},{"type":"inlineCode","value":"next()","position":{"start":{"line":72,"column":5,"offset":1568},"end":{"line":72,"column":13,"offset":1576},"indent":[]}},{"type":"text","value":" is a function that is the property of the ","position":{"start":{"line":72,"column":13,"offset":1576},"end":{"line":72,"column":56,"offset":1619},"indent":[]}},{"type":"inlineCode","value":"counter","position":{"start":{"line":72,"column":56,"offset":1619},"end":{"line":72,"column":65,"offset":1628},"indent":[]}},{"type":"text","value":" object. Therefore, inside the ","position":{"start":{"line":72,"column":65,"offset":1628},"end":{"line":72,"column":96,"offset":1659},"indent":[]}},{"type":"inlineCode","value":"next()","position":{"start":{"line":72,"column":96,"offset":1659},"end":{"line":72,"column":104,"offset":1667},"indent":[]}},{"type":"text","value":" function, the ","position":{"start":{"line":72,"column":104,"offset":1667},"end":{"line":72,"column":119,"offset":1682},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":72,"column":119,"offset":1682},"end":{"line":72,"column":125,"offset":1688},"indent":[]}},{"type":"text","value":" references the ","position":{"start":{"line":72,"column":125,"offset":1688},"end":{"line":72,"column":141,"offset":1704},"indent":[]}},{"type":"inlineCode","value":"counter","position":{"start":{"line":72,"column":141,"offset":1704},"end":{"line":72,"column":150,"offset":1713},"indent":[]}},{"type":"text","value":" object.","position":{"start":{"line":72,"column":150,"offset":1713},"end":{"line":72,"column":158,"offset":1721},"indent":[]}}],"position":{"start":{"line":72,"column":1,"offset":1564},"end":{"line":72,"column":158,"offset":1721},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Global context","position":{"start":{"line":74,"column":4,"offset":1726},"end":{"line":74,"column":18,"offset":1740},"indent":[]}}],"position":{"start":{"line":74,"column":1,"offset":1723},"end":{"line":74,"column":18,"offset":1740},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"In the global context, the ","position":{"start":{"line":76,"column":1,"offset":1742},"end":{"line":76,"column":28,"offset":1769},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":76,"column":28,"offset":1769},"end":{"line":76,"column":34,"offset":1775},"indent":[]}},{"type":"text","value":" references the ","position":{"start":{"line":76,"column":34,"offset":1775},"end":{"line":76,"column":50,"offset":1791},"indent":[]}},{"type":"link","title":null,"url":"https://www.javascripttutorial.net/es-next/javascript-globalthis/","children":[{"type":"text","value":"global object","position":{"start":{"line":76,"column":51,"offset":1792},"end":{"line":76,"column":64,"offset":1805},"indent":[]}}],"position":{"start":{"line":76,"column":50,"offset":1791},"end":{"line":76,"column":132,"offset":1873},"indent":[]}},{"type":"text","value":", which is the ","position":{"start":{"line":76,"column":132,"offset":1873},"end":{"line":76,"column":147,"offset":1888},"indent":[]}},{"type":"inlineCode","value":"window","position":{"start":{"line":76,"column":147,"offset":1888},"end":{"line":76,"column":155,"offset":1896},"indent":[]}},{"type":"text","value":" object on the web browser or ","position":{"start":{"line":76,"column":155,"offset":1896},"end":{"line":76,"column":185,"offset":1926},"indent":[]}},{"type":"inlineCode","value":"global","position":{"start":{"line":76,"column":185,"offset":1926},"end":{"line":76,"column":193,"offset":1934},"indent":[]}},{"type":"text","value":" object on Node.js.","position":{"start":{"line":76,"column":193,"offset":1934},"end":{"line":76,"column":212,"offset":1953},"indent":[]}}],"position":{"start":{"line":76,"column":1,"offset":1742},"end":{"line":76,"column":212,"offset":1953},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"This behavior is consistent in both strict and non-strict modes. Here's the output on the web browser:","position":{"start":{"line":78,"column":1,"offset":1955},"end":{"line":78,"column":103,"offset":2057},"indent":[]}}],"position":{"start":{"line":78,"column":1,"offset":1955},"end":{"line":78,"column":103,"offset":2057},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"console.log(this === window); // trueCode language: JavaScript (javascript)","position":{"start":{"line":80,"column":1,"offset":2059},"end":{"line":82,"column":4,"offset":2144},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"If you assign a property to ","position":{"start":{"line":84,"column":1,"offset":2146},"end":{"line":84,"column":29,"offset":2174},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":84,"column":29,"offset":2174},"end":{"line":84,"column":35,"offset":2180},"indent":[]}},{"type":"text","value":" object in the global context, JavaScript will add the property to the global object as shown in the following example:","position":{"start":{"line":84,"column":35,"offset":2180},"end":{"line":84,"column":154,"offset":2299},"indent":[]}}],"position":{"start":{"line":84,"column":1,"offset":2146},"end":{"line":84,"column":154,"offset":2299},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"this.color= 'Red';\nconsole.log(window.color); // 'Red'Code language: JavaScript (javascript)","position":{"start":{"line":86,"column":1,"offset":2301},"end":{"line":89,"column":4,"offset":2403},"indent":[1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Function context","position":{"start":{"line":91,"column":4,"offset":2408},"end":{"line":91,"column":20,"offset":2424},"indent":[]}}],"position":{"start":{"line":91,"column":1,"offset":2405},"end":{"line":91,"column":20,"offset":2424},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"In JavaScript, you can call a ","position":{"start":{"line":93,"column":1,"offset":2426},"end":{"line":93,"column":31,"offset":2456},"indent":[]}},{"type":"link","title":null,"url":"https://www.javascripttutorial.net/javascript-function/","children":[{"type":"text","value":"function","position":{"start":{"line":93,"column":32,"offset":2457},"end":{"line":93,"column":40,"offset":2465},"indent":[]}}],"position":{"start":{"line":93,"column":31,"offset":2456},"end":{"line":93,"column":98,"offset":2523},"indent":[]}},{"type":"text","value":" in the following ways:","position":{"start":{"line":93,"column":98,"offset":2523},"end":{"line":93,"column":121,"offset":2546},"indent":[]}}],"position":{"start":{"line":93,"column":1,"offset":2426},"end":{"line":93,"column":121,"offset":2546},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Function invocation","position":{"start":{"line":95,"column":3,"offset":2550},"end":{"line":95,"column":22,"offset":2569},"indent":[]}}],"position":{"start":{"line":95,"column":3,"offset":2550},"end":{"line":95,"column":22,"offset":2569},"indent":[]}}],"position":{"start":{"line":95,"column":1,"offset":2548},"end":{"line":95,"column":22,"offset":2569},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Method invocation","position":{"start":{"line":96,"column":3,"offset":2572},"end":{"line":96,"column":20,"offset":2589},"indent":[]}}],"position":{"start":{"line":96,"column":3,"offset":2572},"end":{"line":96,"column":20,"offset":2589},"indent":[]}}],"position":{"start":{"line":96,"column":1,"offset":2570},"end":{"line":96,"column":20,"offset":2589},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Constructor invocation","position":{"start":{"line":97,"column":3,"offset":2592},"end":{"line":97,"column":25,"offset":2614},"indent":[]}}],"position":{"start":{"line":97,"column":3,"offset":2592},"end":{"line":97,"column":25,"offset":2614},"indent":[]}}],"position":{"start":{"line":97,"column":1,"offset":2590},"end":{"line":97,"column":25,"offset":2614},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Indirect invocation","position":{"start":{"line":98,"column":3,"offset":2617},"end":{"line":98,"column":22,"offset":2636},"indent":[]}}],"position":{"start":{"line":98,"column":3,"offset":2617},"end":{"line":98,"column":22,"offset":2636},"indent":[]}}],"position":{"start":{"line":98,"column":1,"offset":2615},"end":{"line":98,"column":22,"offset":2636},"indent":[]}}],"position":{"start":{"line":95,"column":1,"offset":2548},"end":{"line":98,"column":22,"offset":2636},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Each function invocation defines its own context. Therefore, the ","position":{"start":{"line":100,"column":1,"offset":2638},"end":{"line":100,"column":66,"offset":2703},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":100,"column":66,"offset":2703},"end":{"line":100,"column":72,"offset":2709},"indent":[]}},{"type":"text","value":" behaves differently.","position":{"start":{"line":100,"column":72,"offset":2709},"end":{"line":100,"column":93,"offset":2730},"indent":[]}}],"position":{"start":{"line":100,"column":1,"offset":2638},"end":{"line":100,"column":93,"offset":2730},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"1) Simple function invocation","position":{"start":{"line":102,"column":5,"offset":2736},"end":{"line":102,"column":34,"offset":2765},"indent":[]}}],"position":{"start":{"line":102,"column":1,"offset":2732},"end":{"line":102,"column":34,"offset":2765},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"In the non-strict mode, the ","position":{"start":{"line":104,"column":1,"offset":2767},"end":{"line":104,"column":29,"offset":2795},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":104,"column":29,"offset":2795},"end":{"line":104,"column":35,"offset":2801},"indent":[]}},{"type":"text","value":" references the global object when the function is called as follows:","position":{"start":{"line":104,"column":35,"offset":2801},"end":{"line":104,"column":104,"offset":2870},"indent":[]}}],"position":{"start":{"line":104,"column":1,"offset":2767},"end":{"line":104,"column":104,"offset":2870},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":106,"column":1,"offset":2872},"end":{"line":106,"column":4,"offset":2875},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"function show() {\n   console.log(this === window); // true\n}\n\nshow();Code language: JavaScript (javascript)","position":{"start":{"line":109,"column":1,"offset":2878},"end":{"line":117,"column":4,"offset":2997},"indent":[1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"When you call the ","position":{"start":{"line":119,"column":1,"offset":2999},"end":{"line":119,"column":19,"offset":3017},"indent":[]}},{"type":"inlineCode","value":"show()","position":{"start":{"line":119,"column":19,"offset":3017},"end":{"line":119,"column":27,"offset":3025},"indent":[]}},{"type":"text","value":" function, the ","position":{"start":{"line":119,"column":27,"offset":3025},"end":{"line":119,"column":42,"offset":3040},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":119,"column":42,"offset":3040},"end":{"line":119,"column":48,"offset":3046},"indent":[]}},{"type":"text","value":" references the ","position":{"start":{"line":119,"column":48,"offset":3046},"end":{"line":119,"column":64,"offset":3062},"indent":[]}},{"type":"link","title":null,"url":"https://www.javascripttutorial.net/es-next/javascript-globalthis/","children":[{"type":"text","value":"global object","position":{"start":{"line":119,"column":65,"offset":3063},"end":{"line":119,"column":78,"offset":3076},"indent":[]}}],"position":{"start":{"line":119,"column":64,"offset":3062},"end":{"line":119,"column":146,"offset":3144},"indent":[]}},{"type":"text","value":", which is the ","position":{"start":{"line":119,"column":146,"offset":3144},"end":{"line":119,"column":161,"offset":3159},"indent":[]}},{"type":"inlineCode","value":"window","position":{"start":{"line":119,"column":161,"offset":3159},"end":{"line":119,"column":169,"offset":3167},"indent":[]}},{"type":"text","value":" on the web browser and ","position":{"start":{"line":119,"column":169,"offset":3167},"end":{"line":119,"column":193,"offset":3191},"indent":[]}},{"type":"inlineCode","value":"global","position":{"start":{"line":119,"column":193,"offset":3191},"end":{"line":119,"column":201,"offset":3199},"indent":[]}},{"type":"text","value":" on Node.js.","position":{"start":{"line":119,"column":201,"offset":3199},"end":{"line":119,"column":213,"offset":3211},"indent":[]}}],"position":{"start":{"line":119,"column":1,"offset":2999},"end":{"line":119,"column":213,"offset":3211},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Calling the ","position":{"start":{"line":121,"column":1,"offset":3213},"end":{"line":121,"column":13,"offset":3225},"indent":[]}},{"type":"inlineCode","value":"show()","position":{"start":{"line":121,"column":13,"offset":3225},"end":{"line":121,"column":21,"offset":3233},"indent":[]}},{"type":"text","value":" function is the same as:","position":{"start":{"line":121,"column":21,"offset":3233},"end":{"line":121,"column":46,"offset":3258},"indent":[]}}],"position":{"start":{"line":121,"column":1,"offset":3213},"end":{"line":121,"column":46,"offset":3258},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"window.show();Code language: JavaScript (javascript)","position":{"start":{"line":123,"column":1,"offset":3260},"end":{"line":125,"column":4,"offset":3322},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"In the strict mode, JavaScript sets the ","position":{"start":{"line":127,"column":1,"offset":3324},"end":{"line":127,"column":41,"offset":3364},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":127,"column":41,"offset":3364},"end":{"line":127,"column":47,"offset":3370},"indent":[]}},{"type":"text","value":" inside a function to ","position":{"start":{"line":127,"column":47,"offset":3370},"end":{"line":127,"column":69,"offset":3392},"indent":[]}},{"type":"inlineCode","value":"undefined","position":{"start":{"line":127,"column":69,"offset":3392},"end":{"line":127,"column":80,"offset":3403},"indent":[]}},{"type":"text","value":". For example:","position":{"start":{"line":127,"column":80,"offset":3403},"end":{"line":127,"column":94,"offset":3417},"indent":[]}}],"position":{"start":{"line":127,"column":1,"offset":3324},"end":{"line":127,"column":94,"offset":3417},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"\"use strict\";\n\nfunction show() {\n    console.log(this === undefined);\n}\n\nshow();Code language: JavaScript (javascript)","position":{"start":{"line":129,"column":1,"offset":3419},"end":{"line":137,"column":4,"offset":3547},"indent":[1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"To enable the strict mode, you use the directive ","position":{"start":{"line":139,"column":1,"offset":3549},"end":{"line":139,"column":50,"offset":3598},"indent":[]}},{"type":"inlineCode","value":"\"use strict\"","position":{"start":{"line":139,"column":50,"offset":3598},"end":{"line":139,"column":64,"offset":3612},"indent":[]}},{"type":"text","value":" at the beginning of the JavaScript file. If you want to apply the strict mode to a specific function only, you place it at the top of the function body.","position":{"start":{"line":139,"column":64,"offset":3612},"end":{"line":139,"column":217,"offset":3765},"indent":[]}}],"position":{"start":{"line":139,"column":1,"offset":3549},"end":{"line":139,"column":217,"offset":3765},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Note that the strict mode has been available since ECMAScript 5.1. The ","position":{"start":{"line":141,"column":1,"offset":3767},"end":{"line":141,"column":72,"offset":3838},"indent":[]}},{"type":"inlineCode","value":"strict","position":{"start":{"line":141,"column":72,"offset":3838},"end":{"line":141,"column":80,"offset":3846},"indent":[]}},{"type":"text","value":" mode applies to both function and nested functions. For example:","position":{"start":{"line":141,"column":80,"offset":3846},"end":{"line":141,"column":145,"offset":3911},"indent":[]}}],"position":{"start":{"line":141,"column":1,"offset":3767},"end":{"line":141,"column":145,"offset":3911},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":143,"column":1,"offset":3913},"end":{"line":143,"column":4,"offset":3916},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"function show() {\n    \"use strict\";\n    console.log(this === undefined); // true\n\n    function display() {\n        console.log(this === undefined); // true\n    }\n    display();\n}\n\nshow();Code language: JavaScript (javascript)","position":{"start":{"line":146,"column":1,"offset":3919},"end":{"line":160,"column":4,"offset":4156},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Output:","position":{"start":{"line":162,"column":1,"offset":4158},"end":{"line":162,"column":8,"offset":4165},"indent":[]}}],"position":{"start":{"line":162,"column":1,"offset":4158},"end":{"line":162,"column":8,"offset":4165},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"true\ntrueCode language: JavaScript (javascript)","position":{"start":{"line":164,"column":1,"offset":4167},"end":{"line":167,"column":4,"offset":4224},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"In the ","position":{"start":{"line":169,"column":1,"offset":4226},"end":{"line":169,"column":8,"offset":4233},"indent":[]}},{"type":"inlineCode","value":"display()","position":{"start":{"line":169,"column":8,"offset":4233},"end":{"line":169,"column":19,"offset":4244},"indent":[]}},{"type":"text","value":" inner function, the ","position":{"start":{"line":169,"column":19,"offset":4244},"end":{"line":169,"column":40,"offset":4265},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":169,"column":40,"offset":4265},"end":{"line":169,"column":46,"offset":4271},"indent":[]}},{"type":"text","value":" also set to ","position":{"start":{"line":169,"column":46,"offset":4271},"end":{"line":169,"column":59,"offset":4284},"indent":[]}},{"type":"inlineCode","value":"undefined","position":{"start":{"line":169,"column":59,"offset":4284},"end":{"line":169,"column":70,"offset":4295},"indent":[]}},{"type":"text","value":" as shown in the console.","position":{"start":{"line":169,"column":70,"offset":4295},"end":{"line":169,"column":95,"offset":4320},"indent":[]}}],"position":{"start":{"line":169,"column":1,"offset":4226},"end":{"line":169,"column":95,"offset":4320},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"2) Method invocation","position":{"start":{"line":171,"column":5,"offset":4326},"end":{"line":171,"column":25,"offset":4346},"indent":[]}}],"position":{"start":{"line":171,"column":1,"offset":4322},"end":{"line":171,"column":25,"offset":4346},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"When you call a method of an object, JavaScript sets ","position":{"start":{"line":173,"column":1,"offset":4348},"end":{"line":173,"column":54,"offset":4401},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":173,"column":54,"offset":4401},"end":{"line":173,"column":60,"offset":4407},"indent":[]}},{"type":"text","value":" to the object that owns the method. See the following ","position":{"start":{"line":173,"column":60,"offset":4407},"end":{"line":173,"column":115,"offset":4462},"indent":[]}},{"type":"inlineCode","value":"car","position":{"start":{"line":173,"column":115,"offset":4462},"end":{"line":173,"column":120,"offset":4467},"indent":[]}},{"type":"text","value":" object:","position":{"start":{"line":173,"column":120,"offset":4467},"end":{"line":173,"column":128,"offset":4475},"indent":[]}}],"position":{"start":{"line":173,"column":1,"offset":4348},"end":{"line":173,"column":128,"offset":4475},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"let car = {\n    brand: 'Honda',\n    getBrand: function () {\n        return this.brand;\n    }\n}\n\nconsole.log(car.getBrand()); // HondaCode language: JavaScript (javascript)","position":{"start":{"line":175,"column":1,"offset":4477},"end":{"line":184,"column":4,"offset":4658},"indent":[1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"In this example, the ","position":{"start":{"line":186,"column":1,"offset":4660},"end":{"line":186,"column":22,"offset":4681},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":186,"column":22,"offset":4681},"end":{"line":186,"column":28,"offset":4687},"indent":[]}},{"type":"text","value":" object in the ","position":{"start":{"line":186,"column":28,"offset":4687},"end":{"line":186,"column":43,"offset":4702},"indent":[]}},{"type":"inlineCode","value":"getBrand()","position":{"start":{"line":186,"column":43,"offset":4702},"end":{"line":186,"column":55,"offset":4714},"indent":[]}},{"type":"text","value":" method references the ","position":{"start":{"line":186,"column":55,"offset":4714},"end":{"line":186,"column":78,"offset":4737},"indent":[]}},{"type":"inlineCode","value":"car","position":{"start":{"line":186,"column":78,"offset":4737},"end":{"line":186,"column":83,"offset":4742},"indent":[]}},{"type":"text","value":" object.","position":{"start":{"line":186,"column":83,"offset":4742},"end":{"line":186,"column":91,"offset":4750},"indent":[]}}],"position":{"start":{"line":186,"column":1,"offset":4660},"end":{"line":186,"column":91,"offset":4750},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Since a method is a property of an object which is a value, you can store it in a variable.","position":{"start":{"line":188,"column":1,"offset":4752},"end":{"line":188,"column":92,"offset":4843},"indent":[]}}],"position":{"start":{"line":188,"column":1,"offset":4752},"end":{"line":188,"column":92,"offset":4843},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"let brand = car.getBrand;Code language: JavaScript (javascript)","position":{"start":{"line":190,"column":1,"offset":4845},"end":{"line":192,"column":4,"offset":4918},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"And then call the method via the variable","position":{"start":{"line":194,"column":1,"offset":4920},"end":{"line":194,"column":42,"offset":4961},"indent":[]}}],"position":{"start":{"line":194,"column":1,"offset":4920},"end":{"line":194,"column":42,"offset":4961},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"console.log(brand()); // undefinedCode language: JavaScript (javascript)","position":{"start":{"line":196,"column":1,"offset":4963},"end":{"line":198,"column":4,"offset":5045},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"You get ","position":{"start":{"line":200,"column":1,"offset":5047},"end":{"line":200,"column":9,"offset":5055},"indent":[]}},{"type":"inlineCode","value":"undefined","position":{"start":{"line":200,"column":9,"offset":5055},"end":{"line":200,"column":20,"offset":5066},"indent":[]}},{"type":"text","value":" instead of ","position":{"start":{"line":200,"column":20,"offset":5066},"end":{"line":200,"column":32,"offset":5078},"indent":[]}},{"type":"inlineCode","value":"\"Honda\"","position":{"start":{"line":200,"column":32,"offset":5078},"end":{"line":200,"column":41,"offset":5087},"indent":[]}},{"type":"text","value":" because when you call a method without specifying its object, JavaScript sets ","position":{"start":{"line":200,"column":41,"offset":5087},"end":{"line":200,"column":120,"offset":5166},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":200,"column":120,"offset":5166},"end":{"line":200,"column":126,"offset":5172},"indent":[]}},{"type":"text","value":" to the global object in non-strict mode and ","position":{"start":{"line":200,"column":126,"offset":5172},"end":{"line":200,"column":171,"offset":5217},"indent":[]}},{"type":"inlineCode","value":"undefined","position":{"start":{"line":200,"column":171,"offset":5217},"end":{"line":200,"column":182,"offset":5228},"indent":[]}},{"type":"text","value":" in the strict mode.","position":{"start":{"line":200,"column":182,"offset":5228},"end":{"line":200,"column":202,"offset":5248},"indent":[]}}],"position":{"start":{"line":200,"column":1,"offset":5047},"end":{"line":200,"column":202,"offset":5248},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To fix this issue, you use the ","position":{"start":{"line":202,"column":1,"offset":5250},"end":{"line":202,"column":32,"offset":5281},"indent":[]}},{"type":"inlineCode","value":"[bind()](https://www.javascripttutorial.net/javascript-bind/)","position":{"start":{"line":202,"column":32,"offset":5281},"end":{"line":202,"column":95,"offset":5344},"indent":[]}},{"type":"text","value":" method of the ","position":{"start":{"line":202,"column":95,"offset":5344},"end":{"line":202,"column":110,"offset":5359},"indent":[]}},{"type":"inlineCode","value":"Function.prototype","position":{"start":{"line":202,"column":110,"offset":5359},"end":{"line":202,"column":130,"offset":5379},"indent":[]}},{"type":"text","value":" object. The ","position":{"start":{"line":202,"column":130,"offset":5379},"end":{"line":202,"column":143,"offset":5392},"indent":[]}},{"type":"inlineCode","value":"bind()","position":{"start":{"line":202,"column":143,"offset":5392},"end":{"line":202,"column":151,"offset":5400},"indent":[]}},{"type":"text","value":" method creates a new function whose the ","position":{"start":{"line":202,"column":151,"offset":5400},"end":{"line":202,"column":192,"offset":5441},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":202,"column":192,"offset":5441},"end":{"line":202,"column":198,"offset":5447},"indent":[]}},{"type":"text","value":" keyword is set to a specified value.","position":{"start":{"line":202,"column":198,"offset":5447},"end":{"line":202,"column":235,"offset":5484},"indent":[]}}],"position":{"start":{"line":202,"column":1,"offset":5250},"end":{"line":202,"column":235,"offset":5484},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"let brand = car.getBrand.bind(car);\nconsole.log(brand()); // Honda\nCode language: JavaScript (javascript)","position":{"start":{"line":204,"column":1,"offset":5486},"end":{"line":208,"column":4,"offset":5601},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"In this example, when you call the ","position":{"start":{"line":210,"column":1,"offset":5603},"end":{"line":210,"column":36,"offset":5638},"indent":[]}},{"type":"inlineCode","value":"brand()","position":{"start":{"line":210,"column":36,"offset":5638},"end":{"line":210,"column":45,"offset":5647},"indent":[]}},{"type":"text","value":" method, the ","position":{"start":{"line":210,"column":45,"offset":5647},"end":{"line":210,"column":58,"offset":5660},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":210,"column":58,"offset":5660},"end":{"line":210,"column":64,"offset":5666},"indent":[]}},{"type":"text","value":" keyword is bound to the ","position":{"start":{"line":210,"column":64,"offset":5666},"end":{"line":210,"column":89,"offset":5691},"indent":[]}},{"type":"inlineCode","value":"car","position":{"start":{"line":210,"column":89,"offset":5691},"end":{"line":210,"column":94,"offset":5696},"indent":[]}},{"type":"text","value":" object. For example:","position":{"start":{"line":210,"column":94,"offset":5696},"end":{"line":210,"column":115,"offset":5717},"indent":[]}}],"position":{"start":{"line":210,"column":1,"offset":5603},"end":{"line":210,"column":115,"offset":5717},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"let car = {\n    brand: 'Honda',\n    getBrand: function () {\n        return this.brand;\n    }\n}\n\nlet bike = {\n    brand: 'Harley Davidson'\n}\n\nlet brand = car.getBrand.bind(bike);\nconsole.log(brand());Code language: JavaScript (javascript)","position":{"start":{"line":212,"column":1,"offset":5719},"end":{"line":226,"column":4,"offset":5966},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Output:","position":{"start":{"line":228,"column":1,"offset":5968},"end":{"line":228,"column":8,"offset":5975},"indent":[]}}],"position":{"start":{"line":228,"column":1,"offset":5968},"end":{"line":228,"column":8,"offset":5975},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"Harley Davidson","position":{"start":{"line":230,"column":1,"offset":5977},"end":{"line":232,"column":4,"offset":6002},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"In this example, the ","position":{"start":{"line":234,"column":1,"offset":6004},"end":{"line":234,"column":22,"offset":6025},"indent":[]}},{"type":"inlineCode","value":"bind()","position":{"start":{"line":234,"column":22,"offset":6025},"end":{"line":234,"column":30,"offset":6033},"indent":[]}},{"type":"text","value":" method sets the ","position":{"start":{"line":234,"column":30,"offset":6033},"end":{"line":234,"column":47,"offset":6050},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":234,"column":47,"offset":6050},"end":{"line":234,"column":53,"offset":6056},"indent":[]}},{"type":"text","value":" to the ","position":{"start":{"line":234,"column":53,"offset":6056},"end":{"line":234,"column":61,"offset":6064},"indent":[]}},{"type":"inlineCode","value":"bike","position":{"start":{"line":234,"column":61,"offset":6064},"end":{"line":234,"column":67,"offset":6070},"indent":[]}},{"type":"text","value":" object, therefore, you see the value of the ","position":{"start":{"line":234,"column":67,"offset":6070},"end":{"line":234,"column":112,"offset":6115},"indent":[]}},{"type":"inlineCode","value":"brand","position":{"start":{"line":234,"column":112,"offset":6115},"end":{"line":234,"column":119,"offset":6122},"indent":[]}},{"type":"text","value":" property of the ","position":{"start":{"line":234,"column":119,"offset":6122},"end":{"line":234,"column":136,"offset":6139},"indent":[]}},{"type":"inlineCode","value":"bike","position":{"start":{"line":234,"column":136,"offset":6139},"end":{"line":234,"column":142,"offset":6145},"indent":[]}},{"type":"text","value":" object on the console.","position":{"start":{"line":234,"column":142,"offset":6145},"end":{"line":234,"column":165,"offset":6168},"indent":[]}}],"position":{"start":{"line":234,"column":1,"offset":6004},"end":{"line":234,"column":165,"offset":6168},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"3) Constructor invocation","position":{"start":{"line":236,"column":5,"offset":6174},"end":{"line":236,"column":30,"offset":6199},"indent":[]}}],"position":{"start":{"line":236,"column":1,"offset":6170},"end":{"line":236,"column":30,"offset":6199},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"When you use the ","position":{"start":{"line":238,"column":1,"offset":6201},"end":{"line":238,"column":18,"offset":6218},"indent":[]}},{"type":"inlineCode","value":"new","position":{"start":{"line":238,"column":18,"offset":6218},"end":{"line":238,"column":23,"offset":6223},"indent":[]}},{"type":"text","value":" keyword to create an instance of a function object, you use the function as a constructor.","position":{"start":{"line":238,"column":23,"offset":6223},"end":{"line":238,"column":114,"offset":6314},"indent":[]}}],"position":{"start":{"line":238,"column":1,"offset":6201},"end":{"line":238,"column":114,"offset":6314},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The following example declares a ","position":{"start":{"line":240,"column":1,"offset":6316},"end":{"line":240,"column":34,"offset":6349},"indent":[]}},{"type":"inlineCode","value":"Car","position":{"start":{"line":240,"column":34,"offset":6349},"end":{"line":240,"column":39,"offset":6354},"indent":[]}},{"type":"text","value":" function, then invokes it as a constructor:","position":{"start":{"line":240,"column":39,"offset":6354},"end":{"line":240,"column":83,"offset":6398},"indent":[]}}],"position":{"start":{"line":240,"column":1,"offset":6316},"end":{"line":240,"column":83,"offset":6398},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":242,"column":1,"offset":6400},"end":{"line":242,"column":4,"offset":6403},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"function Car(brand) {\n    this.brand = brand;\n}\n\nCar.prototype.getBrand = function () {\n    return this.brand;\n}\n\nlet car = new Car('Honda');\nconsole.log(car.getBrand());Code language: JavaScript (javascript)","position":{"start":{"line":245,"column":1,"offset":6406},"end":{"line":258,"column":4,"offset":6626},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The expression ","position":{"start":{"line":260,"column":1,"offset":6628},"end":{"line":260,"column":16,"offset":6643},"indent":[]}},{"type":"inlineCode","value":"new Car('Honda')","position":{"start":{"line":260,"column":16,"offset":6643},"end":{"line":260,"column":34,"offset":6661},"indent":[]}},{"type":"text","value":" is a constructor invocation of the ","position":{"start":{"line":260,"column":34,"offset":6661},"end":{"line":260,"column":70,"offset":6697},"indent":[]}},{"type":"inlineCode","value":"Car","position":{"start":{"line":260,"column":70,"offset":6697},"end":{"line":260,"column":75,"offset":6702},"indent":[]}},{"type":"text","value":" function.","position":{"start":{"line":260,"column":75,"offset":6702},"end":{"line":260,"column":85,"offset":6712},"indent":[]}}],"position":{"start":{"line":260,"column":1,"offset":6628},"end":{"line":260,"column":85,"offset":6712},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"JavaScript creates a new object and sets ","position":{"start":{"line":262,"column":1,"offset":6714},"end":{"line":262,"column":42,"offset":6755},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":262,"column":42,"offset":6755},"end":{"line":262,"column":48,"offset":6761},"indent":[]}},{"type":"text","value":" to the newly created object. This pattern works great with only one potential problem.","position":{"start":{"line":262,"column":48,"offset":6761},"end":{"line":262,"column":135,"offset":6848},"indent":[]}}],"position":{"start":{"line":262,"column":1,"offset":6714},"end":{"line":262,"column":135,"offset":6848},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Now, you can invoke the ","position":{"start":{"line":264,"column":1,"offset":6850},"end":{"line":264,"column":25,"offset":6874},"indent":[]}},{"type":"inlineCode","value":"Car()","position":{"start":{"line":264,"column":25,"offset":6874},"end":{"line":264,"column":32,"offset":6881},"indent":[]}},{"type":"text","value":" as a function or as a constructor. If you omit the ","position":{"start":{"line":264,"column":32,"offset":6881},"end":{"line":264,"column":84,"offset":6933},"indent":[]}},{"type":"inlineCode","value":"new","position":{"start":{"line":264,"column":84,"offset":6933},"end":{"line":264,"column":89,"offset":6938},"indent":[]}},{"type":"text","value":" keyword as follows:","position":{"start":{"line":264,"column":89,"offset":6938},"end":{"line":264,"column":109,"offset":6958},"indent":[]}}],"position":{"start":{"line":264,"column":1,"offset":6850},"end":{"line":264,"column":109,"offset":6958},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"var bmw = Car('BMW');\nconsole.log(bmw.brand);\n// => TypeError: Cannot read property 'brand' of undefinedCode language: JavaScript (javascript)","position":{"start":{"line":266,"column":1,"offset":6960},"end":{"line":270,"column":4,"offset":7112},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Since the ","position":{"start":{"line":272,"column":1,"offset":7114},"end":{"line":272,"column":11,"offset":7124},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":272,"column":11,"offset":7124},"end":{"line":272,"column":17,"offset":7130},"indent":[]}},{"type":"text","value":" value in the ","position":{"start":{"line":272,"column":17,"offset":7130},"end":{"line":272,"column":31,"offset":7144},"indent":[]}},{"type":"inlineCode","value":"Car()","position":{"start":{"line":272,"column":31,"offset":7144},"end":{"line":272,"column":38,"offset":7151},"indent":[]}},{"type":"text","value":" sets to the global object, the ","position":{"start":{"line":272,"column":38,"offset":7151},"end":{"line":272,"column":70,"offset":7183},"indent":[]}},{"type":"inlineCode","value":"bmw.brand","position":{"start":{"line":272,"column":70,"offset":7183},"end":{"line":272,"column":81,"offset":7194},"indent":[]}},{"type":"text","value":" returns ","position":{"start":{"line":272,"column":81,"offset":7194},"end":{"line":272,"column":90,"offset":7203},"indent":[]}},{"type":"inlineCode","value":"undefined","position":{"start":{"line":272,"column":90,"offset":7203},"end":{"line":272,"column":101,"offset":7214},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":272,"column":101,"offset":7214},"end":{"line":272,"column":102,"offset":7215},"indent":[]}}],"position":{"start":{"line":272,"column":1,"offset":7114},"end":{"line":272,"column":102,"offset":7215},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To make sure that the ","position":{"start":{"line":274,"column":1,"offset":7217},"end":{"line":274,"column":23,"offset":7239},"indent":[]}},{"type":"inlineCode","value":"Car()","position":{"start":{"line":274,"column":23,"offset":7239},"end":{"line":274,"column":30,"offset":7246},"indent":[]}},{"type":"text","value":" function is always invoked using constructor invocation, you add a check at the beginning of the ","position":{"start":{"line":274,"column":30,"offset":7246},"end":{"line":274,"column":128,"offset":7344},"indent":[]}},{"type":"inlineCode","value":"Car()","position":{"start":{"line":274,"column":128,"offset":7344},"end":{"line":274,"column":135,"offset":7351},"indent":[]}},{"type":"text","value":" function as follows:","position":{"start":{"line":274,"column":135,"offset":7351},"end":{"line":274,"column":156,"offset":7372},"indent":[]}}],"position":{"start":{"line":274,"column":1,"offset":7217},"end":{"line":274,"column":156,"offset":7372},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":276,"column":1,"offset":7374},"end":{"line":276,"column":4,"offset":7377},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"function Car(brand) {\n    if (!(this instanceof Car)) {\n        throw Error('Must use the new operator to call the function');\n    }\n    this.brand = brand;\n}Code language: JavaScript (javascript)","position":{"start":{"line":279,"column":1,"offset":7380},"end":{"line":288,"column":4,"offset":7588},"indent":[1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"ES6 introduced a meta-property named ","position":{"start":{"line":290,"column":1,"offset":7590},"end":{"line":290,"column":38,"offset":7627},"indent":[]}},{"type":"link","title":null,"url":"https://www.javascripttutorial.net/es6/javascript-new-target/","children":[{"type":"inlineCode","value":"new.target","position":{"start":{"line":290,"column":39,"offset":7628},"end":{"line":290,"column":51,"offset":7640},"indent":[]}}],"position":{"start":{"line":290,"column":38,"offset":7627},"end":{"line":290,"column":115,"offset":7704},"indent":[]}},{"type":"text","value":" that allows you to detect whether a function is invoked as a simple invocation or as a constructor.","position":{"start":{"line":290,"column":115,"offset":7704},"end":{"line":290,"column":215,"offset":7804},"indent":[]}}],"position":{"start":{"line":290,"column":1,"offset":7590},"end":{"line":290,"column":215,"offset":7804},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You can modify the ","position":{"start":{"line":292,"column":1,"offset":7806},"end":{"line":292,"column":20,"offset":7825},"indent":[]}},{"type":"inlineCode","value":"Car()","position":{"start":{"line":292,"column":20,"offset":7825},"end":{"line":292,"column":27,"offset":7832},"indent":[]}},{"type":"text","value":" function that uses the ","position":{"start":{"line":292,"column":27,"offset":7832},"end":{"line":292,"column":51,"offset":7856},"indent":[]}},{"type":"inlineCode","value":"new.target","position":{"start":{"line":292,"column":51,"offset":7856},"end":{"line":292,"column":63,"offset":7868},"indent":[]}},{"type":"text","value":" metaproperty as follows:","position":{"start":{"line":292,"column":63,"offset":7868},"end":{"line":292,"column":88,"offset":7893},"indent":[]}}],"position":{"start":{"line":292,"column":1,"offset":7806},"end":{"line":292,"column":88,"offset":7893},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":294,"column":1,"offset":7895},"end":{"line":294,"column":4,"offset":7898},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"function Car(brand) {\n    if (!new.target) {\n        throw Error('Must use the new operator to call the function');\n    }\n    this.brand = brand;\n}Code language: JavaScript (javascript)","position":{"start":{"line":297,"column":1,"offset":7901},"end":{"line":306,"column":4,"offset":8098},"indent":[1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"4) Indirect Invocation","position":{"start":{"line":308,"column":5,"offset":8104},"end":{"line":308,"column":27,"offset":8126},"indent":[]}}],"position":{"start":{"line":308,"column":1,"offset":8100},"end":{"line":308,"column":27,"offset":8126},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"In JavaScript, ","position":{"start":{"line":310,"column":1,"offset":8128},"end":{"line":310,"column":16,"offset":8143},"indent":[]}},{"type":"link","title":null,"url":"https://www.javascripttutorial.net/javascript-functions-are-first-class-citizens/","children":[{"type":"text","value":"functions are first-class citizens","position":{"start":{"line":310,"column":17,"offset":8144},"end":{"line":310,"column":51,"offset":8178},"indent":[]}}],"position":{"start":{"line":310,"column":16,"offset":8143},"end":{"line":310,"column":135,"offset":8262},"indent":[]}},{"type":"text","value":". In other words, functions are objects, which are instances of the ","position":{"start":{"line":310,"column":135,"offset":8262},"end":{"line":310,"column":203,"offset":8330},"indent":[]}},{"type":"link","title":null,"url":"https://www.javascripttutorial.net/javascript-function-type/","children":[{"type":"text","value":"Function type","position":{"start":{"line":310,"column":204,"offset":8331},"end":{"line":310,"column":217,"offset":8344},"indent":[]}}],"position":{"start":{"line":310,"column":203,"offset":8330},"end":{"line":310,"column":280,"offset":8407},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":310,"column":280,"offset":8407},"end":{"line":310,"column":281,"offset":8408},"indent":[]}}],"position":{"start":{"line":310,"column":1,"offset":8128},"end":{"line":310,"column":281,"offset":8408},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The ","position":{"start":{"line":312,"column":1,"offset":8410},"end":{"line":312,"column":5,"offset":8414},"indent":[]}},{"type":"inlineCode","value":"Function","position":{"start":{"line":312,"column":5,"offset":8414},"end":{"line":312,"column":15,"offset":8424},"indent":[]}},{"type":"text","value":" type has two methods: ","position":{"start":{"line":312,"column":15,"offset":8424},"end":{"line":312,"column":38,"offset":8447},"indent":[]}},{"type":"inlineCode","value":"[call()](https://www.javascripttutorial.net/javascript-call/)","position":{"start":{"line":312,"column":38,"offset":8447},"end":{"line":312,"column":101,"offset":8510},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":312,"column":101,"offset":8510},"end":{"line":312,"column":106,"offset":8515},"indent":[]}},{"type":"inlineCode","value":"[apply()](https://www.javascripttutorial.net/javascript-apply-method/)","position":{"start":{"line":312,"column":106,"offset":8515},"end":{"line":312,"column":178,"offset":8587},"indent":[]}},{"type":"text","value":" . These methods allow you to set the ","position":{"start":{"line":312,"column":178,"offset":8587},"end":{"line":312,"column":216,"offset":8625},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":312,"column":216,"offset":8625},"end":{"line":312,"column":222,"offset":8631},"indent":[]}},{"type":"text","value":" value when calling a function. For example:","position":{"start":{"line":312,"column":222,"offset":8631},"end":{"line":312,"column":266,"offset":8675},"indent":[]}}],"position":{"start":{"line":312,"column":1,"offset":8410},"end":{"line":312,"column":266,"offset":8675},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":314,"column":1,"offset":8677},"end":{"line":314,"column":4,"offset":8680},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"function getBrand(prefix) {\n    console.log(prefix + this.brand);\n}\n\nlet honda = {\n    brand: 'Honda'\n};\nlet audi = {\n    brand: 'Audi'\n};\n\ngetBrand.call(honda, \"It's a \");\ngetBrand.call(audi, \"It's an \");Code language: JavaScript (javascript)","position":{"start":{"line":317,"column":1,"offset":8683},"end":{"line":333,"column":4,"offset":8938},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Output:","position":{"start":{"line":335,"column":1,"offset":8940},"end":{"line":335,"column":8,"offset":8947},"indent":[]}}],"position":{"start":{"line":335,"column":1,"offset":8940},"end":{"line":335,"column":8,"offset":8947},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"It's a Honda\nIt's an AudiCode language: PHP (php)","position":{"start":{"line":337,"column":1,"offset":8949},"end":{"line":340,"column":4,"offset":9008},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"In this example, we called the ","position":{"start":{"line":342,"column":1,"offset":9010},"end":{"line":342,"column":32,"offset":9041},"indent":[]}},{"type":"inlineCode","value":"getBrand()","position":{"start":{"line":342,"column":32,"offset":9041},"end":{"line":342,"column":44,"offset":9053},"indent":[]}},{"type":"text","value":" function indirectly using the ","position":{"start":{"line":342,"column":44,"offset":9053},"end":{"line":342,"column":75,"offset":9084},"indent":[]}},{"type":"inlineCode","value":"call()","position":{"start":{"line":342,"column":75,"offset":9084},"end":{"line":342,"column":83,"offset":9092},"indent":[]}},{"type":"text","value":" method of the ","position":{"start":{"line":342,"column":83,"offset":9092},"end":{"line":342,"column":98,"offset":9107},"indent":[]}},{"type":"inlineCode","value":"getBrand","position":{"start":{"line":342,"column":98,"offset":9107},"end":{"line":342,"column":108,"offset":9117},"indent":[]}},{"type":"text","value":" function. We passed ","position":{"start":{"line":342,"column":108,"offset":9117},"end":{"line":342,"column":129,"offset":9138},"indent":[]}},{"type":"inlineCode","value":"honda","position":{"start":{"line":342,"column":129,"offset":9138},"end":{"line":342,"column":136,"offset":9145},"indent":[]}},{"type":"text","value":" and  ","position":{"start":{"line":342,"column":136,"offset":9145},"end":{"line":342,"column":142,"offset":9151},"indent":[]}},{"type":"inlineCode","value":"audi","position":{"start":{"line":342,"column":142,"offset":9151},"end":{"line":342,"column":148,"offset":9157},"indent":[]}},{"type":"text","value":" object as the first argument of the ","position":{"start":{"line":342,"column":148,"offset":9157},"end":{"line":342,"column":185,"offset":9194},"indent":[]}},{"type":"inlineCode","value":"call()","position":{"start":{"line":342,"column":185,"offset":9194},"end":{"line":342,"column":193,"offset":9202},"indent":[]}},{"type":"text","value":" method, therefore, we got the corresponding brand in each call.","position":{"start":{"line":342,"column":193,"offset":9202},"end":{"line":342,"column":257,"offset":9266},"indent":[]}}],"position":{"start":{"line":342,"column":1,"offset":9010},"end":{"line":342,"column":257,"offset":9266},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The ","position":{"start":{"line":344,"column":1,"offset":9268},"end":{"line":344,"column":5,"offset":9272},"indent":[]}},{"type":"inlineCode","value":"apply()","position":{"start":{"line":344,"column":5,"offset":9272},"end":{"line":344,"column":14,"offset":9281},"indent":[]}},{"type":"text","value":" method is similar to the ","position":{"start":{"line":344,"column":14,"offset":9281},"end":{"line":344,"column":40,"offset":9307},"indent":[]}},{"type":"inlineCode","value":"call()","position":{"start":{"line":344,"column":40,"offset":9307},"end":{"line":344,"column":48,"offset":9315},"indent":[]}},{"type":"text","value":" method except that its second argument is an array of arguments.","position":{"start":{"line":344,"column":48,"offset":9315},"end":{"line":344,"column":113,"offset":9380},"indent":[]}}],"position":{"start":{"line":344,"column":1,"offset":9268},"end":{"line":344,"column":113,"offset":9380},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"getBrand.apply(honda, [\"It's a \"]); // \"It's a Honda\"\ngetBrand.apply(audi, [\"It's an \"]); // \"It's a Audi\"Code language: JavaScript (javascript)","position":{"start":{"line":346,"column":1,"offset":9382},"end":{"line":349,"column":4,"offset":9536},"indent":[1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Arrow functions","position":{"start":{"line":351,"column":4,"offset":9541},"end":{"line":351,"column":19,"offset":9556},"indent":[]}}],"position":{"start":{"line":351,"column":1,"offset":9538},"end":{"line":351,"column":19,"offset":9556},"indent":[]}},{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://www.javascripttutorial.net/es6/","children":[{"type":"text","value":"ES6","position":{"start":{"line":353,"column":2,"offset":9559},"end":{"line":353,"column":5,"offset":9562},"indent":[]}}],"position":{"start":{"line":353,"column":1,"offset":9558},"end":{"line":353,"column":47,"offset":9604},"indent":[]}},{"type":"text","value":" introduced a new concept named ","position":{"start":{"line":353,"column":47,"offset":9604},"end":{"line":353,"column":79,"offset":9636},"indent":[]}},{"type":"link","title":null,"url":"https://www.javascripttutorial.net/es6/javascript-arrow-function/","children":[{"type":"text","value":"arrow function","position":{"start":{"line":353,"column":80,"offset":9637},"end":{"line":353,"column":94,"offset":9651},"indent":[]}}],"position":{"start":{"line":353,"column":79,"offset":9636},"end":{"line":353,"column":162,"offset":9719},"indent":[]}},{"type":"text","value":". In arrow functions, JavaScript sets the ","position":{"start":{"line":353,"column":162,"offset":9719},"end":{"line":353,"column":204,"offset":9761},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":353,"column":204,"offset":9761},"end":{"line":353,"column":210,"offset":9767},"indent":[]}},{"type":"text","value":" lexically.","position":{"start":{"line":353,"column":210,"offset":9767},"end":{"line":353,"column":221,"offset":9778},"indent":[]}}],"position":{"start":{"line":353,"column":1,"offset":9558},"end":{"line":353,"column":221,"offset":9778},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"It means the arrow function does not create its own ","position":{"start":{"line":355,"column":1,"offset":9780},"end":{"line":355,"column":53,"offset":9832},"indent":[]}},{"type":"link","title":null,"url":"https://www.javascripttutorial.net/javascript-execution-context/","children":[{"type":"text","value":"execution context","position":{"start":{"line":355,"column":54,"offset":9833},"end":{"line":355,"column":71,"offset":9850},"indent":[]}}],"position":{"start":{"line":355,"column":53,"offset":9832},"end":{"line":355,"column":138,"offset":9917},"indent":[]}},{"type":"text","value":" but inherits the ","position":{"start":{"line":355,"column":138,"offset":9917},"end":{"line":355,"column":156,"offset":9935},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":355,"column":156,"offset":9935},"end":{"line":355,"column":162,"offset":9941},"indent":[]}},{"type":"text","value":" from the outer function where the arrow function is defined. See the following example:","position":{"start":{"line":355,"column":162,"offset":9941},"end":{"line":355,"column":250,"offset":10029},"indent":[]}}],"position":{"start":{"line":355,"column":1,"offset":9780},"end":{"line":355,"column":250,"offset":10029},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"let getThis = () => this;\nconsole.log(getThis() === window); // trueCode language: JavaScript (javascript)","position":{"start":{"line":357,"column":1,"offset":10031},"end":{"line":360,"column":4,"offset":10147},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"In this example, the ","position":{"start":{"line":362,"column":1,"offset":10149},"end":{"line":362,"column":22,"offset":10170},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":362,"column":22,"offset":10170},"end":{"line":362,"column":28,"offset":10176},"indent":[]}},{"type":"text","value":" value is set to the global object i.e., ","position":{"start":{"line":362,"column":28,"offset":10176},"end":{"line":362,"column":69,"offset":10217},"indent":[]}},{"type":"inlineCode","value":"window","position":{"start":{"line":362,"column":69,"offset":10217},"end":{"line":362,"column":77,"offset":10225},"indent":[]}},{"type":"text","value":" in the web browser.","position":{"start":{"line":362,"column":77,"offset":10225},"end":{"line":362,"column":97,"offset":10245},"indent":[]}}],"position":{"start":{"line":362,"column":1,"offset":10149},"end":{"line":362,"column":97,"offset":10245},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Since an arrow function does not create its own execution context, defining a method using an arrow function will cause an issue. For example:","position":{"start":{"line":364,"column":1,"offset":10247},"end":{"line":364,"column":143,"offset":10389},"indent":[]}}],"position":{"start":{"line":364,"column":1,"offset":10247},"end":{"line":364,"column":143,"offset":10389},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":366,"column":1,"offset":10391},"end":{"line":366,"column":4,"offset":10394},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"function Car() {\n    this.speed = 120;\n}\n\nCar.prototype.getSpeed = () => {\n    return this.speed;\n}\n\nvar car = new Car();\ncar.getSpeed(); // TypeErrorCode language: JavaScript (javascript)","position":{"start":{"line":369,"column":1,"offset":10397},"end":{"line":382,"column":4,"offset":10597},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Inside the ","position":{"start":{"line":384,"column":1,"offset":10599},"end":{"line":384,"column":12,"offset":10610},"indent":[]}},{"type":"inlineCode","value":"getSpeed()","position":{"start":{"line":384,"column":12,"offset":10610},"end":{"line":384,"column":24,"offset":10622},"indent":[]}},{"type":"text","value":" method, the ","position":{"start":{"line":384,"column":24,"offset":10622},"end":{"line":384,"column":37,"offset":10635},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":384,"column":37,"offset":10635},"end":{"line":384,"column":43,"offset":10641},"indent":[]}},{"type":"text","value":" value reference the global object, not the ","position":{"start":{"line":384,"column":43,"offset":10641},"end":{"line":384,"column":87,"offset":10685},"indent":[]}},{"type":"inlineCode","value":"Car","position":{"start":{"line":384,"column":87,"offset":10685},"end":{"line":384,"column":92,"offset":10690},"indent":[]}},{"type":"text","value":" object. Therefore the ","position":{"start":{"line":384,"column":92,"offset":10690},"end":{"line":384,"column":115,"offset":10713},"indent":[]}},{"type":"inlineCode","value":"car.getSpeed()","position":{"start":{"line":384,"column":115,"offset":10713},"end":{"line":384,"column":131,"offset":10729},"indent":[]}},{"type":"text","value":" invocation causes an error because the global object does not have the ","position":{"start":{"line":384,"column":131,"offset":10729},"end":{"line":384,"column":203,"offset":10801},"indent":[]}},{"type":"inlineCode","value":"speed","position":{"start":{"line":384,"column":203,"offset":10801},"end":{"line":384,"column":210,"offset":10808},"indent":[]}},{"type":"text","value":" property.","position":{"start":{"line":384,"column":210,"offset":10808},"end":{"line":384,"column":220,"offset":10818},"indent":[]}}],"position":{"start":{"line":384,"column":1,"offset":10599},"end":{"line":384,"column":220,"offset":10818},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":385,"column":1,"offset":10819}}}}