{"expireTime":9007200908525413000,"key":"transformer-remark-markdown-html-ast-4dfd30ca591a69e56b0fd5be9f864f74--","val":{"type":"root","children":[{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"Object.create()","position":{"start":{"line":3,"column":3,"offset":4},"end":{"line":3,"column":18,"offset":19}}}],"position":{"start":{"line":3,"column":1,"offset":2},"end":{"line":3,"column":18,"offset":19}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":5,"column":1,"offset":21},"end":{"line":5,"column":5,"offset":25}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Object.create()"}],"position":{"start":{"line":5,"column":5,"offset":25},"end":{"line":5,"column":22,"offset":42}}},{"type":"text","value":" method creates a new object, using an existing object as the prototype of the newly created object.","position":{"start":{"line":5,"column":22,"offset":42},"end":{"line":5,"column":122,"offset":142}}}],"position":{"start":{"line":5,"column":1,"offset":21},"end":{"line":5,"column":122,"offset":142}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Syntax","position":{"start":{"line":7,"column":4,"offset":147},"end":{"line":7,"column":10,"offset":153}}}],"position":{"start":{"line":7,"column":1,"offset":144},"end":{"line":7,"column":10,"offset":153}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Object.create(proto)\nObject.create(proto, propertiesObject)\n"}],"position":{"start":{"line":9,"column":1,"offset":155},"end":{"line":10,"column":43,"offset":222}}}],"position":{"start":{"line":9,"column":1,"offset":155},"end":{"line":10,"column":43,"offset":222}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Parameters","position":{"start":{"line":12,"column":5,"offset":228},"end":{"line":12,"column":15,"offset":238}}}],"position":{"start":{"line":12,"column":1,"offset":224},"end":{"line":12,"column":15,"offset":238}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"proto"}],"position":{"start":{"line":14,"column":1,"offset":240},"end":{"line":14,"column":8,"offset":247}}},{"type":"text","value":"\nThe object which should be the prototype of the newly-created object.","position":{"start":{"line":14,"column":8,"offset":247},"end":{"line":15,"column":70,"offset":317}}}],"position":{"start":{"line":14,"column":1,"offset":240},"end":{"line":15,"column":70,"offset":317}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"propertiesObject"}],"position":{"start":{"line":17,"column":1,"offset":319},"end":{"line":17,"column":19,"offset":337}}},{"type":"text","value":" ","position":{"start":{"line":17,"column":19,"offset":337},"end":{"line":17,"column":20,"offset":338}}},{"type":"raw","value":"<span class=\"badge inline optional\">","position":{"start":{"line":17,"column":20,"offset":338},"end":{"line":17,"column":56,"offset":374}}},{"type":"text","value":"Optional","position":{"start":{"line":17,"column":56,"offset":374},"end":{"line":17,"column":64,"offset":382}}},{"type":"raw","value":"</span>","position":{"start":{"line":17,"column":64,"offset":382},"end":{"line":17,"column":71,"offset":389}}},{"type":"text","value":"\nIf specified and not ","position":{"start":{"line":17,"column":71,"offset":389},"end":{"line":18,"column":22,"offset":411}}},{"type":"element","tagName":"a","properties":{"href":"../undefined"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"undefined"}],"position":{"start":{"line":18,"column":23,"offset":412},"end":{"line":18,"column":34,"offset":423}}}],"position":{"start":{"line":18,"column":22,"offset":411},"end":{"line":18,"column":49,"offset":438}}},{"type":"text","value":", an object whose enumerable own properties (that is, those properties defined upon itself and ","position":{"start":{"line":18,"column":49,"offset":438},"end":{"line":18,"column":144,"offset":533}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"not","position":{"start":{"line":18,"column":145,"offset":534},"end":{"line":18,"column":148,"offset":537}}}],"position":{"start":{"line":18,"column":144,"offset":533},"end":{"line":18,"column":149,"offset":538}}},{"type":"text","value":" enumerable properties along its prototype chain) specify property descriptors to be added to the newly-created object, with the corresponding property names. These properties correspond to the second argument of ","position":{"start":{"line":18,"column":149,"offset":538},"end":{"line":18,"column":362,"offset":751}}},{"type":"element","tagName":"a","properties":{"href":"defineproperties"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Object.defineProperties()"}],"position":{"start":{"line":18,"column":363,"offset":752},"end":{"line":18,"column":390,"offset":779}}}],"position":{"start":{"line":18,"column":362,"offset":751},"end":{"line":18,"column":409,"offset":798}}},{"type":"text","value":".","position":{"start":{"line":18,"column":409,"offset":798},"end":{"line":18,"column":410,"offset":799}}}],"position":{"start":{"line":17,"column":1,"offset":319},"end":{"line":18,"column":410,"offset":799}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Return value","position":{"start":{"line":20,"column":5,"offset":805},"end":{"line":20,"column":17,"offset":817}}}],"position":{"start":{"line":20,"column":1,"offset":801},"end":{"line":20,"column":17,"offset":817}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A new object with the specified prototype object and properties.","position":{"start":{"line":22,"column":1,"offset":819},"end":{"line":22,"column":65,"offset":883}}}],"position":{"start":{"line":22,"column":1,"offset":819},"end":{"line":22,"column":65,"offset":883}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Exceptions","position":{"start":{"line":24,"column":5,"offset":889},"end":{"line":24,"column":15,"offset":899}}}],"position":{"start":{"line":24,"column":1,"offset":885},"end":{"line":24,"column":15,"offset":899}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":26,"column":1,"offset":901},"end":{"line":26,"column":5,"offset":905}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"proto"}],"position":{"start":{"line":26,"column":5,"offset":905},"end":{"line":26,"column":12,"offset":912}}},{"type":"text","value":" parameter has to be either","position":{"start":{"line":26,"column":12,"offset":912},"end":{"line":26,"column":39,"offset":939}}}],"position":{"start":{"line":26,"column":1,"offset":901},"end":{"line":26,"column":39,"offset":939}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"../null"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"null"}],"position":{"start":{"line":28,"column":4,"offset":944},"end":{"line":28,"column":10,"offset":950}}}],"position":{"start":{"line":28,"column":3,"offset":943},"end":{"line":28,"column":20,"offset":960}}},{"type":"text","value":" or","position":{"start":{"line":28,"column":20,"offset":960},"end":{"line":28,"column":23,"offset":963}}}],"position":{"start":{"line":28,"column":1,"offset":941},"end":{"line":28,"column":23,"offset":963}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"an ","position":{"start":{"line":29,"column":3,"offset":966},"end":{"line":29,"column":6,"offset":969}}},{"type":"element","tagName":"a","properties":{"href":"../object"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Object"}],"position":{"start":{"line":29,"column":7,"offset":970},"end":{"line":29,"column":15,"offset":978}}}],"position":{"start":{"line":29,"column":6,"offset":969},"end":{"line":29,"column":27,"offset":990}}},{"type":"text","value":" excluding ","position":{"start":{"line":29,"column":27,"offset":990},"end":{"line":29,"column":38,"offset":1001}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Glossary/Primitive#primitive_wrapper_objects_in_javascript"},"children":[{"type":"text","value":"primitive wrapper objects","position":{"start":{"line":29,"column":39,"offset":1002},"end":{"line":29,"column":64,"offset":1027}}}],"position":{"start":{"line":29,"column":38,"offset":1001},"end":{"line":29,"column":166,"offset":1129}}},{"type":"text","value":".","position":{"start":{"line":29,"column":166,"offset":1129},"end":{"line":29,"column":167,"offset":1130}}}],"position":{"start":{"line":29,"column":1,"offset":964},"end":{"line":29,"column":167,"offset":1130}}},{"type":"text","value":"\n"}],"position":{"start":{"line":28,"column":1,"offset":941},"end":{"line":29,"column":167,"offset":1130}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If ","position":{"start":{"line":31,"column":1,"offset":1132},"end":{"line":31,"column":4,"offset":1135}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"proto"}],"position":{"start":{"line":31,"column":4,"offset":1135},"end":{"line":31,"column":11,"offset":1142}}},{"type":"text","value":" is neither of these a ","position":{"start":{"line":31,"column":11,"offset":1142},"end":{"line":31,"column":34,"offset":1165}}},{"type":"element","tagName":"a","properties":{"href":"../typeerror"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"TypeError"}],"position":{"start":{"line":31,"column":35,"offset":1166},"end":{"line":31,"column":46,"offset":1177}}}],"position":{"start":{"line":31,"column":34,"offset":1165},"end":{"line":31,"column":61,"offset":1192}}},{"type":"text","value":" is thrown.","position":{"start":{"line":31,"column":61,"offset":1192},"end":{"line":31,"column":72,"offset":1203}}}],"position":{"start":{"line":31,"column":1,"offset":1132},"end":{"line":31,"column":72,"offset":1203}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Custom and Null objects","position":{"start":{"line":33,"column":4,"offset":1208},"end":{"line":33,"column":27,"offset":1231}}}],"position":{"start":{"line":33,"column":1,"offset":1205},"end":{"line":33,"column":27,"offset":1231}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A new object created from a completely custom object (especially one created from the ","position":{"start":{"line":35,"column":1,"offset":1233},"end":{"line":35,"column":87,"offset":1319}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"null"}],"position":{"start":{"line":35,"column":87,"offset":1319},"end":{"line":35,"column":93,"offset":1325}}},{"type":"text","value":" object, which is basically a custom object with NO members) can behave in unexpected ways. This is especially true when debugging, since common object-property converting/detecting utility functions may generate errors, or lose information (especially if using silent error-traps that ignore errors). For example, here are two objects:","position":{"start":{"line":35,"column":93,"offset":1325},"end":{"line":35,"column":429,"offset":1661}}}],"position":{"start":{"line":35,"column":1,"offset":1233},"end":{"line":35,"column":429,"offset":1661}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"oco = Object.create( {} );   // create a normal object\nocn = Object.create( null ); // create a \"null\" object\n\n> console.log(oco) // {} -- Seems normal\n> console.log(ocn) // {} -- Seems normal here too, so far\n\noco.p = 1; // create a simple property on normal obj\nocn.p = 0; // create a simple property on \"null\" obj\n\n> console.log(oco) // {p: 1} -- Still seems normal\n> console.log(ocn) // {p: 0} -- Still seems normal here too. BUT WAIT...\n"}],"position":{"start":{"line":37,"column":1,"offset":1663},"end":{"line":47,"column":77,"offset":2136}}}],"position":{"start":{"line":37,"column":1,"offset":1663},"end":{"line":47,"column":77,"offset":2136}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"As shown above, all seems normal so far. However, when attempting to actually use these objects, their differences quickly become apparent:","position":{"start":{"line":49,"column":1,"offset":2138},"end":{"line":49,"column":140,"offset":2277}}}],"position":{"start":{"line":49,"column":1,"offset":2138},"end":{"line":49,"column":140,"offset":2277}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"> \"oco is: \" + oco // shows \"oco is: [object Object]\"\n\n> \"ocn is: \" + ocn // throws error: Cannot convert object to primitive value\n"}],"position":{"start":{"line":51,"column":1,"offset":2279},"end":{"line":53,"column":81,"offset":2418}}}],"position":{"start":{"line":51,"column":1,"offset":2279},"end":{"line":53,"column":81,"offset":2418}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Testing just a few of the many most basic built-in functions shows the magnitude of the problem more clearly:","position":{"start":{"line":55,"column":1,"offset":2420},"end":{"line":55,"column":110,"offset":2529}}}],"position":{"start":{"line":55,"column":1,"offset":2420},"end":{"line":55,"column":110,"offset":2529}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"> alert(oco) // shows [object Object]\n> alert(ocn) // throws error: Cannot convert object to primitive value\n\n> oco.toString() // shows [object Object]\n> ocn.toString() // throws error: ocn.toString is not a function\n\n> oco.valueOf() // shows {}\n> ocn.valueOf() // throws error: ocn.valueOf is not a function\n\n> oco.hasOwnProperty(\"p\") // shows \"true\"\n> ocn.hasOwnProperty(\"p\") // throws error: ocn.hasOwnProperty is not a function\n\n> oco.constructor // shows \"Object() { [native code] }\"\n> ocn.constructor // shows \"undefined\"\n"}],"position":{"start":{"line":57,"column":1,"offset":2531},"end":{"line":70,"column":43,"offset":3098}}}],"position":{"start":{"line":57,"column":1,"offset":2531},"end":{"line":70,"column":43,"offset":3098}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"As said, these differences can make debugging even simple-seeming problems quickly go astray. For example:","position":{"start":{"line":72,"column":1,"offset":3100},"end":{"line":72,"column":107,"offset":3206}}}],"position":{"start":{"line":72,"column":1,"offset":3100},"end":{"line":72,"column":107,"offset":3206}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"A simple common debugging function:","position":{"start":{"line":74,"column":2,"offset":3209},"end":{"line":74,"column":37,"offset":3244}}}],"position":{"start":{"line":74,"column":1,"offset":3208},"end":{"line":74,"column":38,"offset":3245}}}],"position":{"start":{"line":74,"column":1,"offset":3208},"end":{"line":74,"column":38,"offset":3245}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"// display top-level property name:value pairs of given object\nfunction ShowProperties(obj){\n  for(var prop in obj){\n    console.log(prop + \": \" + obj[prop] + \"\\n\" );\n  }\n}\n"}],"position":{"start":{"line":76,"column":1,"offset":3247},"end":{"line":81,"column":6,"offset":3443}}}],"position":{"start":{"line":76,"column":1,"offset":3247},"end":{"line":81,"column":6,"offset":3443}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"Not such simple results: (especially if silent error-trapping had hidden the error messages)","position":{"start":{"line":83,"column":2,"offset":3446},"end":{"line":83,"column":94,"offset":3538}}}],"position":{"start":{"line":83,"column":1,"offset":3445},"end":{"line":83,"column":95,"offset":3539}}}],"position":{"start":{"line":83,"column":1,"offset":3445},"end":{"line":83,"column":95,"offset":3539}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ob={}; ob.po=oco; ob.pn=ocn; // create a compound object using the test objects from above as property values\n\n> ShowProperties( ob ) // display top-level properties\n- po: [object Object]\n- Error: Cannot convert object to primitive value\n\nNote that only first property gets shown.\n"}],"position":{"start":{"line":85,"column":1,"offset":3541},"end":{"line":91,"column":46,"offset":3841}}}],"position":{"start":{"line":85,"column":1,"offset":3541},"end":{"line":91,"column":46,"offset":3841}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"(But if the same object is created in a different order -- at least in some implementations...)","position":{"start":{"line":93,"column":2,"offset":3844},"end":{"line":93,"column":97,"offset":3939}}}],"position":{"start":{"line":93,"column":1,"offset":3843},"end":{"line":93,"column":98,"offset":3940}}}],"position":{"start":{"line":93,"column":1,"offset":3843},"end":{"line":93,"column":98,"offset":3940}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ob={}; ob.pn=ocn; ob.po=oco; // create same compound object again, but create same properties in different order\n\n> ShowProperties( ob ) // display top-level properties\n- Error: Cannot convert object to primitive value\n\nNote that neither property gets shown.\n"}],"position":{"start":{"line":95,"column":1,"offset":3942},"end":{"line":100,"column":43,"offset":4216}}}],"position":{"start":{"line":95,"column":1,"offset":3942},"end":{"line":100,"column":43,"offset":4216}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Note that such a different order may arise statically via disparate fixed codings such as here, but also dynamically via whatever the order any such property-adding code-branches actually get executed at runtime as depends on inputs and/or random-variables. Then again, the actual iteration order is not guaranteed no matter what the order members are added.","position":{"start":{"line":102,"column":1,"offset":4218},"end":{"line":102,"column":359,"offset":4576}}}],"position":{"start":{"line":102,"column":1,"offset":4218},"end":{"line":102,"column":359,"offset":4576}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Be aware of, also, that using Object.entries() on an object created via Object.create() will result in an empty array being returned.","position":{"start":{"line":104,"column":1,"offset":4578},"end":{"line":104,"column":134,"offset":4711}}}],"position":{"start":{"line":104,"column":1,"offset":4578},"end":{"line":104,"column":134,"offset":4711}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"var obj = Object.create({ a: 1, b: 2 });\n\n> console.log(Object.entries(obj)); // shows \"[]\"\n"}],"position":{"start":{"line":106,"column":1,"offset":4713},"end":{"line":108,"column":54,"offset":4812}}}],"position":{"start":{"line":106,"column":1,"offset":4713},"end":{"line":108,"column":54,"offset":4812}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"text","value":"Some NON-solutions","position":{"start":{"line":110,"column":6,"offset":4819},"end":{"line":110,"column":24,"offset":4837}}}],"position":{"start":{"line":110,"column":1,"offset":4814},"end":{"line":110,"column":24,"offset":4837}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A good solution for the missing object-methods is not immediately apparent.","position":{"start":{"line":112,"column":1,"offset":4839},"end":{"line":112,"column":76,"offset":4914}}}],"position":{"start":{"line":112,"column":1,"offset":4839},"end":{"line":112,"column":76,"offset":4914}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Adding the missing object-method directly from the standard-object does NOT work:","position":{"start":{"line":114,"column":1,"offset":4916},"end":{"line":114,"column":82,"offset":4997}}}],"position":{"start":{"line":114,"column":1,"offset":4916},"end":{"line":114,"column":82,"offset":4997}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ocn = Object.create( null ); // create \"null\" object (same as before)\n\nocn.toString = Object.toString; // since new object lacks method then try assigning it directly from standard-object\n\n> ocn.toString // shows \"toString() { [native code] }\" -- missing method seems to be there now\n> ocn.toString == Object.toString // shows \"true\" -- method seems to be same as the standard object-method\n\n> ocn.toString() // error: Function.prototype.toString requires that 'this' be a Function\n"}],"position":{"start":{"line":116,"column":1,"offset":4999},"end":{"line":123,"column":94,"offset":5500}}}],"position":{"start":{"line":116,"column":1,"offset":4999},"end":{"line":123,"column":94,"offset":5500}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Adding the missing object-method directly to new object's \"prototype\" does not work either, since the new object does not have a real prototype (which is really the cause of ALL these problems) and one cannot be ","position":{"start":{"line":125,"column":1,"offset":5502},"end":{"line":125,"column":213,"offset":5714}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"directly","position":{"start":{"line":125,"column":215,"offset":5716},"end":{"line":125,"column":223,"offset":5724}}}],"position":{"start":{"line":125,"column":213,"offset":5714},"end":{"line":125,"column":225,"offset":5726}}},{"type":"text","value":" added:","position":{"start":{"line":125,"column":225,"offset":5726},"end":{"line":125,"column":232,"offset":5733}}}],"position":{"start":{"line":125,"column":1,"offset":5502},"end":{"line":125,"column":232,"offset":5733}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ocn = Object.create( null ); // create \"null\" object (same as before)\n\nocn.prototype.toString = Object.toString; // Error: Cannot set property 'toString' of undefined\n\nocn.prototype = {};                       // try to create a prototype\nocn.prototype.toString = Object.toString; // since new object lacks method then try assigning it from standard-object\n\n> ocn.toString() // error: ocn.toString is not a function\n"}],"position":{"start":{"line":127,"column":1,"offset":5735},"end":{"line":134,"column":62,"offset":6170}}}],"position":{"start":{"line":127,"column":1,"offset":5735},"end":{"line":134,"column":62,"offset":6170}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Adding the missing object-method by using the standard-object as new object's prototype does not work either:","position":{"start":{"line":136,"column":1,"offset":6172},"end":{"line":136,"column":110,"offset":6281}}}],"position":{"start":{"line":136,"column":1,"offset":6172},"end":{"line":136,"column":110,"offset":6281}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ocn = Object.create( null );        // create \"null\" object (same as before)\nObject.setPrototypeOf(ocn, Object); // set new object's prototype to the standard-object\n\n> ocn.toString() // error: Function.prototype.toString requires that 'this' be a Function\n"}],"position":{"start":{"line":138,"column":1,"offset":6283},"end":{"line":141,"column":94,"offset":6551}}}],"position":{"start":{"line":138,"column":1,"offset":6283},"end":{"line":141,"column":94,"offset":6551}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"text","value":"Some OK solutions","position":{"start":{"line":143,"column":6,"offset":6558},"end":{"line":143,"column":23,"offset":6575}}}],"position":{"start":{"line":143,"column":1,"offset":6553},"end":{"line":143,"column":23,"offset":6575}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Again, adding the missing object-method directly from the ","position":{"start":{"line":145,"column":1,"offset":6577},"end":{"line":145,"column":59,"offset":6635}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"standard-object","position":{"start":{"line":145,"column":61,"offset":6637},"end":{"line":145,"column":76,"offset":6652}}}],"position":{"start":{"line":145,"column":59,"offset":6635},"end":{"line":145,"column":78,"offset":6654}}},{"type":"text","value":" does NOT work. However, adding the ","position":{"start":{"line":145,"column":78,"offset":6654},"end":{"line":145,"column":114,"offset":6690}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"generic","position":{"start":{"line":145,"column":116,"offset":6692},"end":{"line":145,"column":123,"offset":6699}}}],"position":{"start":{"line":145,"column":114,"offset":6690},"end":{"line":145,"column":125,"offset":6701}}},{"type":"text","value":" method directly, DOES:","position":{"start":{"line":145,"column":125,"offset":6701},"end":{"line":145,"column":148,"offset":6724}}}],"position":{"start":{"line":145,"column":1,"offset":6577},"end":{"line":145,"column":148,"offset":6724}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ocn = Object.create( null ); // create \"null\" object (same as before)\n\nocn.toString = toString; // since new object lacks method then assign it directly from generic version\n\n> ocn.toString() // shows \"[object Object]\"\n> \"ocn is: \" + ocn // shows \"ocn is: [object Object]\"\n\nob={}; ob.pn=ocn; ob.po=oco; // create a compound object (same as before)\n\n> ShowProperties(ob) // display top-level properties\n- po: [object Object]\n- pn: [object Object]\n"}],"position":{"start":{"line":147,"column":1,"offset":6726},"end":{"line":158,"column":26,"offset":7203}}}],"position":{"start":{"line":147,"column":1,"offset":6726},"end":{"line":158,"column":26,"offset":7203}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"However, setting the generic ","position":{"start":{"line":160,"column":1,"offset":7205},"end":{"line":160,"column":30,"offset":7234}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"prototype","position":{"start":{"line":160,"column":32,"offset":7236},"end":{"line":160,"column":41,"offset":7245}}}],"position":{"start":{"line":160,"column":30,"offset":7234},"end":{"line":160,"column":43,"offset":7247}}},{"type":"text","value":" as the new object's prototype works even better:","position":{"start":{"line":160,"column":43,"offset":7247},"end":{"line":160,"column":92,"offset":7296}}}],"position":{"start":{"line":160,"column":1,"offset":7205},"end":{"line":160,"column":92,"offset":7296}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ocn = Object.create( null );                  // create \"null\" object (same as before)\nObject.setPrototypeOf(ocn, Object.prototype); // set new object's prototype to the \"generic\" object (NOT standard-object)\n"}],"position":{"start":{"line":162,"column":1,"offset":7298},"end":{"line":163,"column":126,"offset":7514}}}],"position":{"start":{"line":162,"column":1,"offset":7298},"end":{"line":163,"column":126,"offset":7514}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"(In addition to all the string-related functions shown above, this also adds:)","position":{"start":{"line":165,"column":2,"offset":7517},"end":{"line":165,"column":80,"offset":7595}}}],"position":{"start":{"line":165,"column":1,"offset":7516},"end":{"line":165,"column":81,"offset":7596}}}],"position":{"start":{"line":165,"column":1,"offset":7516},"end":{"line":165,"column":81,"offset":7596}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"> ocn.valueOf() // shows {}\n> ocn.hasOwnProperty(\"x\") // shows \"false\"\n> ocn.constructor // shows \"Object() { [native code] }\"\n\n// ...and all the rest of the properties and methods of Object.prototype.\n"}],"position":{"start":{"line":167,"column":1,"offset":7598},"end":{"line":171,"column":78,"offset":7815}}}],"position":{"start":{"line":167,"column":1,"offset":7598},"end":{"line":171,"column":78,"offset":7815}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"As shown, objects modified this way now look very much like ordinary objects.","position":{"start":{"line":173,"column":1,"offset":7817},"end":{"line":173,"column":78,"offset":7894}}}],"position":{"start":{"line":173,"column":1,"offset":7817},"end":{"line":173,"column":78,"offset":7894}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Polyfill","position":{"start":{"line":175,"column":4,"offset":7899},"end":{"line":175,"column":12,"offset":7907}}}],"position":{"start":{"line":175,"column":1,"offset":7896},"end":{"line":175,"column":12,"offset":7907}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This polyfill covers the main use case, which is creating a new object for which the prototype has been chosen but doesn't take the second argument into account.","position":{"start":{"line":177,"column":1,"offset":7909},"end":{"line":177,"column":162,"offset":8070}}}],"position":{"start":{"line":177,"column":1,"offset":7909},"end":{"line":177,"column":162,"offset":8070}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Note that while the setting of ","position":{"start":{"line":179,"column":1,"offset":8072},"end":{"line":179,"column":32,"offset":8103}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"null"}],"position":{"start":{"line":179,"column":32,"offset":8103},"end":{"line":179,"column":38,"offset":8109}}},{"type":"text","value":" as ","position":{"start":{"line":179,"column":38,"offset":8109},"end":{"line":179,"column":42,"offset":8113}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"[[Prototype]]"}],"position":{"start":{"line":179,"column":42,"offset":8113},"end":{"line":179,"column":57,"offset":8128}}},{"type":"text","value":" is supported in the real ES5 ","position":{"start":{"line":179,"column":57,"offset":8128},"end":{"line":179,"column":87,"offset":8158}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Object.create"}],"position":{"start":{"line":179,"column":87,"offset":8158},"end":{"line":179,"column":102,"offset":8173}}},{"type":"text","value":", this polyfill cannot support it due to a limitation inherent in versions of ECMAScript lower than 5.","position":{"start":{"line":179,"column":102,"offset":8173},"end":{"line":179,"column":204,"offset":8275}}}],"position":{"start":{"line":179,"column":1,"offset":8072},"end":{"line":179,"column":204,"offset":8275}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":" if (typeof Object.create !== \"function\") {\n    Object.create = function (proto, propertiesObject) {\n        if (typeof proto !== 'object' && typeof proto !== 'function') {\n            throw new TypeError('Object prototype may only be an Object: ' + proto);\n        } else if (proto === null) {\n            throw new Error(\"This browser's implementation of Object.create is a shim and doesn't support 'null' as the first argument.\");\n        }\n\n        if (typeof propertiesObject != 'undefined') {\n            throw new Error(\"This browser's implementation of Object.create is a shim and doesn't support a second argument.\");\n        }\n\n        function F() {}\n        F.prototype = proto;\n\n        return new F();\n    };\n}\n"}],"position":{"start":{"line":181,"column":1,"offset":8277},"end":{"line":198,"column":6,"offset":9061}}}],"position":{"start":{"line":181,"column":1,"offset":8277},"end":{"line":198,"column":6,"offset":9061}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Examples","position":{"start":{"line":200,"column":4,"offset":9066},"end":{"line":200,"column":12,"offset":9074}}}],"position":{"start":{"line":200,"column":1,"offset":9063},"end":{"line":200,"column":12,"offset":9074}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Classical inheritance with ","position":{"start":{"line":202,"column":5,"offset":9080},"end":{"line":202,"column":32,"offset":9107}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Object.create()"}],"position":{"start":{"line":202,"column":32,"offset":9107},"end":{"line":202,"column":49,"offset":9124}}}],"position":{"start":{"line":202,"column":1,"offset":9076},"end":{"line":202,"column":49,"offset":9124}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Below is an example of how to use ","position":{"start":{"line":204,"column":1,"offset":9126},"end":{"line":204,"column":35,"offset":9160}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Object.create()"}],"position":{"start":{"line":204,"column":35,"offset":9160},"end":{"line":204,"column":52,"offset":9177}}},{"type":"text","value":" to achieve classical inheritance. This is for a single inheritance, which is all that JavaScript supports.","position":{"start":{"line":204,"column":52,"offset":9177},"end":{"line":204,"column":159,"offset":9284}}}],"position":{"start":{"line":204,"column":1,"offset":9126},"end":{"line":204,"column":159,"offset":9284}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"// Shape - superclass\nfunction Shape() {\n  this.x = 0;\n  this.y = 0;\n}\n\n// superclass method\nShape.prototype.move = function(x, y) {\n  this.x += x;\n  this.y += y;\n  console.info('Shape moved.');\n};\n\n// Rectangle - subclass\nfunction Rectangle() {\n  Shape.call(this); // call super constructor.\n}\n\n// subclass extends superclass\nRectangle.prototype = Object.create(Shape.prototype);\n\n//If you don't set Rectangle.prototype.constructor to Rectangle,\n//it will take the prototype.constructor of Shape (parent).\n//To avoid that, we set the prototype.constructor to Rectangle (child).\nRectangle.prototype.constructor = Rectangle;\n\nvar rect = new Rectangle();\n\nconsole.log('Is rect an instance of Rectangle?', rect instanceof Rectangle); // true\nconsole.log('Is rect an instance of Shape?', rect instanceof Shape); // true\nrect.move(1, 1); // Outputs, 'Shape moved.'\n"}],"position":{"start":{"line":206,"column":1,"offset":9286},"end":{"line":236,"column":48,"offset":10245}}}],"position":{"start":{"line":206,"column":1,"offset":9286},"end":{"line":236,"column":48,"offset":10245}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If you wish to inherit from multiple objects, then mixins are a possibility.","position":{"start":{"line":238,"column":1,"offset":10247},"end":{"line":238,"column":77,"offset":10323}}}],"position":{"start":{"line":238,"column":1,"offset":10247},"end":{"line":238,"column":77,"offset":10323}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"function MyClass() {\n  SuperClass.call(this);\n  OtherSuperClass.call(this);\n}\n\n// inherit one class\nMyClass.prototype = Object.create(SuperClass.prototype);\n// mixin another\nObject.assign(MyClass.prototype, OtherSuperClass.prototype);\n// re-assign constructor\nMyClass.prototype.constructor = MyClass;\n\nMyClass.prototype.myMethod = function() {\n  // do something\n};\n"}],"position":{"start":{"line":240,"column":1,"offset":10325},"end":{"line":254,"column":7,"offset":10741}}}],"position":{"start":{"line":240,"column":1,"offset":10325},"end":{"line":254,"column":7,"offset":10741}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"assign"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Object.assign()"}],"position":{"start":{"line":256,"column":2,"offset":10744},"end":{"line":256,"column":19,"offset":10761}}}],"position":{"start":{"line":256,"column":1,"offset":10743},"end":{"line":256,"column":28,"offset":10770}}},{"type":"text","value":" copies properties from the OtherSuperClass prototype to the MyClass prototype, making them available to all instances of MyClass. ","position":{"start":{"line":256,"column":28,"offset":10770},"end":{"line":256,"column":159,"offset":10901}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Object.assign()"}],"position":{"start":{"line":256,"column":159,"offset":10901},"end":{"line":256,"column":176,"offset":10918}}},{"type":"text","value":" was introduced with ES2015 and ","position":{"start":{"line":256,"column":176,"offset":10918},"end":{"line":256,"column":208,"offset":10950}}},{"type":"element","tagName":"a","properties":{"href":"assign#polyfill"},"children":[{"type":"text","value":"can be polyfilled","position":{"start":{"line":256,"column":209,"offset":10951},"end":{"line":256,"column":226,"offset":10968}}}],"position":{"start":{"line":256,"column":208,"offset":10950},"end":{"line":256,"column":244,"offset":10986}}},{"type":"text","value":". If support for older browsers is necessary, ","position":{"start":{"line":256,"column":244,"offset":10986},"end":{"line":256,"column":290,"offset":11032}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"jQuery.extend()"}],"position":{"start":{"line":256,"column":290,"offset":11032},"end":{"line":256,"column":307,"offset":11049}}},{"type":"text","value":" or ","position":{"start":{"line":256,"column":307,"offset":11049},"end":{"line":256,"column":311,"offset":11053}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"_.assign()"}],"position":{"start":{"line":256,"column":311,"offset":11053},"end":{"line":256,"column":323,"offset":11065}}},{"type":"text","value":" can be used.","position":{"start":{"line":256,"column":323,"offset":11065},"end":{"line":256,"column":336,"offset":11078}}}],"position":{"start":{"line":256,"column":1,"offset":10743},"end":{"line":256,"column":336,"offset":11078}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Using propertiesObject argument with Object.create()","position":{"start":{"line":258,"column":5,"offset":11084},"end":{"line":258,"column":57,"offset":11136}}}],"position":{"start":{"line":258,"column":1,"offset":11080},"end":{"line":258,"column":57,"offset":11136}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"var o;\n\n// create an object with null as prototype\no = Object.create(null);\n\no = {};\n// is equivalent to:\no = Object.create(Object.prototype);\n\n// Example where we create an object with a couple of\n// sample properties. (Note that the second parameter\n// maps keys to *property descriptors*.)\no = Object.create(Object.prototype, {\n  // foo is a regular 'value property'\n  foo: {\n    writable: true,\n    configurable: true,\n    value: 'hello'\n  },\n  // bar is a getter-and-setter (accessor) property\n  bar: {\n    configurable: false,\n    get: function() { return 10; },\n    set: function(value) {\n      console.log('Setting `o.bar` to', value);\n    }\n/* with ES2015 Accessors our code can look like this\n    get() { return 10; },\n    set(value) {\n      console.log('Setting `o.bar` to', value);\n    } */\n  }\n});\n\nfunction Constructor() {}\no = new Constructor();\n// is equivalent to:\no = Object.create(Constructor.prototype);\n// Of course, if there is actual initialization code\n// in the Constructor function,\n// the Object.create() cannot reflect it\n\n// Create a new object whose prototype is a new, empty\n// object and add a single property 'p', with value 42.\no = Object.create({}, { p: { value: 42 } });\n\n// by default properties ARE NOT writable,\n// enumerable or configurable:\no.p = 24;\no.p;\n// 42\n\no.q = 12;\nfor (var prop in o) {\n  console.log(prop);\n}\n// 'q'\n\ndelete o.p;\n// false\n\n// to specify an ES3 property\no2 = Object.create({}, {\n  p: {\n    value: 42,\n    writable: true,\n    enumerable: true,\n    configurable: true\n  }\n});\n/* is not equivalent to:\nThis will create an object with prototype : {p: 42 }\no2 = Object.create({p: 42}) */\n"}],"position":{"start":{"line":260,"column":1,"offset":11138},"end":{"line":332,"column":35,"offset":13041}}}],"position":{"start":{"line":260,"column":1,"offset":11138},"end":{"line":332,"column":35,"offset":13041}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":333,"column":1,"offset":13042}}}}