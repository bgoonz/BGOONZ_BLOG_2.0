<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>A Comprehensive Deep Dive into React</title><style>
</head><body><article class="h-entry">
<header>
<h1 class="p-name">A Comprehensive Deep Dive into React</h1>
</header>
<section data-field="subtitle" class="p-summary">
An in-depth look into the world of React.
</section>
<section data-field="body" class="e-content">
<section name="6842" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="0a81" id="0a81" class="graf graf--h3 graf--leading graf--title">React in Depth: A Comprehensive Guide</h3><h4 name="dbaf" id="dbaf" class="graf graf--h4 graf-after--h3 graf--subtitle">A deep dive into the world of React.</h4><figure name="7ce1" id="7ce1" class="graf graf--figure graf-after--h4"><img class="graf-image" data-image-id="0*LnugLVhKbiGfSSHr" data-width="5184" data-height="3456" data-unsplash-photo-id="L8KQIPCODV8" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/0*LnugLVhKbiGfSSHr"><figcaption class="imageCaption">Photo by <a href="https://unsplash.com/@flowforfrank?utm_source=medium&amp;utm_medium=referral" data-href="https://unsplash.com/@flowforfrank?utm_source=medium&amp;utm_medium=referral" class="markup--anchor markup--figure-anchor" rel="photo-creator noopener" target="_blank">Ferenc Almasi</a> on <a href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" data-href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" class="markup--anchor markup--figure-anchor" rel="photo-source noopener" target="_blank">Unsplash</a></figcaption></figure><div name="df05" id="df05" class="graf graf--mixtapeEmbed graf-after--figure"><a href="https://bryanguner.medium.com/a-list-of-all-of-my-articles-to-link-to-future-posts-1f6f88ebdf5b" data-href="https://bryanguner.medium.com/a-list-of-all-of-my-articles-to-link-to-future-posts-1f6f88ebdf5b" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://bryanguner.medium.com/a-list-of-all-of-my-articles-to-link-to-future-posts-1f6f88ebdf5b"><strong class="markup--strong markup--mixtapeEmbed-strong">ALLOFMYOTHERARTICLES</strong><br>bryanguner.medium.com</a><a href="https://bryanguner.medium.com/a-list-of-all-of-my-articles-to-link-to-future-posts-1f6f88ebdf5b" class="js-mixtapeImage mixtapeImage mixtapeImage--empty u-ignoreBlock" data-media-id="b0e65722872b5407711fed22574106a2"></a></div><h3 name="7c3a" id="7c3a" class="graf graf--h3 graf-after--mixtapeEmbed">Random Things to Remember</h3><ul class="postList"><li name="1e39" id="1e39" class="graf graf--li graf-after--h3">Using <code class="markup--code markup--li-code">()</code> implictly returns components.</li><li name="a547" id="a547" class="graf graf--li graf-after--li">Role of <code class="markup--code markup--li-code">index.js</code> is to <em class="markup--em markup--li-em">render</em> your application.</li><li name="c38f" id="c38f" class="graf graf--li graf-after--li">The reference to <code class="markup--code markup--li-code">root</code> comes from a div in the body of your public HTML file.</li><li name="a364" id="a364" class="graf graf--li graf-after--li">State of a component is simply a regular JS Object.</li><li name="d64b" id="d64b" class="graf graf--li graf-after--li">Class Components require <code class="markup--code markup--li-code">render()</code> method to return JSX.</li><li name="fa3d" id="fa3d" class="graf graf--li graf-after--li">Functional Components directly return JSX.</li><li name="4928" id="4928" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Class</code> is <code class="markup--code markup--li-code">className</code> in React.</li><li name="e51a" id="e51a" class="graf graf--li graf-after--li">When parsing for an integer just chain <code class="markup--code markup--li-code">Number.parseInt(&quot;123&quot;)</code></li><li name="2924" id="2924" class="graf graf--li graf-after--li">Use ternary operator if you want to make a conditional inside a fragment.</li></ul><pre name="3043" id="3043" class="graf graf--pre graf-after--li">{ x === y ? &lt;div&gt;Naisu&lt;/div&gt; : &lt;div&gt;Not Naisu&lt;/div&gt;; }</pre><ul class="postList"><li name="ccda" id="ccda" class="graf graf--li graf-after--pre graf--trailing">Purpose of <code class="markup--code markup--li-code">React.Fragment</code> is to allow you to create groups of children without adding an extra dom element.</li></ul></div></div></section><section name="7b25" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="015e" id="015e" class="graf graf--h3 graf--leading">Front-End History</h3><ul class="postList"><li name="904c" id="904c" class="graf graf--li graf-after--h3">React makes it easier for you to make front-end elements. A front-end timeline</li><li name="646a" id="646a" class="graf graf--li graf-after--li">Some noteworthy front end libraries that have been used in the past few years:</li><li name="febf" id="febf" class="graf graf--li graf-after--li">2005: Script.aculo.us</li><li name="d5ae" id="d5ae" class="graf graf--li graf-after--li">2005: Dojo</li><li name="0657" id="0657" class="graf graf--li graf-after--li">2006: YUI</li><li name="c1f9" id="c1f9" class="graf graf--li graf-after--li">2010: Knockout</li><li name="e742" id="e742" class="graf graf--li graf-after--li">2011: AngularJS</li><li name="ed7b" id="ed7b" class="graf graf--li graf-after--li">2012: Elm</li><li name="06e4" id="06e4" class="graf graf--li graf-after--li">2013: React (Considered the standard front-end library)</li><li name="4ff0" id="4ff0" class="graf graf--li graf-after--li">React manages the creation and updating of DOM nodes in your Web page.</li><li name="53cd" id="53cd" class="graf graf--li graf-after--li">All it does is dynamically render stuff into your DOM.</li><li name="c393" id="c393" class="graf graf--li graf-after--li">What it doesn’t do:</li><li name="3088" id="3088" class="graf graf--li graf-after--li">Ajax</li><li name="54ee" id="54ee" class="graf graf--li graf-after--li">Services</li><li name="5e4a" id="5e4a" class="graf graf--li graf-after--li">Local Storage</li><li name="a437" id="a437" class="graf graf--li graf-after--li">Provide a CSS framework</li><li name="06e5" id="06e5" class="graf graf--li graf-after--li">React is unopinionated</li><li name="721c" id="721c" class="graf graf--li graf-after--li">Just contains a few rules for developers to follow, and it just works.</li><li name="e2c0" id="e2c0" class="graf graf--li graf-after--li">JSX : Javascript Extension is a language invented to help write React Applications (looks like a mixture of JS and HTML)</li><li name="916b" id="916b" class="graf graf--li graf-after--li">Here is an overview of the difference between rendering out vanilla JS to create elements, and JSX:</li></ul><pre name="d2a3" id="d2a3" class="graf graf--pre graf-after--li">fetch(&quot;https://example.com/api/people&quot;)<br>  .then((response) =&gt; response.json())<br>  .then((people) =&gt; {<br>    const html = &quot;&lt;ul&gt;&quot;;<br>    for (let person of data.people) {<br>      html += `&lt;li&gt;${person.lastName}, ${person.firstName}&lt;/li&gt;`;<br>    }<br>    html += &quot;&lt;/ul&gt;&quot;;<br>    document.querySelector(&quot;#people-list&quot;).innerHTML = html;<br>  });</pre><pre name="34a2" id="34a2" class="graf graf--pre graf-after--pre">function PeopleList(props) {<br>  return (<br>    &lt;ul&gt;<br>      $<br>      {props.people.map((person) =&gt; (<br>        &lt;li&gt;<br>          {person.lastName}, {person.firstName}<br>        &lt;/li&gt;<br>      ))}<br>    &lt;/ul&gt;<br>  );<br>}<br>const peopleListElement = document.querySelector(&quot;#people-list&quot;);<br>fetch(&quot;https://example.com/api/people&quot;)<br>  .then((response) =&gt; response.json())<br>  .then((people) =&gt; {<br>    const props = { people };<br>    ReactDOM.render(&lt;PeopleList props={props} /&gt;, peopleListElement);<br>  });</pre><ul class="postList"><li name="7ea4" id="7ea4" class="graf graf--li graf-after--pre">This may seem like a lot of code but when you end up building many components, it becomes nice to put each of those functions/classes into their own files to organize your code. Using tools with React</li><li name="e220" id="e220" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">React DevTools</code> : New tool in your browser to see ow React is working in the browser</li><li name="9051" id="9051" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">create-react-app</code> : Extensible command-line tool to help generate standard React applications.</li><li name="af96" id="af96" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Webpack</code> : In between tool for dealing with the extra build step involved.</li></ul><figure name="5608" id="5608" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="0*LHVHf7SPZ1t0UVAj" data-width="989" data-height="386" src="https://cdn-images-1.medium.com/max/800/0*LHVHf7SPZ1t0UVAj"></figure><ul class="postList"><li name="e0ad" id="e0ad" class="graf graf--li graf-after--figure">HMR : (Hot Module Replacement) When you make changes to your source code the changes are delivered in real-time.</li><li name="923a" id="923a" class="graf graf--li graf-after--li">React Developers created something called <code class="markup--code markup--li-code">Flux Architecture</code> to moderate how their web page consumes and modifies data received from back-end API&#39;s.</li></ul><figure name="d5a9" id="d5a9" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="0*wR-lbD4zf45-IHoQ" data-width="1944" data-height="970" src="https://cdn-images-1.medium.com/max/800/0*wR-lbD4zf45-IHoQ"></figure><ul class="postList"><li name="b16e" id="b16e" class="graf graf--li graf-after--figure">Choosing React</li><li name="eefd" id="eefd" class="graf graf--li graf-after--li graf--trailing">Basically, React is super important to learn and master.</li></ul></div></div></section><section name="edd0" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="589a" id="589a" class="graf graf--h3 graf--leading">React Concepts and Features</h3><p name="90c0" id="90c0" class="graf graf--p graf-after--h3">There are many benefits to using React over just Vanilla JavaScript.</p><ul class="postList"><li name="8107" id="8107" class="graf graf--li graf-after--p"><code class="markup--code markup--li-code">Modularity</code></li><li name="15ac" id="15ac" class="graf graf--li graf-after--li">To avoid the mess of many event listeners and template strings, React gives you the benefit of a lot of modularity.</li><li name="c1c5" id="c1c5" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Easy to start</code></li><li name="90ce" id="90ce" class="graf graf--li graf-after--li">No specials tools are needed to use Basic React.</li><li name="9ec9" id="9ec9" class="graf graf--li graf-after--li">You can start working directly with <code class="markup--code markup--li-code">createElement</code> method in React.</li><li name="dd3c" id="dd3c" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Declarative Programming</code></li><li name="d3e6" id="d3e6" class="graf graf--li graf-after--li">React is declarative in nature, utilizing either it’s built-in createElement method or the higher-level language known as JSX.</li><li name="ba8b" id="ba8b" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Reusability</code></li><li name="a3c2" id="a3c2" class="graf graf--li graf-after--li">Create elements that can be re-used over and over. One-flow of data</li><li name="27d2" id="27d2" class="graf graf--li graf-after--li">React apps are built as a combination of parent and child components.</li><li name="6da8" id="6da8" class="graf graf--li graf-after--li">Parents can have one or more child components, all children have parents.</li><li name="26d8" id="26d8" class="graf graf--li graf-after--li">Data is never passed from child to the parent.</li><li name="86be" id="86be" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Virtual DOM</code> : React provides a Virtual DOM that acts as an agent between the real DOM and the developer to help debug, maintain, and provide general use.</li><li name="6747" id="6747" class="graf graf--li graf-after--li">Due to this usage, React handles web pages much more intelligently; making it one of the speediest Front End Libraries available.</li></ul><h3 name="3b00" id="3b00" class="graf graf--h3 graf-after--li">ES6 Refresher</h3><p name="28e6" id="28e6" class="graf graf--p graf-after--h3">Exporting one item per file</p><ul class="postList"><li name="5538" id="5538" class="graf graf--li graf-after--p">Use <code class="markup--code markup--li-code">export default</code> statement in ES6 to export an item. ES6</li></ul><pre name="b94c" id="b94c" class="graf graf--pre graf-after--li">export default class Wallet {<br>  // ...<br>}<br>// sayHello will not be exported<br>function sayHello() {<br>  console.log(&quot;Hello!&quot;);<br>}</pre><p name="2723" id="2723" class="graf graf--p graf-after--pre">CommonJS (Equivalent)</p><pre name="debb" id="debb" class="graf graf--pre graf-after--p">class Wallet {<br>  // ...<br>}<br>// sayHello will not be exported<br>function sayHello() {<br>  console.log(&quot;Hello!&quot;);<br>}<br>module.exports = Wallet;</pre><p name="99fe" id="99fe" class="graf graf--p graf-after--pre">Exporting multiple items per file</p><ul class="postList"><li name="9a6e" id="9a6e" class="graf graf--li graf-after--p">Use just thw <code class="markup--code markup--li-code">export</code> keyword (without default) to export multiple items per file. ES6 (Better to export them individually like this, rather than bunching them all into an object)</li></ul><pre name="2bcc" id="2bcc" class="graf graf--pre graf-after--li">export class Wallet {<br>  // ...<br>}<br>export function sayHello() {<br>  console.log(&quot;Hello!&quot;);<br>}<br>export const sayHi = () =&gt; {<br>  console.log(&quot;Hi!&quot;);<br>};<br>class Wallet {<br>  // ...<br>}<br>function sayHello() {<br>  console.log(&quot;Hello!&quot;);<br>}<br>const sayHi = () =&gt; {<br>  console.log(&quot;Hi!&quot;);<br>};<br>export { Wallet, sayHello, sayHi };</pre><p name="8e24" id="8e24" class="graf graf--p graf-after--pre">CommonJS (Equivalent)</p><pre name="fd37" id="fd37" class="graf graf--pre graf-after--p">class Wallet {<br>  // ...<br>}<br>function sayHello() {<br>  console.log(&quot;Hello!&quot;);<br>}<br>const sayHi = () =&gt; {<br>  console.log(&quot;Hi!&quot;);<br>};<br>module.exports = {<br>  Wallet,<br>  sayHello,<br>  sayHi,<br>};</pre><p name="692f" id="692f" class="graf graf--p graf-after--pre">Importing with ES6 vs CommonJS</p><figure name="5d0e" id="5d0e" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="0*7EZESKf0XPbncXAY" data-width="809" data-height="139" src="https://cdn-images-1.medium.com/max/800/0*7EZESKf0XPbncXAY"></figure><ul class="postList"><li name="18b1" id="18b1" class="graf graf--li graf-after--figure">Import statements in ES6 modules must always be at the top of the file, because all imports must occur before the rest of the file’s code runs. ES6</li></ul><pre name="d9d4" id="d9d4" class="graf graf--pre graf-after--li">import { Wallet } from &quot;./wallet&quot;;<br>import * as fs from &quot;fs&quot;;<br>const wallet = new Wallet();</pre><p name="b335" id="b335" class="graf graf--p graf-after--pre">CommonJS</p><pre name="52bf" id="52bf" class="graf graf--pre graf-after--p">let { Wallet } = require(&quot;./wallet&quot;);<br>const wallet = new Wallet();<br>let fs = require(&quot;fs&quot;);</pre><p name="de62" id="de62" class="graf graf--p graf-after--pre">Unnamed default imports</p><ul class="postList"><li name="75e2" id="75e2" class="graf graf--li graf-after--p">You can name unnamed items exported with export default any name when you import them.</li></ul><pre name="482f" id="482f" class="graf graf--pre graf-after--li">// exporting<br>export default class Wallet {<br>  // ...<br>}<br>// importing<br>import Money from &quot;wallet.js&quot;;<br>const wallet = new Money();</pre><ul class="postList"><li name="5042" id="5042" class="graf graf--li graf-after--pre">Just remember if you use <code class="markup--code markup--li-code">export</code> instead of <code class="markup--code markup--li-code">export default</code> then your import is already named and cannot be renamed.</li></ul><pre name="8e9a" id="8e9a" class="graf graf--pre graf-after--li">// exporting<br>export class Wallet {<br>  // ...<br>}<br>// importing<br>import { Wallet } from &quot;wallet.js&quot;;<br>const wallet = new Wallet();</pre><p name="02f1" id="02f1" class="graf graf--p graf-after--pre">Aliasing imports</p><ul class="postList"><li name="3535" id="3535" class="graf graf--li graf-after--p">Use as asterisk to import an entire module’s contents.</li><li name="3f1c" id="3f1c" class="graf graf--li graf-after--li">Keep in mind you must use an <code class="markup--code markup--li-code">as</code> keyword to refer to it later.</li></ul><pre name="3271" id="3271" class="graf graf--pre graf-after--li">// export<br>export function sayHello() {<br>  console.log(&quot;Hello!&quot;);<br>}<br>export const sayHi = () =&gt; {<br>  console.log(&quot;Hi!&quot;);<br>};<br>//import<br>import * as Greetings from &quot;greetings.js&quot;;<br>Greetings.sayHello(); // Hello!<br>Greetings.sayHi(); // Hi!</pre><ul class="postList"><li name="bfbc" id="bfbc" class="graf graf--li graf-after--pre">You can also name identically named functions or items from different files.</li></ul><pre name="1514" id="1514" class="graf graf--pre graf-after--li">import { Wallet as W1 } from &quot;./wallet1&quot;;<br>import { Wallet as W2 } from &quot;./wallet2&quot;;<br>const w1 = new W1();<br>const w2 = new W2();</pre><p name="815c" id="815c" class="graf graf--p graf-after--pre">Browser support for ES6 Modules</p><ul class="postList"><li name="69b4" id="69b4" class="graf graf--li graf-after--p">ES6 Modules can only be used when a JS file is specified as a module. <code class="markup--code markup--li-code">&lt;script type=&quot;module&quot; src=&quot;./wallet.js&quot;&gt;&lt;/script&gt;</code></li><li name="4f5c" id="4f5c" class="graf graf--li graf-after--li graf--trailing">You can get browser support for ES6 modules by adding module into your script tag.</li></ul></div></div></section><section name="4d94" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="ea8b" id="ea8b" class="graf graf--h3 graf--leading">Notes</h3><h3 name="f19c" id="f19c" class="graf graf--h3 graf-after--h3">JSX In Depth</h3><ul class="postList"><li name="2a0d" id="2a0d" class="graf graf--li graf-after--h3">Remember that JSX is just syntactic sugar for the built in <code class="markup--code markup--li-code">React.createElement(component, props, ...children)</code></li><li name="1532" id="1532" class="graf graf--li graf-after--li">React Library must always be in scope from your JSX code.</li><li name="72b2" id="72b2" class="graf graf--li graf-after--li">Use Dot Notation for JSX Type</li><li name="0cbc" id="0cbc" class="graf graf--li graf-after--li">User-Defined Components Must Be Capitalized <code class="markup--code markup--li-code">&lt;Foo /&gt;</code> vs <code class="markup--code markup--li-code">&lt;div&gt;</code></li><li name="553a" id="553a" class="graf graf--li graf-after--li">Cannot use a general expression as the React element type. (<code class="markup--code markup--li-code">Incorrect</code>)</li></ul><pre name="a543" id="a543" class="graf graf--pre graf-after--li">function Story(props) {<br>  // Wrong! JSX type can&#39;t be an expression.<br>    return &lt;components[props.storyType] story={props.story} /&gt;;<br>  };</pre><p name="9fd8" id="9fd8" class="graf graf--p graf-after--pre">(<code class="markup--code markup--p-code">Corrected</code>)</p><pre name="66c1" id="66c1" class="graf graf--pre graf-after--p">function Story(props) {<br>  // Correct! JSX type can be a capitalized variable.<br>  const SpecificStory = components[props.storyType];<br>  return &lt;SpecificStory story={props.story} /&gt;;<br>}</pre><p name="0327" id="0327" class="graf graf--p graf-after--pre">Props in JSX</p><ul class="postList"><li name="e549" id="e549" class="graf graf--li graf-after--p">Several ways to specify props in JSX.</li><li name="257d" id="257d" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Javascript Expressions as Props</code></li></ul><pre name="9959" id="9959" class="graf graf--pre graf-after--li">&lt;MyComponent foo={1 + 2 + 3 + 4} /&gt;</pre><ul class="postList"><li name="57f8" id="57f8" class="graf graf--li graf-after--pre"><code class="markup--code markup--li-code">String Literals</code></li></ul><pre name="fbde" id="fbde" class="graf graf--pre graf-after--li">&lt;MyComponent message=&quot;hello world&quot; /&gt; &lt;MyComponent message={&#39;hello world&#39;} /&gt; &lt;MyComponent message=&quot;&amp;lt;3&quot; /&gt; &lt;MyComponent message={&#39;❤&#39;} /&gt;</pre><ul class="postList"><li name="48df" id="48df" class="graf graf--li graf-after--pre"><code class="markup--code markup--li-code">Props Default to “True”</code></li></ul><pre name="b404" id="b404" class="graf graf--pre graf-after--li">&lt;MyTextBox autocomplete /&gt; &lt;MyTextBox autocomplete={true} /&gt;</pre><ul class="postList"><li name="2072" id="2072" class="graf graf--li graf-after--pre"><code class="markup--code markup--li-code">Spread Attributes</code></li></ul><pre name="ec29" id="ec29" class="graf graf--pre graf-after--li">function App1() { return &lt;Greeting firstName=&quot;Ben&quot; lastName=&quot;Hector&quot; /&gt;; } function App2() { const props = { firstName: &quot;Ben&quot;, lastName: &quot;Hector&quot; }; return &lt;Greeting {…props} /&gt;; }</pre><p name="7570" id="7570" class="graf graf--p graf-after--pre">Children in JSX</p><ul class="postList"><li name="2238" id="2238" class="graf graf--li graf-after--p"><code class="markup--code markup--li-code">props.children</code> : The content between opening and closing tag. JavaScript Expressions as Children</li></ul><pre name="39b1" id="39b1" class="graf graf--pre graf-after--li">function Item(props) {<br>  return &lt;li&gt;{props.message}&lt;/li&gt;;<br>}<br>function TodoList() {<br>  const todos = [&quot;finish doc&quot;, &quot;submit pr&quot;, &quot;nag dan to review&quot;];<br>  return (<br>    &lt;ul&gt;<br>      {todos.map((message) =&gt; (<br>        &lt;Item key={message} message={message} /&gt;<br>      ))}<br>    &lt;/ul&gt;<br>  );<br>}</pre><p name="2cf6" id="2cf6" class="graf graf--p graf-after--pre">Functions as Children</p><ul class="postList"><li name="bf0a" id="bf0a" class="graf graf--li graf-after--p"><code class="markup--code markup--li-code">props.children</code> works like any other prop, meaning it can pass any sort of data.</li></ul><pre name="5be7" id="5be7" class="graf graf--pre graf-after--li">// Calls the children callback numTimes to produce a repeated component<br>function Repeat(props) {<br>  let items = [];<br>  for (let i = 0; i &lt; props.numTimes; i++) {<br>    items.push(props.children(i));<br>  }<br>  return &lt;div&gt;{items}&lt;/div&gt;;<br>}<br>function ListOfTenThings() {<br>  return (<br>    &lt;Repeat numTimes={10}&gt;<br>      {(index) =&gt; &lt;div key={index}&gt;This is item {index} in the list&lt;/div&gt;}<br>    &lt;/Repeat&gt;<br>  );<br>}</pre><p name="adbd" id="adbd" class="graf graf--p graf-after--pre">Booleans, Null, and Undefined Are Ignored</p><ul class="postList"><li name="7017" id="7017" class="graf graf--li graf-after--p"><code class="markup--code markup--li-code">false</code>, <code class="markup--code markup--li-code">null</code>, <code class="markup--code markup--li-code">undefined</code>, and <code class="markup--code markup--li-code">true</code> are all valid children.</li><li name="5af2" id="5af2" class="graf graf--li graf-after--li">They will not render.</li><li name="10dc" id="10dc" class="graf graf--li graf-after--li">You can use these to conditionally render items.</li></ul><pre name="af56" id="af56" class="graf graf--pre graf-after--li">&lt;div&gt;<br>  {showHeader &amp;&amp; &lt;Header /&gt;}<br>  &lt;Content /&gt;<br>&lt;/div&gt;</pre><ul class="postList"><li name="fa28" id="fa28" class="graf graf--li graf-after--pre">In this example, the component will only render if <code class="markup--code markup--li-code">showHeader</code> evals to True.</li></ul><pre name="4c85" id="4c85" class="graf graf--pre graf-after--li">// Before work-around<br>&lt;div&gt;<br>  {props.messages.length &amp;&amp;<br>    &lt;MessageList messages={props.messages} /&gt;<br>  }<br>&lt;/div&gt;<br>// After work-around<br>&lt;div&gt;<br>  {props.messages.length &gt; 0 &amp;&amp;<br>    &lt;MessageList messages={props.messages} /&gt;<br>  }<br>&lt;/div&gt;</pre><ul class="postList"><li name="3701" id="3701" class="graf graf--li graf-after--pre">Note that certain falsy values such as zero will still be rendered by React, you can work around this by ensuring situations like the above eval. into a boolean.</li><li name="9586" id="9586" class="graf graf--li graf-after--li">In the times you want booleans to be rendered out, simply convert it into a string first.</li></ul><pre name="9143" id="9143" class="graf graf--pre graf-after--li">&lt;div&gt;My JavaScript variable is {String(myVariable)}.&lt;/div&gt;</pre><h3 name="5256" id="5256" class="graf graf--h3 graf-after--pre">Reconciliation</h3><p name="826d" id="826d" class="graf graf--p graf-after--h3">The Diffing Algorithm</p><ul class="postList"><li name="76c4" id="76c4" class="graf graf--li graf-after--p"><code class="markup--code markup--li-code">Diffing</code> : When the state of a component changes React creates a new virtual DOM tree.</li><li name="9a73" id="9a73" class="graf graf--li graf-after--li">Elements of Different Types</li><li name="d680" id="d680" class="graf graf--li graf-after--li">Every time the root elements have different types, React tears down the old tree and builds the new tree from scratch.</li><li name="84a6" id="84a6" class="graf graf--li graf-after--li">DOM Elements Of the Same Type</li><li name="4b94" id="4b94" class="graf graf--li graf-after--li">When comparing two DOM elements of the same type, React keeps the same underlying DOM node and only updates the changes attributes.</li></ul><pre name="ea23" id="ea23" class="graf graf--pre graf-after--li">&lt;div className=”before” title=”stuff” /&gt; &lt;div className=”after” title=”stuff” /&gt;</pre><pre name="4212" id="4212" class="graf graf--pre graf-after--pre">&lt;div style={{ color: “red”, fontWeight: “bold” }} /&gt; &lt;div style={{color: ‘green’, fontWeight: ‘bold’}} /&gt;</pre><ul class="postList"><li name="0a0c" id="0a0c" class="graf graf--li graf-after--pre">Component Elements Of The Same Type</li><li name="cf3a" id="cf3a" class="graf graf--li graf-after--li">When components update, instances will remain the same, so that state maintains across renders.</li><li name="b8ab" id="b8ab" class="graf graf--li graf-after--li">React will only update the props, to match the new element.</li><li name="82f3" id="82f3" class="graf graf--li graf-after--li">Recursing On Children</li><li name="4a59" id="4a59" class="graf graf--li graf-after--li">React will iterate both lists of children and generate a mutation whenever there’s a difference.</li><li name="74a8" id="74a8" class="graf graf--li graf-after--li">This is why we use <code class="markup--code markup--li-code">keys</code>.</li><li name="381c" id="381c" class="graf graf--li graf-after--li">Makes it easier for React to match children in the original tree with children in the subsequent tree.</li><li name="f1f5" id="f1f5" class="graf graf--li graf-after--li">Tradeoffs</li><li name="e98a" id="e98a" class="graf graf--li graf-after--li">Important to remember that reconciliation algorithm is an <em class="markup--em markup--li-em">implementation detail</em>.</li><li name="7f57" id="7f57" class="graf graf--li graf-after--li">Re-rendering only to apply the differences following the rules stated in the previous sections.</li></ul><h3 name="3c5c" id="3c5c" class="graf graf--h3 graf-after--li">Typechecking With PropTypes</h3><ul class="postList"><li name="0bc0" id="0bc0" class="graf graf--li graf-after--h3">As your application grows, you can use React’s <code class="markup--code markup--li-code">typechecking</code> to catch bugs.</li><li name="638c" id="638c" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">propTypes</code> is a special property to run typechecking.</li><li name="e725" id="e725" class="graf graf--li graf-after--li">exports range of built in validators to ensure your received data is valid.</li><li name="f590" id="f590" class="graf graf--li graf-after--li">propTypes is only checked in development mode.</li></ul><pre name="0a4d" id="0a4d" class="graf graf--pre graf-after--li">import PropTypes from &quot;prop-types&quot;;<br>class Greeting extends React.Component {<br>  render() {<br>    return &lt;h1&gt;Hello, {this.props.name}&lt;/h1&gt;;<br>  }<br>}<br>Greeting.propTypes = {<br>  name: PropTypes.string,<br>};</pre><p name="9aa3" id="9aa3" class="graf graf--p graf-after--pre">Requiring Single Child</p><ul class="postList"><li name="e2db" id="e2db" class="graf graf--li graf-after--p">Use <code class="markup--code markup--li-code">PropTypes.element</code> to specify only a single child can be passed to a component as children.</li></ul><pre name="b42a" id="b42a" class="graf graf--pre graf-after--li">import PropTypes from &quot;prop-types&quot;;<br>class MyComponent extends React.Component {<br>  render() {<br>    // This must be exactly one element or it will warn.<br>    const children = this.props.children;<br>    return &lt;div&gt;{children}&lt;/div&gt;;<br>  }<br>}<br>MyComponent.propTypes = {<br>  children: PropTypes.element.isRequired,<br>};</pre><p name="df20" id="df20" class="graf graf--p graf-after--pre">Default Prop Values</p><ul class="postList"><li name="7d3d" id="7d3d" class="graf graf--li graf-after--p">Use <code class="markup--code markup--li-code">defaultProps</code> to assign default values for props.</li></ul><pre name="466d" id="466d" class="graf graf--pre graf-after--li">class Greeting extends React.Component {<br>  render() {<br>    return &lt;h1&gt;Hello, {this.props.name}&lt;/h1&gt;;<br>  }<br>}<br>// Specifies the default values for props:<br>Greeting.defaultProps = {<br>  name: &quot;Stranger&quot;,<br>};<br>// Renders &quot;Hello, Stranger&quot;:<br>ReactDOM.render(&lt;Greeting /&gt;, document.getElementById(&quot;example&quot;));</pre><pre name="41a5" id="41a5" class="graf graf--pre graf-after--pre graf--trailing">class Greeting extends React.Component {<br>  static defaultProps = {<br>    name: &#39;stranger&#39;<br>  }<br>  render() {<br>    return (<br>      &lt;div&gt;Hello, {this.props.name}&lt;/div&gt;<br>    )<br>  }</pre></div></div></section><section name="81d6" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="681f" id="681f" class="graf graf--h3 graf--leading">Notes</h3><h3 name="4c4d" id="4c4d" class="graf graf--h3 graf-after--h3">React Router Introduction</h3><ul class="postList"><li name="48a7" id="48a7" class="graf graf--li graf-after--h3"><code class="markup--code markup--li-code">React Router</code> is the answer for rendering different components for different pages.</li><li name="78b3" id="78b3" class="graf graf--li graf-after--li">A front-end library that allows you to control which components to display using the browser location.</li><li name="aa2a" id="aa2a" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Client-side Routing</code> Getting started with routing</li><li name="0940" id="0940" class="graf graf--li graf-after--li">Install React Router with:</li><li name="742a" id="742a" class="graf graf--li graf-after--li">npm install — save react-router-dom@⁵.1.2</li><li name="f07f" id="f07f" class="graf graf--li graf-after--li">Import <code class="markup--code markup--li-code">Browser Router</code> from package.</li><li name="9e4e" id="9e4e" class="graf graf--li graf-after--li">import { BrowserRouter } from “react-router-dom”;</li><li name="cb01" id="cb01" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">BrowserRouter</code> is the primary component of the router that wraps your route hierarchy.</li><li name="adfa" id="adfa" class="graf graf--li graf-after--li">Wrap it around components.</li><li name="0276" id="0276" class="graf graf--li graf-after--li">Creates a <code class="markup--code markup--li-code">React Context</code> that passes routing information down to all its descendant components.</li><li name="dd45" id="dd45" class="graf graf--li graf-after--li">You can also use <code class="markup--code markup--li-code">HashRouter</code>, where it would generate a hash before the endpoint. Creating frontend routes</li><li name="37c2" id="37c2" class="graf graf--li graf-after--li">React Router helps your app render specific components based on the URL.</li><li name="54c4" id="54c4" class="graf graf--li graf-after--li">The most common component is <code class="markup--code markup--li-code">&lt;Route&gt;</code></li><li name="500a" id="500a" class="graf graf--li graf-after--li">Wrapped around another component, causing the comp. to only render if the a certain URL is matched.</li><li name="5a94" id="5a94" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Props</code> : path, component, exact, and [render]</li><li name="9f06" id="9f06" class="graf graf--li graf-after--li">Browser Router can only have a single child component.</li><li name="6305" id="6305" class="graf graf--li graf-after--li">The Browser Router wraps all routes within a parent div element.</li></ul><pre name="5816" id="5816" class="graf graf--pre graf-after--li">const Root = () =&gt; {<br>  const users = {<br>    1: { name: &quot;Andrew&quot; },<br>    2: { name: &quot;Raymond&quot; },<br>  };<br>  return (<br>    &lt;BrowserRouter&gt;<br>      &lt;div&gt;<br>        &lt;h1&gt;Hi, I&#39;m Root!&lt;/h1&gt;<br>        &lt;Route exact path=&quot;/&quot; component={App} /&gt;<br>        &lt;Route path=&quot;/hello&quot; render={() =&gt; &lt;h1&gt;Hello!&lt;/h1&gt;} /&gt;<br>        &lt;Route path=&quot;/users&quot; render={() =&gt; &lt;Users users={users} /&gt;} /&gt;<br>      &lt;/div&gt;<br>    &lt;/BrowserRouter&gt;<br>  );<br>};</pre><ul class="postList"><li name="c057" id="c057" class="graf graf--li graf-after--pre">component</li><li name="2dcc" id="2dcc" class="graf graf--li graf-after--li">Indicates component to render.</li><li name="740c" id="740c" class="graf graf--li graf-after--li">path</li><li name="3030" id="3030" class="graf graf--li graf-after--li">Indicates path to render a specific component.</li><li name="0741" id="0741" class="graf graf--li graf-after--li">exact</li><li name="52cb" id="52cb" class="graf graf--li graf-after--li">Tells route to not pattern match and only render a certain route exclusively to it’s associated component.</li><li name="cb93" id="cb93" class="graf graf--li graf-after--li">render</li><li name="c702" id="c702" class="graf graf--li graf-after--li">Optional prop that takes in a function to be called.</li><li name="594b" id="594b" class="graf graf--li graf-after--li">Causes extra work for React.</li><li name="5320" id="5320" class="graf graf--li graf-after--li">Preferred for inline rendering of simple functional components.</li><li name="0d3e" id="0d3e" class="graf graf--li graf-after--li">Difference between <code class="markup--code markup--li-code">component</code> and <code class="markup--code markup--li-code">render</code> is that component returns new JSX that be re-mounted, but render returns the JSX that will be mounted only once.</li><li name="4a08" id="4a08" class="graf graf--li graf-after--li">// This inline rendering will work, but is unnecessarily slow. &lt;Route path=”/hello” component={() =&gt; &lt;h1&gt;Hello!&lt;/h1&gt;} /&gt; // This is the preferred way for inline rendering. &lt;Route path=”/hello” render={() =&gt; &lt;h1&gt;Hello!&lt;/h1&gt;} /&gt;</li><li name="a2d3" id="a2d3" class="graf graf--li graf-after--li">Also useful if you need to pass in specific props to a component.</li><li name="e09f" id="e09f" class="graf graf--li graf-after--li">// `users` to be passed as a prop: const users = { 1: { name: “Andrew” }, 2: { name: “Raymond” }, }; &lt;Route path=”/users” render={() =&gt; &lt;Users users={users} /&gt;} /&gt;;</li></ul><p name="50c5" id="50c5" class="graf graf--p graf-after--li">Route path params</p><ul class="postList"><li name="3d09" id="3d09" class="graf graf--li graf-after--p">Your component’s props can hold information about URL’s parameters.</li><li name="52f3" id="52f3" class="graf graf--li graf-after--li">Will match segments starting at <code class="markup--code markup--li-code">:</code> to the next <code class="markup--code markup--li-code">/</code>, <code class="markup--code markup--li-code">?</code>, <code class="markup--code markup--li-code">#</code>.</li></ul><pre name="ee47" id="ee47" class="graf graf--pre graf-after--li">&lt;Route<br>  path=&quot;/users/:userId&quot;<br>  render={(props) =&gt; &lt;Profile users={users} {...props} /&gt;}<br>/&gt;</pre><ul class="postList"><li name="f2b4" id="f2b4" class="graf graf--li graf-after--pre"><code class="markup--code markup--li-code">{...props}</code> spreads out the router&#39;s props.</li><li name="1edb" id="1edb" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">props.match.params</code> is used to access the match prop&#39;s parameters.</li><li name="b6a9" id="b6a9" class="graf graf--li graf-after--li">Useful keys on the <code class="markup--code markup--li-code">match</code> object:</li><li name="290f" id="290f" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">isExact</code> : boolean that tells you whether or not the URL exactly matches the path.</li><li name="27ea" id="27ea" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">url</code> : the currentURL</li><li name="b979" id="b979" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">path</code> : Route path it matched against (w/o wildcards)</li><li name="6c59" id="6c59" class="graf graf--li graf-after--li graf--trailing"><code class="markup--code markup--li-code">params</code> : Matches for the individual wildcard segments.</li></ul></div></div></section><section name="34ec" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="0ad8" id="0ad8" class="graf graf--h3 graf--leading">Navigation</h3><p name="4120" id="4120" class="graf graf--p graf-after--h3">React Router Navigation</p><ul class="postList"><li name="a548" id="a548" class="graf graf--li graf-after--p"><code class="markup--code markup--li-code">Link</code>, <code class="markup--code markup--li-code">NavLink</code>, <code class="markup--code markup--li-code">Redirect</code>, <code class="markup--code markup--li-code">history</code> props of React Router are used to help your user navigate routes. Adding links for navigation</li><li name="643f" id="643f" class="graf graf--li graf-after--li">Issues on-click navigation event to a route defined in app.</li><li name="949d" id="949d" class="graf graf--li graf-after--li">Usage renders an anchor tag with a correctly set <code class="markup--code markup--li-code">href</code> attribute.</li></ul><pre name="451d" id="451d" class="graf graf--pre graf-after--li">import { BrowserRouter, Route, Link } from &quot;react-router-dom&quot;;</pre><ul class="postList"><li name="b5a5" id="b5a5" class="graf graf--li graf-after--pre"><code class="markup--code markup--li-code">Link</code> takes two properties: <code class="markup--code markup--li-code">to</code> and <code class="markup--code markup--li-code">onClick</code>.</li><li name="995b" id="995b" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">to</code> : route location that points to an absolute path.</li><li name="978c" id="978c" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">onClick</code> : clickHandler.</li><li name="b8c0" id="b8c0" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">NavLink</code> works just like <code class="markup--code markup--li-code">Link</code> but has a bit of extra functionality.</li><li name="6334" id="6334" class="graf graf--li graf-after--li">Adds extra styling, when the path it links to matches the current path.</li><li name="07b8" id="07b8" class="graf graf--li graf-after--li">As it’s name suggests, it is used to Nav Bars.</li><li name="8a33" id="8a33" class="graf graf--li graf-after--li">Takes three props:</li><li name="e501" id="e501" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">activeClassName</code> : allows you to set a CSS class name for styling. (default set to &#39;active&#39;)</li><li name="81da" id="81da" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">activeStyle</code> : style object that is applied inline when it&#39;s <code class="markup--code markup--li-code">to</code> prop. matches the current URL.</li><li name="8c71" id="8c71" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">exact</code> prop is a boolean that defaults to false; you can set it to true to apply requirement of an exact URL match.</li><li name="755b" id="755b" class="graf graf--li graf-after--li">exact can also be used as a flag instead of a reg. property value.</li><li name="dd12" id="dd12" class="graf graf--li graf-after--li">benefit of adding this is so that you don’t trigger other matches. Switching between routes</li><li name="4fb6" id="4fb6" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">&lt;Switch&gt;</code> : Component allows you to only render one route even if several match the current URL.</li><li name="7be7" id="7be7" class="graf graf--li graf-after--li">You may nest as many routes as you wish but only the first match of the current URL will be rendered.</li><li name="3f8a" id="3f8a" class="graf graf--li graf-after--li">Very useful if we want a default component to render if none of our routes match.</li></ul><pre name="c194" id="c194" class="graf graf--pre graf-after--li">&lt;Switch&gt;<br>  &lt;Route path=&quot;some/url&quot; component={SomeComponent} /&gt;<br>  &lt;Route path=&quot;some/other/url&quot; component={OtherComponent} /&gt;<br>  &lt;Route component={DefaultComponent} /&gt;<br>&lt;/Switch&gt;</pre><ul class="postList"><li name="b901" id="b901" class="graf graf--li graf-after--pre"><code class="markup--code markup--li-code">DefaultComponent</code> will only render if none of the other URLs match up.</li><li name="21a3" id="21a3" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">&lt;Redirect&gt;</code> : Helps redirect users.</li><li name="ee88" id="ee88" class="graf graf--li graf-after--li">Only takes a single prop: <code class="markup--code markup--li-code">to</code>.</li></ul><pre name="68e9" id="68e9" class="graf graf--pre graf-after--li">&lt;Route<br>  exact<br>  path=&quot;/&quot;<br>  render={() =&gt; (this.props.currentUser ? &lt;Home /&gt; : &lt;Redirect to=&quot;/login&quot; /&gt;)}<br>/&gt;</pre><p name="384c" id="384c" class="graf graf--p graf-after--pre">History</p><ul class="postList"><li name="6456" id="6456" class="graf graf--li graf-after--p"><code class="markup--code markup--li-code">History</code> allows you to update the URL programmatically.</li><li name="bac6" id="bac6" class="graf graf--li graf-after--li">Contains two useful methods:</li><li name="9b00" id="9b00" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">push</code> : Adds a new URL to the end of the history stack.</li><li name="d539" id="d539" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">replace</code> : Replaces the current URL on the history stack, so the back button won&#39;t take you to it.</li></ul><pre name="e584" id="e584" class="graf graf--pre graf-after--li graf--trailing">// Pushing a new URL (and adding to the end of history stack):<br>const handleClick = () =&gt; this.props.history.push(&quot;/some/url&quot;);<br>// Replacing the current URL (won&#39;t be tracked in history stack):<br>const redirect = () =&gt; this.props.history.replace(&quot;/some/other/url&quot;);</pre></div></div></section><section name="dbd2" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="7306" id="7306" class="graf graf--h3 graf--leading">Nested Routes</h3><p name="e8d8" id="e8d8" class="graf graf--p graf-after--h3">Why nested routes?</p><ul class="postList"><li name="6403" id="6403" class="graf graf--li graf-after--p">Create routes that tunnel into main components vs getting rendered on the main page as it’s own thing. What are nested routes?</li></ul><pre name="861c" id="861c" class="graf graf--pre graf-after--li">const Profile = (props) =&gt; {<br>  // Custom call to database to fetch a user by a user ID.<br>  const user = fetchUser(props.match.params.userId);<br>  const { name, id } = user;<br>  return (<br>    &lt;div&gt;<br>      &lt;h1&gt;Welcome to the profile of {name}!&lt;/h1&gt;<br>      &lt;Link to={`/users/${id}/posts`}&gt;{name}&#39;s Posts&lt;/Link&gt;<br>      &lt;Link to={`/users/${id}/photos`}&gt;{name}&#39;s Photos&lt;/Link&gt;<br>      &lt;Route path=&quot;/users/:userId/posts&quot; component={UserPosts} /&gt;<br>      &lt;Route path=&quot;/users/:userId/photos&quot; component={UserPhotos} /&gt;<br>    &lt;/div&gt;<br>  );<br>};</pre><p name="1079" id="1079" class="graf graf--p graf-after--pre">Alt. version using <code class="markup--code markup--p-code">props.match</code></p><pre name="e026" id="e026" class="graf graf--pre graf-after--p">// Destructure `match` prop<br>const Profile = ({ match: { url, path, params }) =&gt; {<br>  // Custom call to database to fetch a user by a user ID.<br>  const user = fetchUser(params.userId);<br>  const { name, id } = user;<br>  return (<br>    &lt;div&gt;<br>      &lt;h1&gt;Welcome to the profile of {name}!&lt;/h1&gt;<br>      &lt;Link to={`${url}/posts`}&gt;{name}&#39;s Posts&lt;/Link&gt;<br>      &lt;Link to={`${url}/photos`}&gt;{name}&#39;s Photos&lt;/Link&gt;<br>      &lt;Route path={`${path}/posts`} component={UserPosts} /&gt;<br>      &lt;Route path={`${path}/photos`} component={UserPhotos} /&gt;<br>    &lt;/div&gt;}<br>  );<br>};</pre><ul class="postList"><li name="03fb" id="03fb" class="graf graf--li graf-after--pre graf--trailing">As you can see above, our end URL isn’t even defined until we apply those flexible values in.</li></ul></div></div></section><section name="c1de" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="9deb" id="9deb" class="graf graf--h3 graf--leading">React Builds</h3><ul class="postList"><li name="0fae" id="0fae" class="graf graf--li graf-after--h3"><code class="markup--code markup--li-code">Build</code> : Process of converting code into something that can actually execute or run on the target platform.</li><li name="6fdb" id="6fdb" class="graf graf--li graf-after--li">In regards to React, the minimum a build should do is convert JSX to something that browsers can understand. Reviewing common terminology</li><li name="779d" id="779d" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Linting</code> : Process of using a tool to analyze your code to catch common errors, bugs, inconsistencies etc...</li><li name="f1e5" id="f1e5" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Transpilation</code> : Process of converting source code, like JS, from one version to another.</li><li name="9f9f" id="9f9f" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Minification</code> : Process of removing all unnecessary characters in your code.</li><li name="57df" id="57df" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Bundling</code> : Process of combining multiple code files into a single file.</li><li name="d052" id="d052" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Tree Shaking</code> : Process of removing unused or dead code from your application before it&#39;s bundled. Configuration or code?</li><li name="ce13" id="ce13" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Configuration</code> allows developers to create build tasks by declaring either JSON, XML, or YAML without explicitly writing every step in the process.</li><li name="16a6" id="16a6" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Coding</code> or <code class="markup--code markup--li-code">Scripting</code> simply requires code. Babel and webpack (yes, that&#39;s intentionally a lowercase &#39;w&#39;)</li><li name="4363" id="4363" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Babel</code> : Code Transpiler that allows you to use all of the latest features and syntax wihtout worrying about what browsers support what.</li><li name="804b" id="804b" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">webpack</code> : Allows developers to use JS modules w/o requiring users to use a browser that natively supports ES modules.</li><li name="77f2" id="77f2" class="graf graf--li graf-after--li">Create React App uses webpack and Babel under the hood to build applications. The Create React App build process</li><li name="222f" id="222f" class="graf graf--li graf-after--li">What happens when you run <code class="markup--code markup--li-code">npm start</code>:</li></ul><ol class="postList"><li name="d245" id="d245" class="graf graf--li graf-after--li">.env variables are loaded.</li><li name="6209" id="6209" class="graf graf--li graf-after--li">list of browsers to support are checked.</li><li name="1c34" id="1c34" class="graf graf--li graf-after--li">config’d HTTP port checked for availability.</li><li name="950b" id="950b" class="graf graf--li graf-after--li">application compiler is configured and created.</li><li name="8e30" id="8e30" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">webpack-dev-starter</code> is started</li><li name="48cc" id="48cc" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">webpack-dev-starter</code> compiles app.</li><li name="68ad" id="68ad" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">index.html</code> is loaded into browser</li><li name="e670" id="e670" class="graf graf--li graf-after--li">file watcher is started to watch for changes. Ejecting</li></ol><ul class="postList"><li name="428b" id="428b" class="graf graf--li graf-after--li">There is a script in Create React App called <code class="markup--code markup--li-code">eject</code> that allows you to &#39;eject&#39; your application and expose all the hidden stuff. Preparing to deploy a React application for production</li><li name="eb79" id="eb79" class="graf graf--li graf-after--li">Defining Env Variables</li></ul><pre name="4790" id="4790" class="graf graf--pre graf-after--li"><code class="markup--code markup--pre-code">REACT_APP_FOO: some value<br>REACT_APP_BAR: another value</code></pre><pre name="bb7b" id="bb7b" class="graf graf--pre graf-after--pre">console.log(process.env.REACT_APP_FOO);</pre><pre name="a1ca" id="a1ca" class="graf graf--pre graf-after--pre">Can be referenced in your index.html like so: &lt;title&gt;%REACT_APP_BAR%&lt;/title&gt;</pre><p name="34d9" id="34d9" class="graf graf--p graf-after--pre">Configuring the supported browsers</p><pre name="b12c" id="b12c" class="graf graf--pre graf-after--p">{<br>  &quot;browserslist&quot;: {<br>    &quot;production&quot;: [<br>      &quot;&gt;0.2%&quot;,<br>      &quot;not dead&quot;,<br>      &quot;not op_mini all&quot;<br>    ],<br>    &quot;development&quot;: [<br>      &quot;last 1 chrome version&quot;,<br>      &quot;last 1 firefox version&quot;,<br>      &quot;last 1 safari version&quot;<br>    ]<br>  }<br>}</pre><ul class="postList"><li name="8a03" id="8a03" class="graf graf--li graf-after--pre">If you specify older browsers it will affect how your code get’s transpiled. Creating a production build</li><li name="fee3" id="fee3" class="graf graf--li graf-after--li">Run <code class="markup--code markup--li-code">npm run build</code> to create a production build.</li><li name="bdaf" id="bdaf" class="graf graf--li graf-after--li graf--trailing">Bundles React in production mode and optimizes the build for the best performance.</li></ul></div></div></section><section name="52b6" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="152e" id="152e" class="graf graf--h3 graf--leading">Notes</h3><h3 name="ebbc" id="ebbc" class="graf graf--h3 graf-after--h3">Introduction to React</h3><ul class="postList"><li name="7224" id="7224" class="graf graf--li graf-after--h3">Simply a nice library that turns data into DOM.</li><li name="a9de" id="a9de" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Tree Diffing</code> : Fast comparison and patching of data by comparing the current virtual DOM and new virtual DOM - updating only the pieces that change.</li><li name="1bbc" id="1bbc" class="graf graf--li graf-after--li graf--trailing"><code class="markup--code markup--li-code">It&#39;s just a tree with some fancy diffing</code></li></ul></div></div></section><section name="e7be" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="3799" id="3799" class="graf graf--h3 graf--leading">Create Element</h3><p name="9ec1" id="9ec1" class="graf graf--p graf-after--h3">From JavaScript To DOM</p><ul class="postList"><li name="cae8" id="cae8" class="graf graf--li graf-after--p">The <code class="markup--code markup--li-code">React.createElement</code> function has the following form:</li></ul><pre name="d6ef" id="d6ef" class="graf graf--pre graf-after--li">React.createElement(type, [props], [...children]);</pre><ul class="postList"><li name="1688" id="1688" class="graf graf--li graf-after--pre"><code class="markup--code markup--li-code">Type</code> : Type of element to create, i.e. a string for an HTML element or a reference to a function or class that is a React component.</li><li name="3249" id="3249" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Props</code> : Object that contains data to render the element.</li><li name="56ab" id="56ab" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Children</code> : Children of the elemet, as many as you want. Creating elements</li><li name="ee64" id="ee64" class="graf graf--li graf-after--li">Our rendering goal:</li></ul><pre name="5e45" id="5e45" class="graf graf--pre graf-after--li">&lt;ul&gt;<br>  &lt;li class=&quot;selected&quot;&gt;<br>    &lt;a href=&quot;/pets&quot;&gt;Pets&lt;/a&gt;<br>  &lt;/li&gt;<br>  &lt;li&gt;<br>    &lt;a href=&quot;/owners&quot;&gt;Owners&lt;/a&gt;<br>  &lt;/li&gt;<br>&lt;/ul&gt;</pre><ul class="postList"><li name="eb8b" id="eb8b" class="graf graf--li graf-after--pre">There are five tags to create:</li><li name="ea28" id="ea28" class="graf graf--li graf-after--li">One <code class="markup--code markup--li-code">ul</code></li><li name="a4ba" id="a4ba" class="graf graf--li graf-after--li">Two <code class="markup--code markup--li-code">li</code></li><li name="de01" id="de01" class="graf graf--li graf-after--li">Two <code class="markup--code markup--li-code">a</code></li><li name="90b5" id="90b5" class="graf graf--li graf-after--li">There are certain attributes we want to appear in the DOM for these tags as well:</li><li name="dab5" id="dab5" class="graf graf--li graf-after--li">Each <code class="markup--code markup--li-code">li</code> has a <code class="markup--code markup--li-code">class</code> (or <code class="markup--code markup--li-code">className</code> in React)</li><li name="e88e" id="e88e" class="graf graf--li graf-after--li">Both <code class="markup--code markup--li-code">a</code> ele&#39;s have <code class="markup--code markup--li-code">href</code> attributes</li><li name="fd8c" id="fd8c" class="graf graf--li graf-after--li">Also keep in mind the parent child relationships happening between the tags.</li><li name="9893" id="9893" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">ul</code> is the parent of both <code class="markup--code markup--li-code">li</code></li><li name="eafa" id="eafa" class="graf graf--li graf-after--li">Each <code class="markup--code markup--li-code">li</code> has an <code class="markup--code markup--li-code">a</code> element as a child</li><li name="84cc" id="84cc" class="graf graf--li graf-after--li">Each <code class="markup--code markup--li-code">a</code> has a <code class="markup--code markup--li-code">text content</code> child</li></ul><figure name="d10b" id="d10b" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="0*8ls0PmtREELbf5Wm" data-width="799" data-height="350" src="https://cdn-images-1.medium.com/max/800/0*8ls0PmtREELbf5Wm"></figure><pre name="853f" id="853f" class="graf graf--pre graf-after--figure">React.createElement(<br>  &quot;ul&quot;,<br>  null,<br>  React.createElement(<br>    &quot;li&quot;,<br>    { className: &quot;selected&quot; },<br>    React.createElement(&quot;a&quot;, { href: &quot;/pets&quot; }, &quot;Pets&quot;)<br>  ),<br>  React.createElement(<br>    &quot;li&quot;,<br>    null,<br>    React.createElement(&quot;a&quot;, { href: &quot;/owners&quot; }, &quot;Owners&quot;)<br>  )<br>);</pre><p name="7565" id="7565" class="graf graf--p graf-after--pre">Converting to virtual DOM</p><ul class="postList"><li name="e7d4" id="e7d4" class="graf graf--li graf-after--p">After you set up your <code class="markup--code markup--li-code">React.createElement</code>, you use <code class="markup--code markup--li-code">React.render</code> to take the value returned from cE and a DOM node to insert into the conversion of the real DOM.</li></ul><pre name="d87c" id="d87c" class="graf graf--pre graf-after--li">// Put the element tree in a variable<br>const navList = React.createElement(<br>  &quot;ul&quot;,<br>  null,<br>  React.createElement(<br>    &quot;li&quot;,<br>    { className: &quot;selected&quot; },<br>    React.createElement(&quot;a&quot;, { href: &quot;/pets&quot; }, &quot;Pets&quot;)<br>  ),<br>  React.createElement(<br>    &quot;li&quot;,<br>    null,<br>    React.createElement(&quot;a&quot;, { href: &quot;/owners&quot; }, &quot;Owners&quot;)<br>  )<br>);<br>// Get a DOM node for React to render to<br>const mainElement = document.querySelector(&quot;main&quot;);<br>// Give React the element tree and the target<br>ReactDOM.render(navList, mainElement);</pre><ul class="postList"><li name="2cbc" id="2cbc" class="graf graf--li graf-after--pre">JS Code =&gt; Virtual DOM =&gt; Real Dom Updates</li><li name="25d5" id="25d5" class="graf graf--li graf-after--li">If you call React.render a second or multiple times it just checks the existing Virtual DOM and it knows which smaller areas to change. Thinking in Components</li><li name="fe61" id="fe61" class="graf graf--li graf-after--li">Components are pieces of reusable front-end pieces.</li><li name="bffa" id="bffa" class="graf graf--li graf-after--li graf--trailing">Components should be Single Responsibility Principle compliant.</li></ul></div></div></section><section name="8712" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="8bd3" id="8bd3" class="graf graf--h3 graf--leading">Create Element</h3><p name="9b52" id="9b52" class="graf graf--p graf-after--h3"><code class="markup--code markup--p-code">React.createElement Demo</code></p><ul class="postList"><li name="a288" id="a288" class="graf graf--li graf-after--p">Can import non-local dependencies with <code class="markup--code markup--li-code">import &#39;package-link&#39;</code></li></ul><pre name="b756" id="b756" class="graf graf--pre graf-after--li">const App = () =&gt; React.createElement(&quot;h1&quot;, null, &quot;Hello, Programmers!&quot;);<br>const target = document.querySelector(&quot;main&quot;);<br>const app = React.createElement(App, null);<br>// Give React the element tree and the target<br>ReactDOM.render(app, target);</pre><ul class="postList"><li name="0693" id="0693" class="graf graf--li graf-after--pre">Remember when importing modules from other files you have to denote the file type in the import statement. HTML Original</li></ul><pre name="0938" id="0938" class="graf graf--pre graf-after--li">&lt;section class=&quot;clue&quot;&gt;<br>  &lt;h1 class=&quot;clue__title&quot;&gt;Clue$ 268530&lt;/h1&gt;<br>  &lt;div class=&quot;clue__question&quot;&gt;<br>      2009: I dreamed a Dream<br>  &lt;/div&gt;<br>  &lt;div class=&quot;clue__category&quot;&gt;<br>      &lt;&lt;unparsed&gt;&gt;<br>  &lt;/div&gt;<br>  &lt;div class=&quot;clue__amount&quot;&gt;<br>      $800<br>  &lt;/div&gt;<br>&lt;/section&gt;</pre><p name="9b2d" id="9b2d" class="graf graf--p graf-after--pre">React Version</p><pre name="64d7" id="64d7" class="graf graf--pre graf-after--p">const Clue = () =&gt;<br>  React.createElement(<br>    &quot;section&quot;,<br>    { className: &quot;clue&quot; },<br>    React.createElement(&quot;h1&quot;, { className: &quot;clue__title&quot; }, &quot;Title&quot;),<br>    React.createElement(&quot;div&quot;, { className: &quot;clue__question&quot; }, &quot;?&quot;),<br>    React.createElement(&quot;div&quot;, { className: &quot;clue__category&quot; }, &quot;Category&quot;),<br>    React.createElement(&quot;div&quot;, { className: &quot;clue__amount&quot; }, &quot;$800&quot;)<br>  );</pre><ul class="postList"><li name="f587" id="f587" class="graf graf--li graf-after--pre">Because <code class="markup--code markup--li-code">class</code> is a reserved keyword in JS, in React we can use <code class="markup--code markup--li-code">className</code> to assign a class to an element.</li><li name="4d51" id="4d51" class="graf graf--li graf-after--li">Remember the data that goes into createElement: element type, data to pass into the element, and then children.</li><li name="8199" id="8199" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">props</code> : Properties;</li><li name="6b53" id="6b53" class="graf graf--li graf-after--li">To handle certain values that are initially undefined, we can use <code class="markup--code markup--li-code">defaultProps</code>.</li></ul><pre name="d41c" id="d41c" class="graf graf--pre graf-after--li">Clue.defaultProps = {<br>  category: {},<br>};</pre><ul class="postList"><li name="4abe" id="4abe" class="graf graf--li graf-after--pre">You can change in the devTools Network tab the internet speed to check for values that may be undefined to hangle with defaultProps.</li><li name="79e3" id="79e3" class="graf graf--li graf-after--li">If we fetch multiple pieces of data, we can render many things by using <code class="markup--code markup--li-code">map</code>.</li><li name="06f2" id="06f2" class="graf graf--li graf-after--li">You need to assign a unique key to each of the clues.</li><li name="c12e" id="c12e" class="graf graf--li graf-after--li">We need to keep track of them individually so that React can easily refer to a specific one if there is an issue. <code class="markup--code markup--li-code">clue =&gt; { key:clue.id, ...clue }</code></li></ul><pre name="6146" id="6146" class="graf graf--pre graf-after--li">const App = (props) =&gt;<br>  React.createElement(<br>    &quot;h1&quot;,<br>    null,<br>    props.clues.map((clue) =&gt;<br>      React.createElement(Clue, { key: clue.id, ...clue })<br>    )<br>  );<br>export default App;</pre><ul class="postList"><li name="1dd5" id="1dd5" class="graf graf--li graf-after--pre graf--trailing">Note: JSX is preferred over React.createElement;</li></ul></div></div></section><section name="f780" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="e5f8" id="e5f8" class="graf graf--h3 graf--leading">Notes from Hello Programmer Exercise</h3><ul class="postList"><li name="1fb8" id="1fb8" class="graf graf--li graf-after--h3">When you import modules from websites they must have CORs activated.</li><li name="1ef6" id="1ef6" class="graf graf--li graf-after--li">These import statements, import <code class="markup--code markup--li-code">global variables</code>.</li><li name="6613" id="6613" class="graf graf--li graf-after--li">When we want to move our code into production we need to change the imports into the production minified versions.</li></ul><pre name="54f5" id="54f5" class="graf graf--pre graf-after--li">import &quot;https://unpkg.com/react@16/umd/react.production.min.js&quot;;<br>import &quot;https://unpkg.com/react-dom@16.13.1/umd/react-dom.production.min.js&quot;;</pre><ul class="postList"><li name="0046" id="0046" class="graf graf--li graf-after--pre">While we will never actually be creating full apps with just React.createElement =&gt; it is the enginer that is running under the hood!</li></ul><pre name="01b2" id="01b2" class="graf graf--pre graf-after--li graf--trailing">import &quot;https://unpkg.com/react@16/umd/react.development.js&quot;;<br>import &quot;https://unpkg.com/react-dom@16/umd/react-dom.development.js&quot;;<br>const Links = () =&gt;<br>  React.createElement(<br>    &quot;ul&quot;,<br>    { id: &quot;nav-links&quot; },<br>    React.createElement(<br>      &quot;li&quot;,<br>      { className: &quot;is-selected&quot; },<br>      React.createElement(&quot;a&quot;, { href: &quot;http://appacademy.io&quot; }, &quot;App Academy&quot;)<br>    ),<br>    React.createElement(<br>      &quot;li&quot;,<br>      null,<br>      React.createElement(&quot;a&quot;, { href: &quot;https://aaonline.io&quot; }, &quot;a/A Open&quot;)<br>    )<br>  );<br>// Set up React Element: Type, Imported Data, Child (Child is Text in this Scenario)<br>// HelloWorld is a function based component<br>const HelloWorld = () =&gt; React.createElement(&quot;h1&quot;, null, &quot;Hello, Programmers&quot;);<br>const AllTogether = () =&gt;<br>  React.createElement(<br>    &quot;div&quot;,<br>    null,<br>    React.createElement(HelloWorld, null),<br>    React.createElement(Links, null)<br>  );<br>// Target the Element to append new Ele<br>const target = document.querySelector(&quot;main&quot;);<br>// Assign your &#39;App&#39; to your created Elements<br>// We are creating an element from the HelloWorld function.<br>const app = React.createElement(AllTogether, null);<br>// Render from the Virtual Dom to the Actual Dom<br>ReactDOM.render(app, target);</pre></div></div></section><section name="9085" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="3bd4" id="3bd4" class="graf graf--h3 graf--leading">Introduction to JSX</h3><ul class="postList"><li name="a5ee" id="a5ee" class="graf graf--li graf-after--h3"><code class="markup--code markup--li-code">JSX</code> : Javascript Extension, a new language created by React developers to have an easier way of interacting with the React API. How to use JSX</li><li name="24bf" id="24bf" class="graf graf--li graf-after--li">We will use <code class="markup--code markup--li-code">babel</code> to convert version of modern JS into an older version of JS. React Create Element</li></ul><pre name="d09a" id="d09a" class="graf graf--pre graf-after--li">const ExampleComponent = (props) =&gt;<br>  React.createElement(<br>    React.Fragment,<br>    null,<br>    React.createElement(&quot;h1&quot;, null, &quot;Hello!&quot;),<br>    React.createElement(&quot;img&quot;, { src: &quot;https://via.placeholder.com/150&quot; }),<br>    React.createElement(&quot;a&quot;, { href: props.searchUrl }, props.searchText)<br>  );</pre><p name="20d1" id="20d1" class="graf graf--p graf-after--pre">JSX Version</p><pre name="109f" id="109f" class="graf graf--pre graf-after--p">const ExampleComponent = (props) =&gt; (<br>  &lt;React.Fragment&gt;<br>    &lt;h1&gt;Hello!&lt;/h1&gt;<br>    &lt;img src=&quot;https://via.placeholder.com/150&quot; /&gt;<br>    &lt;a href={props.searchUrl}&gt;{props.searchText}&lt;/a&gt;<br>  &lt;/React.Fragment&gt;<br>);</pre><ul class="postList"><li name="b00d" id="b00d" class="graf graf--li graf-after--pre">Keep in mind that self closing tags in React must have a <code class="markup--code markup--li-code">forward slash</code> to close it.</li></ul><figure name="5244" id="5244" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="0*NNxuFMF-sOL8Wvdl" data-width="811" data-height="245" src="https://cdn-images-1.medium.com/max/800/0*NNxuFMF-sOL8Wvdl"></figure><ul class="postList"><li name="346d" id="346d" class="graf graf--li graf-after--figure">Properties and Data</li></ul><pre name="87da" id="87da" class="graf graf--pre graf-after--li">&lt;img src=&quot;https://via.placeholder.com/150&quot; /&gt;;<br>// becomes..<br>React.createElement(&quot;img&quot;, { src: &quot;https://via.placeholder.com/150&quot; });<br>// if we want to pass in data vs just a string literal<br>&lt;a href={props.searchUrl}&gt;{props.searchText}&lt;/a&gt;;<br>// so it becomes..<br>React.createElement(&quot;a&quot;, { href: props.searchUrl }, props.searchText);<br>// if you want the text search uppercase..<br>&lt;a href={props.searchUrl}&gt;{props.searchText.toUpperCase()}&lt;/a&gt;;</pre><ul class="postList"><li name="467c" id="467c" class="graf graf--li graf-after--pre">Comments in JSX have the following syntax:</li></ul><pre name="0362" id="0362" class="graf graf--pre graf-after--li">&lt;div&gt;<br>  &lt;h2&gt;This is JSX&lt;/h2&gt;<br>  {/* This is a comment in JSX */}<br>&lt;/div&gt;</pre><ul class="postList"><li name="8cb8" id="8cb8" class="graf graf--li graf-after--pre"><code class="markup--code markup--li-code">Property Names</code>:</li><li name="837b" id="837b" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">checked</code> : Attribute of input components such as checkbox or radio, use it to set whether the component is checked or not.</li><li name="aec0" id="aec0" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">className</code> : Used to specify a CSS class.</li><li name="2f92" id="2f92" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">dangerouslySetInnerHTML</code> : React&#39;s equivalent of innerHTML because it is risky to cross-site scripting attacks.</li><li name="3eab" id="3eab" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">htmlFor</code> : Because <code class="markup--code markup--li-code">for</code> is protected keyword, React elements use this instead.</li><li name="9194" id="9194" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">onChange</code> : Event fired whenever a form field is changed.</li><li name="014a" id="014a" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">style</code> : Accepts a JS object with camelCase properties rather than a CSS string.</li><li name="76d8" id="76d8" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">value</code> : Supported by Input, Select, and TextArea components; use it to set the value of the component.</li><li name="22c2" id="22c2" class="graf graf--li graf-after--li">Note: React uses camel-case!!! The JSX semicolon gotcha</li></ul><pre name="4767" id="4767" class="graf graf--pre graf-after--li">function App() {<br>  return (<br>    &lt;div&gt;<br>      &lt;h1&gt;Hello!&lt;/h1&gt;<br>      &lt;div&gt;Welcome to JSX.&lt;/div&gt;<br>    &lt;/div&gt;<br>  );<br>}</pre><p name="381e" id="381e" class="graf graf--p graf-after--pre">create Element equivalent</p><pre name="d7a8" id="d7a8" class="graf graf--pre graf-after--p">is equivalent to<br>function App() {<br>  return (<br>    React.createElement(<br>      &#39;div&#39;,<br>      null,<br>      React.createElement(&#39;h1&#39;, null, &#39;Hello!&#39;),<br>      React.createElement(&#39;div&#39;, null, &#39;Welcome to JSX.&#39;),<br>    )<br>  );<br>}</pre><ul class="postList"><li name="dbc1" id="dbc1" class="graf graf--li graf-after--pre">We wrap what want to return in parenthesis so JS doesn’t auto add semi-colons after every line and run the code incorrectly.</li><li name="62c0" id="62c0" class="graf graf--li graf-after--li graf--trailing">Just remember if you decided to use the return keyword in a function to ‘return some JSX’, then make sure you wrap the JSX in parenthesis.</li></ul></div></div></section><section name="af0a" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="0b3a" id="0b3a" class="graf graf--p graf--leading"><code class="markup--code markup--p-code">npx create-react-app my-app</code></p><ul class="postList"><li name="8ad9" id="8ad9" class="graf graf--li graf-after--p">Single line used to initiate a React application.</li><li name="3cb1" id="3cb1" class="graf graf--li graf-after--li">React has a great toolchain where you can see changes live as you’re editing your application.</li><li name="c1d0" id="c1d0" class="graf graf--li graf-after--li">React errors will be rendered directly onto the browser window.</li><li name="1365" id="1365" class="graf graf--li graf-after--li">A downside is that it installs a lot of bloat files.</li><li name="aaed" id="aaed" class="graf graf--li graf-after--li">Examples of React create Element and JSX equivalent</li></ul><pre name="d4b9" id="d4b9" class="graf graf--pre graf-after--li">React.createElement(<br>  &quot;a&quot;,<br>  {<br>    className: &quot;active&quot;,<br>    href: &quot;https://appacademy.io&quot;,<br>  },<br>  &quot;App Academy&quot;<br>);<br>// JSX Version<br>&lt;a className=&quot;active&quot; href=&quot;https://appacademy.io&quot;&gt;<br>  App Academy<br>&lt;/a&gt;;</pre><pre name="2c57" id="2c57" class="graf graf--pre graf-after--pre">React.createElement(<br>  OwnerDetails,<br>  {<br>    owner: props.data.owner,<br>    number: props.index + 1,<br>  },<br>  props.name<br>);<br>// JSX Version<br>&lt;OwnerDetails owner={props.data.owner} number={props.index + 1}&gt;<br>  {props.name}<br>&lt;/OwnerDetails&gt;;</pre><p name="5a01" id="5a01" class="graf graf--p graf-after--pre">More Complex JSX Example</p><pre name="75a7" id="75a7" class="graf graf--pre graf-after--p graf--trailing">const BookPanel = (props) =&gt; {<br>  &lt;section className=&quot;book&quot; id={`book-${props.id}`}&gt;<br>    &lt;h1 className=&quot;book__title&quot;&gt;{props.title}&lt;/h1&gt;<br>    &lt;img src={props.coverUrl} /&gt;<br>    &lt;div className=&quot;book__desc&quot;&gt;{props.description}&lt;/div&gt;<br>  &lt;/section&gt;;<br>};</pre></div></div></section><section name="6bcc" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="6fec" id="6fec" class="graf graf--h3 graf--leading">Notes</h3><h3 name="87fd" id="87fd" class="graf graf--h3 graf-after--h3">Using Custom CRA Templates</h3><p name="5291" id="5291" class="graf graf--p graf-after--h3">Using a Custom Template <code class="markup--code markup--p-code">npx create-react-app my-app --template @appacademy/simple</code></p><ul class="postList"><li name="9607" id="9607" class="graf graf--li graf-after--p">Keep in mind that using <code class="markup--code markup--li-code">create-react-app</code> automatically initializes a git repository for you!</li><li name="f0fe" id="f0fe" class="graf graf--li graf-after--li">App Academy custom template for creating a react app.</li><li name="1b4e" id="1b4e" class="graf graf--li graf-after--li">If using the default react create project you can delete the following files:</li><li name="ef1c" id="ef1c" class="graf graf--li graf-after--li">favicon.ico</li><li name="627b" id="627b" class="graf graf--li graf-after--li">robots.txt</li><li name="3b34" id="3b34" class="graf graf--li graf-after--li">logo192.png</li><li name="9b50" id="9b50" class="graf graf--li graf-after--li">logo512.png</li><li name="8101" id="8101" class="graf graf--li graf-after--li">manifest.json</li><li name="77db" id="77db" class="graf graf--li graf-after--li">You can also simplify the <code class="markup--code markup--li-code">html</code> file into:</li></ul><pre name="a5e7" id="a5e7" class="graf graf--pre graf-after--li">&lt;!DOCTYPE html&gt;<br>&lt;html lang=&quot;en&quot;&gt;<br>  &lt;head&gt;<br>    &lt;meta charset=&quot;utf-8&quot; /&gt;<br>    &lt;title&gt;React App&lt;/title&gt;<br>  &lt;/head&gt;<br>  &lt;body&gt;<br>    &lt;div id=&quot;root&quot;&gt;&lt;/div&gt;<br>  &lt;/body&gt;<br>&lt;/html&gt;</pre><p name="2c35" id="2c35" class="graf graf--p graf-after--pre">Simplifying the src folder</p><ul class="postList"><li name="ac69" id="ac69" class="graf graf--li graf-after--p">Remove: App.css App.test.js logo.svg serviceWorker.js setupTests.js</li><li name="064f" id="064f" class="graf graf--li graf-after--li">Update the Following Files:</li></ul><pre name="12df" id="12df" class="graf graf--pre graf-after--li">// ./src/App.js<br>import React from &quot;react&quot;;<br>function App() {<br>  return &lt;h1&gt;Hello world!&lt;/h1&gt;;<br>}<br>export default App;<br>``;</pre><pre name="e7c6" id="e7c6" class="graf graf--pre graf-after--pre graf--trailing">// ./src/index.js<br>import React from &quot;react&quot;;<br>import ReactDOM from &quot;react-dom&quot;;<br>import &quot;./index.css&quot;;<br>import App from &quot;./App&quot;;<br>ReactDOM.render(<br>  &lt;React.StrictMode&gt;<br>    &lt;App /&gt;<br>  &lt;/React.StrictMode&gt;,<br>  document.getElementById(&quot;root&quot;)<br>);</pre></div></div></section><section name="0f0e" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="3e55" id="3e55" class="graf graf--h3 graf--leading">React Class Components</h3><p name="bc07" id="bc07" class="graf graf--p graf-after--h3">Class Components</p><ul class="postList"><li name="b5e6" id="b5e6" class="graf graf--li graf-after--p">You can write React components using ES2015 Classes: Function Component</li></ul><pre name="d78b" id="d78b" class="graf graf--pre graf-after--li">// ./src/Message.js<br>import React from &quot;react&quot;;<br>const Message = (props) =&gt; {<br>  return &lt;div&gt;{props.text}&lt;/div&gt;;<br>};<br>export default Message;</pre><p name="23bb" id="23bb" class="graf graf--p graf-after--pre">ES2015 Version</p><pre name="4014" id="4014" class="graf graf--pre graf-after--p">// ./src/Message.js<br>import React from &quot;react&quot;;<br>class Message extends React.Component {<br>  render() {<br>    return &lt;div&gt;{this.props.text}&lt;/div&gt;;<br>  }<br>}<br>export default Message;</pre><ul class="postList"><li name="ae33" id="ae33" class="graf graf--li graf-after--pre">We can access props within a <code class="markup--code markup--li-code">class component</code> by using <code class="markup--code markup--li-code">this.props</code></li><li name="0b60" id="0b60" class="graf graf--li graf-after--li">Keep in mind Class Components are used just like function components.</li></ul><pre name="2ef2" id="2ef2" class="graf graf--pre graf-after--li">// ./src/index.js<br>import React from &quot;react&quot;;<br>import ReactDOM from &quot;react-dom&quot;;<br>import Message from &quot;./Message&quot;;<br>ReactDOM.render(<br>  &lt;React.StrictMode&gt;<br>    &lt;Message text=&quot;Hello world!&quot; /&gt;<br>  &lt;/React.StrictMode&gt;,<br>  document.getElementById(&quot;root&quot;)<br>);</pre><p name="083b" id="083b" class="graf graf--p graf-after--pre">Setting and accessing props</p><pre name="c0f4" id="c0f4" class="graf graf--pre graf-after--p">class Message extends React.Component {<br>  constructor(props) {<br>    super(props);<br>    // TODO Initialize state, etc.<br>  }<br>  render() {<br>    return &lt;div&gt;{this.props.text}&lt;/div&gt;;<br>  }<br>}</pre><ul class="postList"><li name="cd5a" id="cd5a" class="graf graf--li graf-after--pre">If we define a constructor method in our Class Component, we have to define the <code class="markup--code markup--li-code">super</code> method with <code class="markup--code markup--li-code">props</code> passed through it.</li><li name="8bf7" id="8bf7" class="graf graf--li graf-after--li">Side Note: Before React used ES2015 Classes, it used <code class="markup--code markup--li-code">React.createclass</code> function, if you ever need to use this antiquated method make sure you install a module called <code class="markup--code markup--li-code">create-react-class</code> Stateful components</li><li name="4b12" id="4b12" class="graf graf--li graf-after--li">One of the major reasons why you would choose to use a Class Component over a Function Component is to add and manage local or internal state to your component.</li><li name="8e82" id="8e82" class="graf graf--li graf-after--li">Second of the major reasons is to be able to use a Class Component’s lifecycle methods. What is state?</li><li name="7fab" id="7fab" class="graf graf--li graf-after--li">Props are data that are provided by the consumer or caller of the component.</li><li name="98f4" id="98f4" class="graf graf--li graf-after--li">Not meant to be changed by a component.</li><li name="c6a9" id="c6a9" class="graf graf--li graf-after--li">State is data that is <code class="markup--code markup--li-code">internal</code> to the component.</li><li name="3e89" id="3e89" class="graf graf--li graf-after--li">Intended to be updated or mutated. When to use state</li><li name="c03f" id="c03f" class="graf graf--li graf-after--li"><em class="markup--em markup--li-em">Only Use State when it is absolutely necessary</em></li><li name="204b" id="204b" class="graf graf--li graf-after--li">If the data never changes, or if it’s needed through an entire application use props instead.</li><li name="0b53" id="0b53" class="graf graf--li graf-after--li">State is more often used when creating components that retrieve data from APIs or render forms.</li><li name="1b6b" id="1b6b" class="graf graf--li graf-after--li">The general rule of thumb: If a component doesn’t need to use state or lifecyle methods, it should be prioritized as a <code class="markup--code markup--li-code">function component</code>.</li><li name="d708" id="d708" class="graf graf--li graf-after--li">Functional:Stateless || Class:Stateful Initializing state</li><li name="e5d5" id="e5d5" class="graf graf--li graf-after--li">Use a class constructor method to initialize <code class="markup--code markup--li-code">this.state</code> object. // Application Entry Point</li></ul><pre name="b0d3" id="b0d3" class="graf graf--pre graf-after--li">// ./src/index.js<br>import React from &#39;react&#39;<br>import ReactDOM from &#39;react-dom&#39;;<br>import RandomQuote from &#39;./RandomQuote&#39;;<br>ReactDOM.render(<br>  &lt;React.StrictMode&gt;<br>    &lt;RandomQuote /&gt;<br>  &lt;/React.StrictMode&gt;<br>  document.getElementById(&#39;root&#39;);<br>)</pre><p name="f46d" id="f46d" class="graf graf--p graf-after--pre">// Class Component: RandomQuote</p><pre name="c98b" id="c98b" class="graf graf--pre graf-after--p">import React from &quot;react&quot;;<br>class RandomQuote extends React.Component {<br>  constructor() {<br>    super();<br>    const quotes = [<br>      &quot;May the Force be with you.&quot;,<br>      &quot;There&#39;s no place like home.&quot;,<br>      &quot;I&#39;m the king of the world!&quot;,<br>      &quot;My mama always said life was like a box of chocolates.&quot;,<br>      &quot;I&#39;ll be back.&quot;,<br>    ];<br>    this.state = {<br>      quotes,<br>      currentQuoteIndex: this.getRandomInt(quotes.length);<br>    }<br>  }<br>  getRandomInt(max) {<br>    return Math.floor(Math.random() * Math.floor(max));<br>  }<br>  render() {<br>    return (<br>      &lt;div&gt;<br>        &lt;h2&gt;Random Quote&lt;/h2&gt;<br>        &lt;p&gt;{this.state.quotes[this.state.currentQuoteIndex]}&lt;/p&gt;<br>      &lt;/div&gt;<br>    )<br>  }<br>}<br>export default RandomQuote;</pre><p name="d54f" id="d54f" class="graf graf--p graf-after--pre">Updating State</p><ul class="postList"><li name="3fdc" id="3fdc" class="graf graf--li graf-after--p">Let’s say we want to update our state with a new quote.</li><li name="eddc" id="eddc" class="graf graf--li graf-after--li">We can set up event listeners in React similarly to how we did them before.</li><li name="106c" id="106c" class="graf graf--li graf-after--li">&lt;button type=”button” onClick={this.changeQuote}&gt; Change Quote &lt;/button&gt;</li><li name="a77a" id="a77a" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">onClick</code> is the event listener.</li><li name="f406" id="f406" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">{this.changeQuote}</code> is the event handler method.</li><li name="7dca" id="7dca" class="graf graf--li graf-after--li">Our Class Component File should now look like this with the new additions:</li></ul><pre name="6b5d" id="6b5d" class="graf graf--pre graf-after--li">import React from &quot;react&quot;;<br>class RandomQuote extends React.Component {<br>  constructor() {<br>    super();<br>    const quotes = [<br>      &quot;May the Force be with you.&quot;,<br>      &quot;There&#39;s no place like home.&quot;,<br>      &quot;I&#39;m the king of the world!&quot;,<br>      &quot;My mama always said life was like a box of chocolates.&quot;,<br>      &quot;I&#39;ll be back.&quot;,<br>    ];<br>    this.state = {<br>      quotes,<br>      currentQuoteIndex: this.getRandomInt(quotes.length);<br>    }<br>  }<br>  changeQuote = () =&gt; {<br>    const newIndex = this.getRandomInt(this.state.quotes.length);<br>    // Setting the &#39;new state&#39; of currentQuoteIndex state property<br>    // to newly generated random index #.<br>    this.setState({<br>      currentQuoteIndex: newIndex;<br>    })<br>  }<br>  getRandomInt(max) {<br>    return Math.floor(Math.random() * Math.floor(max));<br>  }<br>  render() {<br>    return (<br>      &lt;div&gt;<br>        &lt;h2&gt;Random Quote&lt;/h2&gt;<br>        &lt;p&gt;{this.state.quotes[this.state.currentQuoteIndex]}&lt;/p&gt;<br>        &lt;button type=&quot;button&quot; onClick={this.changeQuote}&gt;<br>          Change Quote<br>        &lt;/button&gt;<br>      &lt;/div&gt;<br>    )<br>  }<br>}<br>export default RandomQuote;</pre><p name="c907" id="c907" class="graf graf--p graf-after--pre">Don’t modify state directly</p><ul class="postList"><li name="ca27" id="ca27" class="graf graf--li graf-after--p">It is important to <code class="markup--code markup--li-code">never</code> modify your state directly!</li><li name="780d" id="780d" class="graf graf--li graf-after--li">ALWAYS use <code class="markup--code markup--li-code">this.setState</code> method to update state.</li><li name="1581" id="1581" class="graf graf--li graf-after--li">This is because when you only use this.state to re-assign, no re-rendering will occur =&gt; leaving our component out of sync. Properly updating state from the previous state</li><li name="dc5a" id="dc5a" class="graf graf--li graf-after--li">In our current example, the way we have <code class="markup--code markup--li-code">changeQuote</code> set up leaves us with occasionally producing the same index twice in a row.</li><li name="0bff" id="0bff" class="graf graf--li graf-after--li">One solution is to design a loop but keep in mind that state updates are handled asynchronously in React (your current value is not guaranteed to be the latest)</li><li name="39f9" id="39f9" class="graf graf--li graf-after--li">A safe method is to pass an anonymous method to <code class="markup--code markup--li-code">this.setState</code> (instead of an object literal) Previous</li></ul><pre name="0f3a" id="0f3a" class="graf graf--pre graf-after--li">changeQuote = () =&gt; {<br>    const newIndex = this.getRandomInt(this.state.quotes.length);<br>    this.setState({<br>      currentQuoteIndex: newIndex;<br>    })<br>  }</pre><p name="bd84" id="bd84" class="graf graf--p graf-after--pre">Passing w/ Anon Method</p><pre name="54a7" id="54a7" class="graf graf--pre graf-after--p">changeQuote = () =&gt; {<br>  this.setState((state, props) =&gt; {<br>    const { quotes, currentQuoteIndex } = state;<br>    let newIndex = -1;<br>    do {<br>      newIndex = this.getRandomInt(quote.length);<br>    } while (newIndex === currentQuoteIndex);<br>    return {<br>      currentQuoteIndex: newIndex,<br>    };<br>  });<br>};</pre><p name="f51b" id="f51b" class="graf graf--p graf-after--pre">Providing default values for props</p><ul class="postList"><li name="7e8c" id="7e8c" class="graf graf--li graf-after--p">In our current example, we pass in a static array of predefined quotes in our constructor.</li><li name="3e8f" id="3e8f" class="graf graf--li graf-after--li">The way it is set up right now leaves our list of quotes unchanged after initialization.</li><li name="add0" id="add0" class="graf graf--li graf-after--li">We can make quotes more dynamic by replacing our static array with a <code class="markup--code markup--li-code">props</code> argument passed into <code class="markup--code markup--li-code">super</code>.</li><li name="53d6" id="53d6" class="graf graf--li graf-after--li">constructor(props) { super(props); }</li><li name="918a" id="918a" class="graf graf--li graf-after--li">We can now move our quotes array to our application entry point and pass it in as a prop. // Application Entry Point</li></ul><pre name="3438" id="3438" class="graf graf--pre graf-after--li">// ./src/index.js<br>import React from &#39;react&#39;<br>import ReactDOM from &#39;react-dom&#39;;<br>import RandomQuote from &#39;./RandomQuote&#39;;<br>// Re-assign our array here and pass it in as a prop in Render.<br>const quotes = [<br>      &quot;May the Force be with you.&quot;,<br>      &quot;There&#39;s no place like home.&quot;,<br>      &quot;I&#39;m the king of the world!&quot;,<br>      &quot;My mama always said life was like a box of chocolates.&quot;,<br>      &quot;I&#39;ll be back.&quot;,<br>      &quot;This way I can define more quotes&quot;,<br>    ];<br>ReactDOM.render(<br>  &lt;React.StrictMode&gt;<br>    &lt;RandomQuote quotes={quotes}/&gt;<br>  &lt;/React.StrictMode&gt;<br>  document.getElementById(&#39;root&#39;);<br>)</pre><ul class="postList"><li name="a0bb" id="a0bb" class="graf graf--li graf-after--pre">One thing to note about this workaround is that the caller of the component <em class="markup--em markup--li-em">must</em> set the quotes prop or the component will throw an error =&gt; so use <code class="markup--code markup--li-code">defaultProps</code>!</li></ul><pre name="4b81" id="4b81" class="graf graf--pre graf-after--li">// At the bottom of RandomQuote.js...<br>RandomQuote.defaultProps = {<br>  quotes: [<br>    &quot;May the Force be with you.&quot;,<br>    &quot;There&#39;s no place like home.&quot;,<br>    &quot;I&#39;m the king of the world!&quot;,<br>    &quot;My mama always said life was like a box of chocolates.&quot;,<br>    &quot;I&#39;ll be back.&quot;,<br>    &quot;This way I can define more quotes&quot;,<br>  ],<br>};</pre><ul class="postList"><li name="c575" id="c575" class="graf graf--li graf-after--pre">A good safety net in case the consumer/caller doesn’t provide a value for the quotes array.</li><li name="3be6" id="3be6" class="graf graf--li graf-after--li graf--trailing">We can even remove it from our index.js now and an error will not be thrown.</li></ul></div></div></section><section name="1ec3" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="9171" id="9171" class="graf graf--h3 graf--leading">Handling Events</h3><ul class="postList"><li name="a82e" id="a82e" class="graf graf--li graf-after--h3">To add an event listener to an element, just define a method to handle the event and associate that method with the element event you are listening for. Example</li></ul><pre name="1dfa" id="1dfa" class="graf graf--pre graf-after--li">import React from &quot;react&quot;;<br>class AlertButton extends React.Component {<br>  showAlert = () =&gt; {<br>    window.alert(&quot;Button Clicked!&quot;);<br>  };<br>  render() {<br>    return (<br>      &lt;button type=&quot;button&quot; onClick={this.showAlert}&gt;<br>        Submit<br>      &lt;/button&gt;<br>    );<br>  }<br>}</pre><ul class="postList"><li name="a852" id="a852" class="graf graf--li graf-after--pre">Note that when refering the handler method in onClick we’re not invoking showAlert simply just passing a reference. Preventing default behavior</li><li name="5cb0" id="5cb0" class="graf graf--li graf-after--li">HTML Elements in the browser often have a lot of default behavior.</li><li name="df4d" id="df4d" class="graf graf--li graf-after--li">I.E. Clicking on an <code class="markup--code markup--li-code">&lt;a&gt;</code> element navigates so a resource denoted by <code class="markup--code markup--li-code">&lt;href&gt;</code> property.</li><li name="952c" id="952c" class="graf graf--li graf-after--li">Here is an example of where using <code class="markup--code markup--li-code">e.preventDefault()</code> could come in handy.</li></ul><pre name="5129" id="5129" class="graf graf--pre graf-after--li">import React from &quot;react&quot;;<br>class NoDefaultSubmitForm extends React.Component {<br>  submitForm = (e) =&gt; {<br>    e.preventDefault();<br>    window.alert(&quot;Handling form submission...&quot;);<br>  };<br>  render() {<br>    return (<br>    &lt;form onSubmit={this.submitForm}&gt;<br>      &lt;button&gt;Submit&lt;/button&gt;<br>    &lt;/form&gt;;<br>    )}<br>}</pre><ul class="postList"><li name="b149" id="b149" class="graf graf--li graf-after--pre">The button contained within the form will end up refreshing the page before <code class="markup--code markup--li-code">this.submitForm</code> method can be completed.</li><li name="a034" id="a034" class="graf graf--li graf-after--li">We can stick an <code class="markup--code markup--li-code">e.preventDefault()</code> into the actual method to get around this problem.</li><li name="004a" id="004a" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">e</code> : Parameter that references a <code class="markup--code markup--li-code">Synthetic Event</code> object type. Using <code class="markup--code markup--li-code">this</code> in event handlers</li></ul><pre name="4ef8" id="4ef8" class="graf graf--pre graf-after--li">// ./src/AlertButton.js<br>import React from &quot;react&quot;;<br>class AlertButton extends React.Component {<br>  showAlert = () =&gt; {<br>    window.alert(&quot;Button clicked!&quot;);<br>    console.log(this);<br>  };<br>  render() {<br>    return (<br>      &lt;button type=&quot;button&quot; onClick={this.showAlert}&gt;<br>        Click Me<br>      &lt;/button&gt;<br>    );<br>  }<br>}<br>export default AlertButton;</pre><ul class="postList"><li name="3c8f" id="3c8f" class="graf graf--li graf-after--pre">When we console log <code class="markup--code markup--li-code">this</code> we see the AlertButton object.</li><li name="42a0" id="42a0" class="graf graf--li graf-after--li">If we were to write the showAlert method with a regular class method like:</li></ul><pre name="a0d5" id="a0d5" class="graf graf--pre graf-after--li">showAlert() {<br>  console.log(this);<br>}</pre><ul class="postList"><li name="c081" id="c081" class="graf graf--li graf-after--pre">We would get <code class="markup--code markup--li-code">undefined</code> =&gt; remember that fat arrow binds to the current context! Reviewing class methods and the <code class="markup--code markup--li-code">this</code> keyword</li><li name="e98e" id="e98e" class="graf graf--li graf-after--li">Let’s refresh on binding.</li></ul><pre name="247b" id="247b" class="graf graf--pre graf-after--li">class Boyfriend {<br>  constructor() {<br>    this.name = &quot;Momato Riruru&quot;;<br>  }<br>  displayName() {<br>    console.log(this.name);<br>  }<br>}<br>const Ming = new Boyfriend();<br>Ming.displayName(); // =&gt; Momato Riruru<br>const displayAgain = Ming.displayName;<br>displayAgain(); // =&gt; Result in a Type Error: Cannot read property &#39;name&#39; of undefined.</pre><ul class="postList"><li name="fb85" id="fb85" class="graf graf--li graf-after--pre">The first time we use our <code class="markup--code markup--li-code">displayMethod</code> call, it is called directly on the instance of the boyfriend class, which is why <code class="markup--code markup--li-code">Momato Riruru</code> was printed out.</li><li name="3a9b" id="3a9b" class="graf graf--li graf-after--li">The second time it was called, the ref of the method is stored as a variable and method is called on that variable instead of the instance; resulting in a type error (it has lost it’s context)</li><li name="0a2c" id="0a2c" class="graf graf--li graf-after--li">Remember we can use the <code class="markup--code markup--li-code">bind</code> method to rebind context!</li><li name="d6d9" id="d6d9" class="graf graf--li graf-after--li">We can refactor to get the second call working like this:</li><li name="7ead" id="7ead" class="graf graf--li graf-after--li">const displayAgain = Ming.displayName.bind(Ming); displayAgain(); // =&gt; Now Momato Riruru will be printed out.</li><li name="a8b0" id="a8b0" class="graf graf--li graf-after--li">To continue using function declarations vs fat arrow we can assign context in a constructor within a class component.</li></ul><pre name="82db" id="82db" class="graf graf--pre graf-after--li">import React from &quot;react&quot;;<br>class AlertButton extends React.Component {<br>  constructor() {<br>    super();<br>    this.showAlert = this.showAlert.bind(this); // binding context<br>  }<br>  showAlert() {<br>    console.log(this);<br>  }<br>  render() {<br>    return (<br>      &lt;button type=&quot;button&quot; onClick={this.showAlert}&gt;<br>        Submit<br>      &lt;/button&gt;<br>    );<br>  }<br>}<br>export default AlertButton;</pre><ul class="postList"><li name="a4e6" id="a4e6" class="graf graf--li graf-after--pre"><code class="markup--code markup--li-code">Experimental Syntax</code> : Syntax that has been proposed to add to ECMAScript but hasn&#39;t officially been added to the language specification yet.</li><li name="801d" id="801d" class="graf graf--li graf-after--li">It’s good to pick one approach and use it consistently, either:</li></ul><ol class="postList"><li name="2e3e" id="2e3e" class="graf graf--li graf-after--li">Class Properties &amp; Arrow Functions</li><li name="cc27" id="cc27" class="graf graf--li graf-after--li">Bind Method &amp; This Keyword The <code class="markup--code markup--li-code">SyntheticEvent</code> object</li></ol><ul class="postList"><li name="f177" id="f177" class="graf graf--li graf-after--li">Synthetic Event Objects: Cross Browser wrappeds around the browser’s native event.</li><li name="418f" id="418f" class="graf graf--li graf-after--li">Includes the use of stopPropagation() and preventDefault();</li><li name="b94f" id="b94f" class="graf graf--li graf-after--li">Attributes of the Synthetic Event Object:Attributesboolean bubblesboolean cancelableDOMEventTarget currentTargetboolean defaultPreventednumber eventPhaseboolean isTrustedDOMEvent nativeEventvoid preventDefault()boolean isDefaultPrevented()void stopPropagation()boolean isPropagationStopped()void persist()DOMEventTarget targetnumber timeStampstring type</li><li name="7484" id="7484" class="graf graf--li graf-after--li graf--trailing"><code class="markup--code markup--li-code">nativeEvent</code> : property defined in a synthetic event object that gives you access to the underlying native browser event (rarely used!)</li></ul></div></div></section><section name="2e0c" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="593c" id="593c" class="graf graf--h3 graf--leading">Forms in React</h3><p name="259a" id="259a" class="graf graf--p graf-after--h3"><em class="markup--em markup--p-em">Exercise being done in a separate file</em> Random Notes</p><ul class="postList"><li name="45ec" id="45ec" class="graf graf--li graf-after--p"><code class="markup--code markup--li-code">onChange</code> : detects when a value of an input element changes.</li><li name="9ca4" id="9ca4" class="graf graf--li graf-after--li">Assigning <code class="markup--code markup--li-code">onChange</code> to our input fields makes our component&#39;s state update in real time during user input.</li><li name="eb83" id="eb83" class="graf graf--li graf-after--li">Dont forget to add <code class="markup--code markup--li-code">preventDefault</code> onto form submissions to deal with the default behavior of the browser refreshing the page!</li><li name="c413" id="c413" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">submittedOn: new Date(),</code> Can be added to a form, most likely will persist into a DB.</li><li name="b97f" id="b97f" class="graf graf--li graf-after--li">Controlled Components</li><li name="ac48" id="ac48" class="graf graf--li graf-after--li">We use the <code class="markup--code markup--li-code">onChange</code> event handlers on form fields to keep our component&#39;s state as the <code class="markup--code markup--li-code">&quot;one source of truth&quot;</code></li><li name="4685" id="4685" class="graf graf--li graf-after--li">Adding an <code class="markup--code markup--li-code">onChange</code> event handler to every single input can massively bloat your code.</li><li name="448c" id="448c" class="graf graf--li graf-after--li">Try assiging it to it’s own method to apply everywhere.</li><li name="f229" id="f229" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">textarea</code> is handled differently in react: it takes in a value property to handle what the inner text will be.</li></ul><pre name="b06d" id="b06d" class="graf graf--pre graf-after--li">// ./src/ContactUs.js<br>import React from &quot;react&quot;;<br>class ContactUs extends React.Component {<br>  constructor() {<br>    super();<br>    this.state = {<br>      name: &quot;&quot;,<br>      email: &quot;&quot;,<br>      phone: &quot;&quot;,<br>      phoneType: &quot;&quot;,<br>      comments: &quot;&quot;,<br>      validationErrors: [],<br>    };<br>  }<br>  onChange = (e) =&gt; {<br>    const { name, value } = e.target;<br>    this.setState({ [name]: value });<br>  };<br>  // Vanilla JS Function for validating inputs<br>  validate(name, email) {<br>    const validationErrors = [];<br>    if (!name) {<br>      validationErrors.push(&quot;Please provide a Name&quot;);<br>    }<br>    if (!email) {<br>      validationErrors.push(&quot;Please provide an Email&quot;);<br>    }<br>    return validationErrors;<br>  }<br>  onSubmit = (e) =&gt; {<br>    // Prevent the default form behavior<br>    // so the page doesn&#39;t reload.<br>    e.preventDefault();<br>    // Retrieve the contact us information from state.<br>    const { name, email, phone, phoneType, comments } = this.state;<br>    // Get Validation Errors - proceeding destructuring values from this.state.<br>    const validationErrors = this.validate(name, email);<br>    // If we have errors...<br>    if (validationErrors.length &gt; 0) {<br>      this.setState({ validationErrors });<br>    } else {<br>      // Proceed normally<br>      // Create a new object for the contact us information.<br>      const contactUsInformation = {<br>        name,<br>        email,<br>        phone,<br>        phoneType,<br>        comments,<br>        submittedOn: new Date(),<br>      };<br>      console.log(contactUsInformation);<br>      // Reset the form state.<br>      this.setState({<br>        name: &quot;&quot;,<br>        email: &quot;&quot;,<br>        phone: &quot;&quot;,<br>        phoneType: &quot;&quot;,<br>        comments: &quot;&quot;,<br>        validationErrors: [],<br>      });<br>    }<br>  };<br>  render() {<br>    const { name, email, phone, phoneType, comments, validationErrors } =<br>      this.state;<br>    return (<br>      &lt;div&gt;<br>        &lt;h2&gt;Contact Us&lt;/h2&gt;<br>        {validationErrors.length &gt; 0 &amp;&amp; (<br>          &lt;div&gt;<br>            The following errors were found:<br>            &lt;ul&gt;<br>              {validationErrors.map((error) =&gt; (<br>                &lt;li key={error}&gt;{error}&lt;/li&gt;<br>              ))}<br>            &lt;/ul&gt;<br>          &lt;/div&gt;<br>        )}<br>        &lt;form onSubmit={this.onSubmit}&gt;<br>          &lt;div&gt;<br>            &lt;label htmlFor=&quot;name&quot;&gt;Name:&lt;/label&gt;<br>            &lt;input<br>              id=&quot;name&quot;<br>              name=&quot;name&quot;<br>              type=&quot;text&quot;<br>              onChange={this.onChange}<br>              value={name}<br>            /&gt;<br>          &lt;/div&gt;<br>          &lt;div&gt;<br>            &lt;label htmlFor=&quot;email&quot;&gt;Email:&lt;/label&gt;<br>            &lt;input<br>              id=&quot;email&quot;<br>              name=&quot;email&quot;<br>              type=&quot;text&quot;<br>              onChange={this.onChange}<br>              value={email}<br>            /&gt;<br>          &lt;/div&gt;<br>          &lt;div&gt;<br>            &lt;label htmlFor=&quot;phone&quot;&gt;Phone:&lt;/label&gt;<br>            &lt;input<br>              id=&quot;phone&quot;<br>              name=&quot;phone&quot;<br>              type=&quot;text&quot;<br>              onChange={this.onChange}<br>              value={phone}<br>            /&gt;<br>            &lt;select name=&quot;phoneType&quot; onChange={this.onChange} value={phoneType}&gt;<br>              &lt;option value=&quot;&quot;&gt;Select a phone type...&lt;/option&gt;<br>              {this.props.phoneTypes.map((phoneType) =&gt; (<br>                &lt;option key={phoneType}&gt;{phoneType}&lt;/option&gt;<br>              ))}<br>            &lt;/select&gt;<br>          &lt;/div&gt;<br>          &lt;div&gt;<br>            &lt;label htmlFor=&quot;comments&quot;&gt;Comments:&lt;/label&gt;<br>            &lt;textarea<br>              id=&quot;comments&quot;<br>              name=&quot;comments&quot;<br>              onChange={this.onChange}<br>              value={comments}<br>            /&gt;<br>          &lt;/div&gt;<br>          &lt;div&gt;<br>            &lt;button&gt;Submit&lt;/button&gt;<br>          &lt;/div&gt;<br>        &lt;/form&gt;<br>      &lt;/div&gt;<br>    );<br>  }<br>}<br>ContactUs.defaultProps = {<br>  phoneTypes: [&quot;Home&quot;, &quot;Work&quot;, &quot;Mobile&quot;],<br>};<br>export default ContactUs;</pre><ul class="postList"><li name="a2da" id="a2da" class="graf graf--li graf-after--pre">We can use validation libraries like <code class="markup--code markup--li-code">validate</code> to make our validation functions more complex.</li></ul><pre name="ebdc" id="ebdc" class="graf graf--pre graf-after--li">import isEmail from &quot;validator/es/lib/isEmail&quot;;<br>  validate(name, email) {<br>    const validationErrors = [];<br>    if (!name) {<br>      validationErrors.push(&quot;Please provide a Name&quot;);<br>    }<br>    if (!email) {<br>      validationErrors.push(&quot;Please provide an Email&quot;);<br>    } else if (!isEmail(email)) {<br>      validationErrors.push(&quot;Please provide a valid Email&quot;);<br>    }<br>    return validationErrors;<br>  }</pre><p name="5cec" id="5cec" class="graf graf--p graf-after--pre">Note About Client-side vs server-side validation</p><ul class="postList"><li name="5808" id="5808" class="graf graf--li graf-after--p">Server-side validation is not optional.</li><li name="3bb8" id="3bb8" class="graf graf--li graf-after--li">Tech-savvy users can manipulate client-side validations.</li><li name="311f" id="311f" class="graf graf--li graf-after--li graf--trailing">Sometimes the ‘best approach’ is to skip implementing validations on the client-side and rely completely on the server-side validation.</li></ul></div></div></section><section name="66ff" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="4d46" id="4d46" class="graf graf--h3 graf--leading">Component Lifecycle</h3><figure name="7a32" id="7a32" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="0*c24XQBvqBBg0Eztz" data-width="1532" data-height="858" src="https://cdn-images-1.medium.com/max/800/0*c24XQBvqBBg0Eztz"></figure><ul class="postList"><li name="e1d9" id="e1d9" class="graf graf--li graf-after--figure">Component Lifecycle is simply a way of describing the key moments in the lifetime of a component.</li></ul><ol class="postList"><li name="8e64" id="8e64" class="graf graf--li graf-after--li">Loading (Mounting)</li><li name="7e94" id="7e94" class="graf graf--li graf-after--li">Updating</li><li name="2cd3" id="2cd3" class="graf graf--li graf-after--li">Unloading (Unmounting) The lifecycle of a React component</li></ol><ul class="postList"><li name="7740" id="7740" class="graf graf--li graf-after--li">Each <code class="markup--code markup--li-code">Class Component</code> has several <code class="markup--code markup--li-code">lifecycle methods</code> that you can add to run code at specific times.</li><li name="e7d0" id="e7d0" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">componentDidMount</code> : Method called after your component has been added to the component tree.</li><li name="6d92" id="6d92" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">componentDidUpdate</code> : Method called after your component has been updated.</li><li name="9ee2" id="9ee2" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">componentWillUnmount</code> : Method called just before your component is removed from the component tree.</li><li name="7bd8" id="7bd8" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Mounting</code></li></ul><ol class="postList"><li name="6f9e" id="6f9e" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">constructor</code> method is called</li><li name="e9c7" id="e9c7" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">render</code> method is called</li><li name="eef3" id="eef3" class="graf graf--li graf-after--li">React updates the <code class="markup--code markup--li-code">DOM</code></li><li name="19bb" id="19bb" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">componentDidMount</code> is called</li></ol><ul class="postList"><li name="85f1" id="85f1" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Updating</code></li><li name="94f5" id="94f5" class="graf graf--li graf-after--li">When component receives new <code class="markup--code markup--li-code">props</code></li></ul><ol class="postList"><li name="e635" id="e635" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">render</code> method is called</li><li name="70f9" id="70f9" class="graf graf--li graf-after--li">React updates the <code class="markup--code markup--li-code">DOM</code></li><li name="9507" id="9507" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">componentDidUpdate</code> is called</li></ol><ul class="postList"><li name="b00a" id="b00a" class="graf graf--li graf-after--li">When <code class="markup--code markup--li-code">setState</code> is called</li></ul><ol class="postList"><li name="6864" id="6864" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">render</code> method is called</li><li name="e13b" id="e13b" class="graf graf--li graf-after--li">React updates the <code class="markup--code markup--li-code">DOM</code></li><li name="c459" id="c459" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">componentDidUpdate</code> is called</li></ol><ul class="postList"><li name="bfdd" id="bfdd" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Unmounting</code></li><li name="10c1" id="10c1" class="graf graf--li graf-after--li">The moment before a class component is removed from the component tree:</li><li name="c214" id="c214" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">componentDidMount</code> will be called. Avoiding the legacy lifecycle methods</li><li name="d438" id="d438" class="graf graf--li graf-after--li">Occasionally you will encounter some deprecated lifecycle methods:</li><li name="1f6b" id="1f6b" class="graf graf--li graf-after--li">UNSAFE_componentWillMount</li><li name="48ac" id="48ac" class="graf graf--li graf-after--li">UNSAFE_componentWillReceiveProps</li><li name="df27" id="df27" class="graf graf--li graf-after--li">UNSAFE_componentWillUpdate</li><li name="af07" id="af07" class="graf graf--li graf-after--li">Just know they will be removed soon from React’s API, peace. Using the class component lifecycle methods <em class="markup--em markup--li-em">Exercise done in sep. directory</em></li><li name="344c" id="344c" class="graf graf--li graf-after--li">Assorted Notes:</li><li name="d6b1" id="d6b1" class="graf graf--li graf-after--li graf--trailing">Common Use for <code class="markup--code markup--li-code">componentDidMount</code> lifecycle method is for fetching data from an API.</li></ul></div></div></section><section name="6866" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="74cd" id="74cd" class="graf graf--p graf--leading">—</p><h3 name="bd96" id="bd96" class="graf graf--h3 graf-after--p">Notes</h3><h3 name="209c" id="209c" class="graf graf--h3 graf-after--h3">React Context</h3><ul class="postList"><li name="e968" id="e968" class="graf graf--li graf-after--h3">You can use <code class="markup--code markup--li-code">React Context</code> to pass data through a component tree without having to manually thread props.</li><li name="89d9" id="89d9" class="graf graf--li graf-after--li">Convenient way to share &amp; update <code class="markup--code markup--li-code">global data</code>. Creating a Context</li></ul><pre name="7024" id="7024" class="graf graf--pre graf-after--li">// PupContext.js<br>import { createContext } from &quot;react&quot;;<br>const PupContext = createContext();<br>export default PupContext;</pre><ul class="postList"><li name="a8bf" id="a8bf" class="graf graf--li graf-after--pre">We use <code class="markup--code markup--li-code">React.createContext</code> to create context.</li><li name="98b9" id="98b9" class="graf graf--li graf-after--li">Keep in mind if you invoke this method with aruguments, those arguments will be set as default context. Adding a Provider to the App component</li><li name="a919" id="a919" class="graf graf--li graf-after--li">In order to pass context over to child components we need to wrap them in a provider component.</li><li name="9afc" id="9afc" class="graf graf--li graf-after--li">The provider component takes in a value property that points to the information that needs to be passed to the children.</li></ul><pre name="880b" id="880b" class="graf graf--pre graf-after--li">&lt;MyContext.Provider value={/* some value */}&gt;<br>  &lt;ChildComponent /&gt;<br>&lt;/MyContext.Provider&gt;</pre><p name="414a" id="414a" class="graf graf--p graf-after--pre">Setting up a Consumer</p><pre name="1fd7" id="1fd7" class="graf graf--pre graf-after--p">&lt;MyContext.Consumer&gt;<br>  {(value) =&gt; &lt;Component value={value} /&gt;}<br>&lt;/MyContext.Consumer&gt;</pre><ul class="postList"><li name="2693" id="2693" class="graf graf--li graf-after--pre">Keep in mind that <code class="markup--code markup--li-code">Context.Consumer</code> expects a function as a child.</li><li name="19fc" id="19fc" class="graf graf--li graf-after--li graf--trailing">The function has a value prop passed in from <code class="markup--code markup--li-code">Context.Provider</code></li></ul></div></div></section><section name="f140" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="e985" id="e985" class="graf graf--h3 graf--leading">Notes</h3><h3 name="05b8" id="05b8" class="graf graf--h3 graf-after--h3">Redux Explained</h3><ul class="postList"><li name="eab4" id="eab4" class="graf graf--li graf-after--h3">JS Framework for managing the frontend state of a web application.</li><li name="3c8b" id="3c8b" class="graf graf--li graf-after--li">Gives us ability to store information in an organized manner in a web app and quickly retrieve that information from anywhere in the app.</li><li name="695d" id="695d" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Redux</code></li><li name="00d5" id="00d5" class="graf graf--li graf-after--li">Client Side Data Management</li><li name="dd41" id="dd41" class="graf graf--li graf-after--li">Controls “Frontend State”</li><li name="d828" id="d828" class="graf graf--li graf-after--li">NOT Your Database</li><li name="855a" id="855a" class="graf graf--li graf-after--li">NOT Component State</li><li name="4c1a" id="4c1a" class="graf graf--li graf-after--li">Just used for managing Data</li></ul><figure name="3c33" id="3c33" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="0*N7KFfhOZZ7UrY8s4" data-width="1706" data-height="836" src="https://cdn-images-1.medium.com/max/800/0*N7KFfhOZZ7UrY8s4"></figure><ul class="postList"><li name="04c0" id="04c0" class="graf graf--li graf-after--figure">Visual of how an app without React manages it’s data.</li><li name="bae2" id="bae2" class="graf graf--li graf-after--li">A lot of prop threading happening.</li><li name="989f" id="989f" class="graf graf--li graf-after--li">Data stored in a sep. location — <code class="markup--code markup--li-code">global data</code>. The Anatomy of Redux</li><li name="cd66" id="cd66" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Store</code></li><li name="9453" id="9453" class="graf graf--li graf-after--li">Holds the Frontend State</li><li name="cea4" id="cea4" class="graf graf--li graf-after--li">Provides an API for the Frontend State</li><li name="c653" id="c653" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Action</code></li><li name="7fb4" id="7fb4" class="graf graf--li graf-after--li">POJOs</li><li name="69a1" id="69a1" class="graf graf--li graf-after--li">Outline Changes to Frontend State</li><li name="1a0a" id="1a0a" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Reducers</code></li><li name="a372" id="a372" class="graf graf--li graf-after--li">Functions</li><li name="8bb8" id="8bb8" class="graf graf--li graf-after--li">Make Changes to Frontend State Where did Redux come from?</li><li name="6d0b" id="6d0b" class="graf graf--li graf-after--li">There are three central philosophies of Redux:</li></ul><ol class="postList"><li name="12ac" id="12ac" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">A Single Source of Truth</code> : state is stored in a POJO</li><li name="d178" id="d178" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">State is Read Only</code> : State is immutable, modified by dispatching actions.</li><li name="51c5" id="51c5" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Changes are Made with Pure Functions</code> : Reducers that receive the actions and return updated state are pure functions of the old state and action. When is it appropriate to use Redux?</li></ol><ul class="postList"><li name="117f" id="117f" class="graf graf--li graf-after--li">When doing a project with simpler global state requirements, it may be better to choose React’s Context API over Redux.</li><li name="5d3d" id="5d3d" class="graf graf--li graf-after--li">Redux offers more flexibility and support for middleware along with richer developer tools. Vocabulary</li><li name="1ceb" id="1ceb" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">State</code></li><li name="49e7" id="49e7" class="graf graf--li graf-after--li"><em class="markup--em markup--li-em">Redux is a State Manager</em></li><li name="5018" id="5018" class="graf graf--li graf-after--li">State is all the information stored by that program at a particular point in time.</li><li name="8fdb" id="8fdb" class="graf graf--li graf-after--li">Redux’s main job is to store the state and make it directly available to your entire app.</li><li name="8bbd" id="8bbd" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Store</code></li><li name="f027" id="f027" class="graf graf--li graf-after--li"><em class="markup--em markup--li-em">Redux stores state in a single store</em>.</li><li name="c97e" id="c97e" class="graf graf--li graf-after--li">Redux store is a single JS object with a couple of methods (not a class!)</li><li name="199d" id="199d" class="graf graf--li graf-after--li">Methods include: <code class="markup--code markup--li-code">getState</code>, <code class="markup--code markup--li-code">dispatch(action)</code>, and <code class="markup--code markup--li-code">subscribe(listener)</code></li><li name="8bcf" id="8bcf" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Actions</code></li><li name="2049" id="2049" class="graf graf--li graf-after--li"><em class="markup--em markup--li-em">Redux store is updated by dispatching actions</em></li><li name="cbac" id="cbac" class="graf graf--li graf-after--li">Action is just a POJO that includes a mandatory <code class="markup--code markup--li-code">type</code> property.</li><li name="f2d5" id="f2d5" class="graf graf--li graf-after--li">Contain info to update the store.</li><li name="1bd9" id="1bd9" class="graf graf--li graf-after--li">We dispatch actions in response to User actions or AJAX requests.</li><li name="1b78" id="1b78" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Pure Functions</code></li><li name="c436" id="c436" class="graf graf--li graf-after--li"><em class="markup--em markup--li-em">Redux Reducers are Pure Functions</em></li><li name="e204" id="e204" class="graf graf--li graf-after--li">Functions are pure when their behavior depends only on it’s arguments as has no side effects.</li><li name="450b" id="450b" class="graf graf--li graf-after--li">Simply takes in an argument and outputs a value.</li><li name="e146" id="e146" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Reducer</code></li><li name="9721" id="9721" class="graf graf--li graf-after--li"><em class="markup--em markup--li-em">Redux handles actions using reducers</em></li><li name="c312" id="c312" class="graf graf--li graf-after--li">A function that is called each time an action is dispatched.</li><li name="84d8" id="84d8" class="graf graf--li graf-after--li">Takes in an <code class="markup--code markup--li-code">action</code> and <code class="markup--code markup--li-code">current state</code></li><li name="90a3" id="90a3" class="graf graf--li graf-after--li">Required to be pure functions so their behavior is predictable.</li><li name="5c36" id="5c36" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Middleware</code></li><li name="6b22" id="6b22" class="graf graf--li graf-after--li"><em class="markup--em markup--li-em">Customize response to dispatch actions by using Middleware</em></li><li name="9287" id="9287" class="graf graf--li graf-after--li">Middleware is an optional component of Redus that allows custom responses to dispatched actions.</li><li name="f953" id="f953" class="graf graf--li graf-after--li">Most common use is to dispatch async requests to a server.</li><li name="773e" id="773e" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Time Traveling Dev Tools</code></li><li name="d703" id="d703" class="graf graf--li graf-after--li"><em class="markup--em markup--li-em">Redux can time travel wow</em></li><li name="7187" id="7187" class="graf graf--li graf-after--li">Time travel refers to Redux’s ability to revert to a previous state because reducers are all pure functions.</li><li name="ada3" id="ada3" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Thunks</code></li><li name="ee0f" id="ee0f" class="graf graf--li graf-after--li"><em class="markup--em markup--li-em">Convenient format for taking async actions in Redux</em></li><li name="586e" id="586e" class="graf graf--li graf-after--li">General concept in CS referring to a function who’s primary purpose is to call another function.</li><li name="6f45" id="6f45" class="graf graf--li graf-after--li graf--trailing">Most commonly used to make async API requests.</li></ul></div></div></section><section name="0dd8" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="40b9" id="40b9" class="graf graf--h3 graf--leading">Flux and Redux</h3><p name="6180" id="6180" class="graf graf--p graf-after--h3">What is Flux?</p><ul class="postList"><li name="06d1" id="06d1" class="graf graf--li graf-after--p">Front-end application architecutre.</li><li name="8311" id="8311" class="graf graf--li graf-after--li">A pattern in which to structure an application.</li><li name="05e6" id="05e6" class="graf graf--li graf-after--li">Unidirectional Data Flow — offers more predictability.</li><li name="751c" id="751c" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Actions</code> : Begins the data flow of data, simple object that contains a type; type indicates the type of change to be performed.</li><li name="e8e7" id="e8e7" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Dispatcher</code> : Mechanism for distributing actions to the store.</li><li name="af4f" id="af4f" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Store</code> : The entire state of the application, responsible for updating the state of your app.</li><li name="d7ff" id="d7ff" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">View</code> : Unit of code that&#39;s responsible for rendering the user interface. Used to re-render the application when actions and changes occur.</li></ul><figure name="4732" id="4732" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="0*ywV6dO4a4QcGJxK5" data-width="840" data-height="418" src="https://cdn-images-1.medium.com/max/800/0*ywV6dO4a4QcGJxK5"></figure><ul class="postList"><li name="af94" id="af94" class="graf graf--li graf-after--figure">Redux</li></ul><figure name="196e" id="196e" class="graf graf--figure graf-after--li"><img class="graf-image" data-image-id="0*Nd73GjTY1PVQtjtQ" data-width="1440" data-height="1080" src="https://cdn-images-1.medium.com/max/800/0*Nd73GjTY1PVQtjtQ"></figure><ul class="postList"><li name="dc16" id="dc16" class="graf graf--li graf-after--figure">Library that facilitates the implementation of Flux.</li><li name="623a" id="623a" class="graf graf--li graf-after--li">Redux Three Principles</li><li name="2ac6" id="2ac6" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Single Source of Truth</code></li><li name="a2b9" id="a2b9" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">State is Read-Only</code></li><li name="897b" id="897b" class="graf graf--li graf-after--li graf--trailing"><code class="markup--code markup--li-code">Only Pure Functions Change State</code></li></ul></div></div></section><section name="6e73" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="a5be" id="a5be" class="graf graf--h3 graf--leading">Store</h3><ul class="postList"><li name="cd1e" id="cd1e" class="graf graf--li graf-after--h3">Simply an object that holds the application state wrapped in an API.</li><li name="f57c" id="f57c" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Three methods</code>:</li><li name="354c" id="354c" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">getState()</code> : Returns the store&#39;s current state.</li><li name="537c" id="537c" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">dispatch(action)</code> : Passes an action into the store&#39;s reducer to tell it what info to update.</li><li name="4539" id="4539" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">subscribe(callback)</code> : Registers a callback to be triggered whenever the store updates. Updating the Store</li></ul><pre name="3e1f" id="3e1f" class="graf graf--pre graf-after--li">store.dispatch(action);<br>// Add Orange Action<br>const addOrange = {<br>  type: &quot;ADD_FRUIT&quot;,<br>  fruit: &quot;orange&quot;,<br>};<br>// Reducer for Orange Action<br>const fruitReducer = (state = [], action) =&gt; {<br>  switch (action.type) {<br>    case &quot;ADD_FRUIT&quot;:<br>      return [...state, action.fruit];<br>    default:<br>      return state;<br>  }<br>};<br>// Run the Dispatch<br>console.log(store.getState()); // []<br>store.dispatch(addOrange);<br>console.log(store.getState()); // [ &#39;orange&#39; ]</pre><p name="72a0" id="72a0" class="graf graf--p graf-after--pre">Subscribing to the store</p><ul class="postList"><li name="1a02" id="1a02" class="graf graf--li graf-after--p">Whenever a store process a dispatch(), it triggers all its subscribers.</li><li name="e667" id="e667" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Subscribers</code> : callbacks that can be added to the store via subscribe().</li></ul><pre name="466b" id="466b" class="graf graf--pre graf-after--li">const display = () =&gt; {<br>  console.log(store.getState());<br>};<br>const unsubscribeDisplay = store.subscribe(display);<br>store.dispatch(addOrange); // [ &#39;orange&#39;, &#39;orange&#39; ]<br>// display will no longer be invoked after store.dispatch()<br>unsubscribeDisplay();<br>store.dispatch(addOrange); // no output</pre><p name="9977" id="9977" class="graf graf--p graf-after--pre">Reviewing a simple example</p><pre name="8ca3" id="8ca3" class="graf graf--pre graf-after--p">// app.js<br>const { createStore } = require(&quot;redux&quot;);<br>// Define the store&#39;s reducer.<br>const fruitReducer = (state = [], action) =&gt; {<br>  switch (action.type) {<br>    case &quot;ADD_FRUIT&quot;:<br>      return [...state, action.fruit];<br>    default:<br>      return state;<br>  }<br>};<br>// Create the store.<br>const store = createStore(fruitReducer);<br>// Define an &#39;ADD_FRUIT&#39; action for adding an orange to the store.<br>const addOrange = {<br>  type: &quot;ADD_FRUIT&quot;,<br>  fruit: &quot;orange&quot;,<br>};<br>// Log to the console the store&#39;s state before and after<br>// dispatching the &#39;ADD_FRUIT&#39; action.<br>console.log(store.getState()); // []<br>store.dispatch(addOrange);<br>console.log(store.getState()); // [ &#39;orange&#39; ]<br>// Define and register a callback to listen for store updates<br>// and console log the store&#39;s state.<br>const display = () =&gt; {<br>  console.log(store.getState());<br>};<br>const unsubscribeDisplay = store.subscribe(display);<br>// Dispatch the &#39;ADD_FRUIT&#39; action. This time the `display` callback<br>// will be called by the store when its state is updated.<br>store.dispatch(addOrange); // [ &#39;orange&#39;, &#39;orange&#39; ]<br>// Unsubscribe the `display` callback to stop listening for store updates.<br>unsubscribeDisplay();<br>// Dispatch the &#39;ADD_FRUIT&#39; action one more time<br>// to confirm that the `display` method won&#39;t be called<br>// when the store state is updated.<br>store.dispatch(addOrange); // no output</pre><h3 name="22c1" id="22c1" class="graf graf--h3 graf-after--pre">Reducers</h3><ul class="postList"><li name="98f3" id="98f3" class="graf graf--li graf-after--h3">Reducer function receives the current <code class="markup--code markup--li-code">state</code> and <code class="markup--code markup--li-code">action</code>, updates the state appropriately based on the <code class="markup--code markup--li-code">action.type</code> and returns the following state.</li><li name="4cee" id="4cee" class="graf graf--li graf-after--li">You can bundles different action types and ensuing logic by using a switch/case statement.</li></ul><pre name="5654" id="5654" class="graf graf--pre graf-after--li">const fruitReducer = (state = [], action) =&gt; {<br>  switch (action.type) {<br>    case &quot;ADD_FRUIT&quot;:<br>      return [...state, action.fruit];<br>    case &quot;ADD_FRUITS&quot;:<br>      return [...state, ...action.fruits];<br>    case &quot;SELL_FRUIT&quot;:<br>      const index = state.indexOf(action.fruit);<br>      if (index !== -1) {<br>        // remove first instance of action.fruit<br>        return [...state.slice(0, index), ...state.slice(index + 1)];<br>      }<br>      return state; // if action.fruit is not in state, return previous state<br>    case &quot;SELL_OUT&quot;:<br>      return [];<br>    default:<br>      return state;<br>  }<br>};</pre><p name="4b64" id="4b64" class="graf graf--p graf-after--pre">Reviewing how Array#slice works</p><pre name="7ae8" id="7ae8" class="graf graf--pre graf-after--p">const fruits = [&quot;apple&quot;, &quot;apple&quot;, &quot;orange&quot;, &quot;banana&quot;, &quot;watermelon&quot;];<br>// The index of the &#39;orange&#39; element is 2.<br>const index = fruits.indexOf(&quot;orange&quot;);<br>// `...fruits.slice(0, index)` returns the array [&#39;apple&#39;, &#39;apple&#39;]<br>// `...fruits.slice(index + 1)` returns the array [&#39;banana&#39;, &#39;watermelon&#39;]<br>// The spread syntax combines the two array slices into the array<br>// [&#39;apple&#39;, &#39;apple&#39;, &#39;banana&#39;, &#39;watermelon&#39;]<br>const newFruits = [...fruits.slice(0, index), ...fruits.slice(index + 1)];</pre><ul class="postList"><li name="f322" id="f322" class="graf graf--li graf-after--pre">Approach that can be used to remove an element without mutating the original array. Avoiding state mutations</li><li name="f862" id="f862" class="graf graf--li graf-after--li">Your reducer must always return a new object if the state changes. GOOD</li></ul><pre name="a608" id="a608" class="graf graf--pre graf-after--li">const goodReducer = (state = { count: 0 }, action) =&gt; {<br>  switch (action.type) {<br>    case &quot;INCREMENT_COUNTER&quot;:<br>      const nextState = Object.assign({}, state);<br>      nextState.count++;<br>      return nextState;<br>    default:<br>      return state;<br>  }<br>};</pre><p name="e8cb" id="e8cb" class="graf graf--p graf-after--pre">BAD</p><pre name="d1ae" id="d1ae" class="graf graf--pre graf-after--p graf--trailing">const badReducer = (state = { count: 0 }, action) =&gt; {<br>  switch (action.type) {<br>    case &quot;INCREMENT_COUNTER&quot;:<br>      state.count++;<br>      return state;<br>    default:<br>      return state;<br>  }<br>};</pre></div></div></section><section name="52c2" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="ad53" id="ad53" class="graf graf--h3 graf--leading">Actions</h3><ul class="postList"><li name="64b4" id="64b4" class="graf graf--li graf-after--h3">Actions are the only way to trigger changes to the store’s state. Using action creators</li></ul><pre name="b92a" id="b92a" class="graf graf--pre graf-after--li">const addOrange = {<br>  type: &quot;ADD_FRUIT&quot;,<br>  fruit: &quot;orange&quot;,<br>};<br>store.dispatch(addOrange);<br>console.log(store.getState()); // [ &#39;orange&#39; ]</pre><ul class="postList"><li name="c39d" id="c39d" class="graf graf--li graf-after--pre">fruit is the <code class="markup--code markup--li-code">payload key</code> and orange is the <code class="markup--code markup--li-code">state data</code></li><li name="43e2" id="43e2" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Action Creators</code> : Functions created from extrapolating the creation of an action object.</li></ul><pre name="4af0" id="4af0" class="graf graf--pre graf-after--li">const addFruit = (fruit) =&gt; ({<br>  type: &quot;ADD_FRUIT&quot;,<br>  fruit,<br>});</pre><ul class="postList"><li name="11fd" id="11fd" class="graf graf--li graf-after--pre">Use parenthesis for implicit return value.</li><li name="eea8" id="eea8" class="graf graf--li graf-after--li">We can now add whatever fruit we’d like.</li></ul><pre name="b50d" id="b50d" class="graf graf--pre graf-after--li">store.dispatch(addFruit(&quot;apple&quot;));<br>store.dispatch(addFruit(&quot;strawberry&quot;));<br>store.dispatch(addFruit(&quot;lychee&quot;));<br>console.log(store.getState()); // [ &#39;orange&#39;, &#39;apple&#39;, &#39;strawberry&#39;, &#39;lychee&#39; ]</pre><p name="6b10" id="6b10" class="graf graf--p graf-after--pre">Preventing typos in action type string literals</p><pre name="c467" id="c467" class="graf graf--pre graf-after--p">const ADD_FRUIT = &quot;ADD_FRUIT&quot;;<br>const ADD_FRUITS = &quot;ADD_FRUITS&quot;;<br>const SELL_FRUIT = &quot;SELL_FRUIT&quot;;<br>const SELL_OUT = &quot;SELL_OUT&quot;;<br>const addFruit = (fruit) =&gt; ({<br>  type: ADD_FRUIT,<br>  fruit,<br>});<br>const addFruits = (fruits) =&gt; ({<br>  type: ADD_FRUITS,<br>  fruits,<br>});<br>const sellFruit = (fruit) =&gt; ({<br>  type: SELL_FRUIT,<br>  fruit,<br>});<br>const sellOut = () =&gt; ({<br>  type: SELL_OUT,<br>});</pre><ul class="postList"><li name="ae86" id="ae86" class="graf graf--li graf-after--pre graf--trailing">Using constant variables helps reduce simple typos in a reducer’s case clauses.</li></ul></div></div></section><section name="7048" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="04b5" id="04b5" class="graf graf--h3 graf--leading">Debugging Arrow Functions</h3><ul class="postList"><li name="43c6" id="43c6" class="graf graf--li graf-after--h3">It is important to learn how to use debugger statements with arrow functions to effectively debug Redux cycle. Understanding the limitations of implicit return values</li></ul><pre name="f86e" id="f86e" class="graf graf--pre graf-after--li">const addFruit = (fruit) =&gt; {<br>  return {<br>    type: &quot;ADD_FRUIT&quot;,<br>    fruit,<br>  };<br>};<br>const addFruit = (fruit) =&gt; {<br>  debugger;<br>  return {<br>    type: &quot;ADD_FRUIT&quot;,<br>    fruit,<br>  };<br>};</pre><ul class="postList"><li name="2806" id="2806" class="graf graf--li graf-after--pre graf--trailing">You must use explicit return statement arrow function to use a debugger.</li></ul></div></div></section><section name="39b6" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="1b66" id="1b66" class="graf graf--h3 graf--leading">React Router Introduction</h3><p name="4d05" id="4d05" class="graf graf--p graf-after--h3">Now that you know how to render components in a React app, how do you handle rendering different components for different website pages? React Router is the answer!</p><p name="b100" id="b100" class="graf graf--p graf-after--p">Think of how you have created server-side routes in Express. Take the following URL and server-side route. Notice how the <code class="markup--code markup--p-code">/users/:userId</code> path corresponds with the <code class="markup--code markup--p-code">http://localhost:3000/users/2</code> URL to render a specific HTML page.</p><pre name="a4e5" id="a4e5" class="graf graf--pre graf-after--p">// <a href="http://localhost:3000/users/2" data-href="http://localhost:3000/users/2" class="markup--anchor markup--pre-anchor" target="_blank">http://localhost:3000/users/2</a><br>app.get(&#39;/users/:userId&#39;, (req, res) =&gt; {<br>  res.render(&#39;userProfile.pug&#39;);<br>});</pre><p name="710b" id="710b" class="graf graf--p graf-after--pre">In the default React setup, you lose the ability to create routes in the same manner as in Express. This is what React Router aims to solve!</p><p name="f994" id="f994" class="graf graf--p graf-after--p"><a href="https://github.com/ReactTraining/react-router" data-href="https://github.com/ReactTraining/react-router" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">React Router</a> is a frontend routing library that allows you to control which components to display using the browser location. A user can also copy and paste a URL and email it to a friend or link to it from their own website.</p><p name="198a" id="198a" class="graf graf--p graf-after--p">When you finish this article, you should be able to use the following from the <code class="markup--code markup--p-code">react-router-dom</code> library:</p><ul class="postList"><li name="e5d3" id="e5d3" class="graf graf--li graf-after--p"><code class="markup--code markup--li-code">&lt;BrowserRouter&gt;</code> to provide your application access to the <code class="markup--code markup--li-code">react-router-dom</code> library; and</li><li name="e1cd" id="e1cd" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">&lt;Route&gt;</code> to connect specific URL paths to specific components you want rendered; and</li><li name="bf15" id="bf15" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">&lt;Switch&gt;</code> to wrap several <code class="markup--code markup--li-code">Route</code> elements, rendering only one even if several match the current URL; and</li><li name="0318" id="0318" class="graf graf--li graf-after--li">React Router’s <code class="markup--code markup--li-code">match</code> prop to access route path parameters.</li></ul><h3 name="e166" id="e166" class="graf graf--h3 graf-after--li">Getting started with routing</h3><p name="8bf3" id="8bf3" class="graf graf--p graf-after--h3">Since you are writing single page apps, you don’t want to refresh the page each time you change the browser location. Instead, you want to update the browser location and your app’s response using JavaScript. This is known as client-side routing. You are using React, so you will use React Router to do this.</p><p name="a5d4" id="a5d4" class="graf graf--p graf-after--p">Create a simple react project template:</p><pre name="844c" id="844c" class="graf graf--pre graf-after--p">npx create-react-app my-app --template @appacademy/simple</pre><p name="e996" id="e996" class="graf graf--p graf-after--pre">Then install React Router:</p><pre name="0a55" id="0a55" class="graf graf--pre graf-after--p">npm install --save react-router-dom@^5.1.2</pre><p name="84f3" id="84f3" class="graf graf--p graf-after--pre">Now import <code class="markup--code markup--p-code">BrowserRouter</code> from <code class="markup--code markup--p-code">react-router-dom</code> in your entry file:</p><pre name="0b8d" id="0b8d" class="graf graf--pre graf-after--p">import { BrowserRouter } from &#39;react-router-dom`;</pre><h3 name="9870" id="9870" class="graf graf--h3 graf-after--pre">BrowserRouter</h3><p name="c429" id="c429" class="graf graf--p graf-after--h3"><code class="markup--code markup--p-code">BrowserRouter</code> is the primary component of the router that wraps your route hierarchy. It creates a React context that passes routing information down to all its descendent components. For example, if you want to give <code class="markup--code markup--p-code">&lt;App&gt;</code> and all its children components access to React Router, you would wrap <code class="markup--code markup--p-code">&lt;App&gt;</code> like so:</p><pre name="3659" id="3659" class="graf graf--pre graf-after--p">// ./src/index.js<br>import React from &#39;react&#39;;<br>import ReactDOM from &#39;react-dom&#39;;<br>import { BrowserRouter } from &#39;react-router-dom&#39;;<br>import App from &#39;./App&#39;;</pre><pre name="55ae" id="55ae" class="graf graf--pre graf-after--pre">const Root = () =&gt; {<br>  return (<br>    &lt;BrowserRouter&gt;<br>      &lt;App /&gt;<br>    &lt;/BrowserRouter&gt;<br>  );<br>};</pre><pre name="0332" id="0332" class="graf graf--pre graf-after--pre">ReactDOM.render(<br>  &lt;React.StrictMode&gt;<br>    &lt;Root /&gt;<br>  &lt;/React.StrictMode&gt;,<br>  document.getElementById(&#39;root&#39;),<br>);</pre><p name="26a4" id="26a4" class="graf graf--p graf-after--pre">Now you can route the rendering of certain components to certain URLs (i.e <code class="markup--code markup--p-code"><a href="https://www.website.com/profile%29." data-href="https://www.website.com/profile)." class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">https://www.website.com/profile</a></code><a href="https://www.website.com/profile%29." data-href="https://www.website.com/profile)." class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">).</a></p><h3 name="8fd1" id="8fd1" class="graf graf--h3 graf-after--p">HashRouter</h3><p name="87ca" id="87ca" class="graf graf--p graf-after--h3">Alternatively, you could import and use <code class="markup--code markup--p-code">HashRouter</code> from <code class="markup--code markup--p-code">react-router-dom</code>. Links for applications that use <code class="markup--code markup--p-code">&lt;HashRouter&gt;</code> would look like <code class="markup--code markup--p-code">https://www.website.com/#/profile</code> (with an <code class="markup--code markup--p-code">#</code> between the domain and path).</p><p name="2d2c" id="2d2c" class="graf graf--p graf-after--p">You’ll focus on using the <code class="markup--code markup--p-code">&lt;BrowserRouter&gt;</code>.</p><h3 name="2387" id="2387" class="graf graf--h3 graf-after--p">Creating frontend routes</h3><p name="cfc9" id="cfc9" class="graf graf--p graf-after--h3">React Router helps your React application render specific components based on the URL. The React Router component you’ll use most often is <code class="markup--code markup--p-code">&lt;Route&gt;</code>.</p><p name="c0ca" id="c0ca" class="graf graf--p graf-after--p">The <code class="markup--code markup--p-code">&lt;Route&gt;</code> component is used to wrap another component, causing that component to only be rendered if a certain URL is matched. The behavior of the <code class="markup--code markup--p-code">&lt;Route&gt;</code> component is controlled by the following props: <code class="markup--code markup--p-code">path</code>, <code class="markup--code markup--p-code">component</code>, <code class="markup--code markup--p-code">exact</code>, and <code class="markup--code markup--p-code">render</code> (optional).</p><p name="a109" id="a109" class="graf graf--p graf-after--p">Create a simple <code class="markup--code markup--p-code">Users</code> component that returns <code class="markup--code markup--p-code">&lt;h1&gt;This is the users index!&lt;/h1&gt;</code>. Now let&#39;s refactor your <code class="markup--code markup--p-code">index.js</code> file so that you can create your routes within the component:</p><pre name="c93d" id="c93d" class="graf graf--pre graf-after--p">// ./src/index.js<br>import React from &#39;react&#39;;<br>import ReactDOM from &#39;react-dom&#39;;<br>import { BrowserRouter, Route } from &#39;react-router-dom&#39;;<br>import App from &#39;./App&#39;;<br>import Users from &#39;./Users&#39;;</pre><pre name="4a23" id="4a23" class="graf graf--pre graf-after--pre">const Root = () =&gt; {<br>  return (<br>    &lt;BrowserRouter&gt;<br>      &lt;div&gt;<br>        {/* TODO: Routes */}<br>      &lt;/div&gt;<br>    &lt;/BrowserRouter&gt;<br>  );<br>};</pre><pre name="829d" id="829d" class="graf graf--pre graf-after--pre">ReactDOM.render(<br>  &lt;React.StrictMode&gt;<br>    &lt;Root /&gt;<br>  &lt;/React.StrictMode&gt;,<br>  document.getElementById(&#39;root&#39;),<br>);</pre><p name="9a75" id="9a75" class="graf graf--p graf-after--pre">Note that <code class="markup--code markup--p-code">BrowserRouter</code> can only have a single child component, so the snippet above wraps all routes within parent a <code class="markup--code markup--p-code">&lt;div&gt;</code> element. Now let&#39;s create some routes!</p><h3 name="b4a5" id="b4a5" class="graf graf--h3 graf-after--p">component</h3><p name="c7f9" id="c7f9" class="graf graf--p graf-after--h3">Begin with the <code class="markup--code markup--p-code">component</code> prop. This prop takes a reference to the component to be rendered. Let&#39;s render your <code class="markup--code markup--p-code">App</code> component:</p><pre name="2a28" id="2a28" class="graf graf--pre graf-after--p">const Root = () =&gt; {<br>  return (<br>    &lt;BrowserRouter&gt;<br>      &lt;div&gt;<br>        &lt;Route component={App} /&gt;<br>      &lt;/div&gt;<br>    &lt;/BrowserRouter&gt;<br>  );<br>};</pre><p name="97bf" id="97bf" class="graf graf--p graf-after--pre">Now you’ll need to connect a path to the component!</p><h3 name="57c2" id="57c2" class="graf graf--h3 graf-after--p">path</h3><p name="42ca" id="42ca" class="graf graf--p graf-after--h3">The wrapped component will only be rendered when the path is matched. The path matches the URL when it matches some initial portion of the URL. For example, a path of <code class="markup--code markup--p-code">/</code> would match both of the following URLs: <code class="markup--code markup--p-code">/</code> and <code class="markup--code markup--p-code">/users</code>. (Because <code class="markup--code markup--p-code">/users</code> begins with a <code class="markup--code markup--p-code">/</code> it matches the path <code class="markup--code markup--p-code">/</code>)</p><pre name="07ed" id="07ed" class="graf graf--pre graf-after--p">&lt;Route path=&#39;/&#39; component={App} /&gt;<br>&lt;Route path=&#39;/users&#39; component={Users} /&gt;</pre><p name="1a04" id="1a04" class="graf graf--p graf-after--pre">Take a moment to navigate to <code class="markup--code markup--p-code">http://localhost:3000/users</code> to see how both the <code class="markup--code markup--p-code">App</code> component and <code class="markup--code markup--p-code">Users</code> component are rendering.</p><h3 name="85f8" id="85f8" class="graf graf--h3 graf-after--p">exact</h3><p name="6950" id="6950" class="graf graf--p graf-after--h3">If this <code class="markup--code markup--p-code">exact</code> flag is set, the path will only match when it exactly matches the URL. Then browsing to the <code class="markup--code markup--p-code">/users</code> path would no longer match <code class="markup--code markup--p-code">/</code> and only the <code class="markup--code markup--p-code">Users</code> component will be rendered (instead of both the <code class="markup--code markup--p-code">App</code> component and <code class="markup--code markup--p-code">Users</code> component).</p><pre name="b2fc" id="b2fc" class="graf graf--pre graf-after--p">&lt;Route exact path=&#39;/&#39; component={App} /&gt;<br>&lt;Route path=&#39;/users&#39; component={Users} /&gt;</pre><h3 name="f550" id="f550" class="graf graf--h3 graf-after--pre">render</h3><p name="9a99" id="9a99" class="graf graf--p graf-after--h3">This is an optional prop that takes in a function to be called. The function will be called when the path matches. The function’s return value is rendered. You could also define a functional component inside the <code class="markup--code markup--p-code">component</code> prop, but this results in extra, unnecessary work for React. The <code class="markup--code markup--p-code">render</code> prop is preferred for inline rendering of simple functional components.</p><p name="84d0" id="84d0" class="graf graf--p graf-after--p">The difference between using <code class="markup--code markup--p-code">component</code> and <code class="markup--code markup--p-code">render</code> is that <code class="markup--code markup--p-code">component</code> returns new JSX to be re-mounted every time the route renders, while <code class="markup--code markup--p-code">render</code> simply returns to JSX what will be mounted once and re-rendered. For any given route, you should only use either the <code class="markup--code markup--p-code">component</code> prop, or the <code class="markup--code markup--p-code">render</code> prop. If both are supplied, only the <code class="markup--code markup--p-code">component</code> prop will be used.</p><pre name="8599" id="8599" class="graf graf--pre graf-after--p">// This inline rendering will work, but is unnecessarily slow.<br>&lt;Route path=&quot;/hello&quot; component={() =&gt; &lt;h1&gt;Hello!&lt;/h1&gt;} /&gt;</pre><pre name="ee84" id="ee84" class="graf graf--pre graf-after--pre">// This is the preferred way for inline rendering.<br>&lt;Route path=&quot;/hello&quot; render={() =&gt; &lt;h1&gt;Hello!&lt;/h1&gt;} /&gt;</pre><p name="b4bc" id="b4bc" class="graf graf--p graf-after--pre">It can be helpful to use <code class="markup--code markup--p-code">render</code> instead of <code class="markup--code markup--p-code">component</code> in your <code class="markup--code markup--p-code">&lt;Route&gt;</code> when you need to pass props into the rendered component. For example, imagine that you needed to pass the <code class="markup--code markup--p-code">users</code> object as a prop to your <code class="markup--code markup--p-code">Users</code> component. Then you could pass in props from <code class="markup--code markup--p-code">Root</code> to <code class="markup--code markup--p-code">Users</code> by returning the <code class="markup--code markup--p-code">Users</code> component like so:</p><pre name="a9f2" id="a9f2" class="graf graf--pre graf-after--p">// `users` to be passed as a prop:<br>const users = {<br>  1: { name: &#39;Andrew&#39; },<br>  2: { name: &#39;Raymond&#39; }<br>};</pre><pre name="ab2d" id="ab2d" class="graf graf--pre graf-after--pre">&lt;Route path=&quot;/users&quot; render={() =&gt; &lt;Users users={users} /&gt;} /&gt;</pre><p name="5e64" id="5e64" class="graf graf--p graf-after--pre">As a reminder, <code class="markup--code markup--p-code">BrowserRouter</code> can only have a single child component. That&#39;s why you have wrapped all your routes within parent a <code class="markup--code markup--p-code">&lt;div&gt;</code> element.</p><pre name="40ae" id="40ae" class="graf graf--pre graf-after--p">const Root = () =&gt; {<br>  const users = {<br>    1: { name: &#39;Andrew&#39; },<br>    2: { name: &#39;Raymond&#39; }<br>  };</pre><pre name="120a" id="120a" class="graf graf--pre graf-after--pre">  return (<br>    &lt;BrowserRouter&gt;<br>      &lt;div&gt;<br>        &lt;h1&gt;Hi, I&#39;m Root!&lt;/h1&gt;<br>        &lt;Route exact path=&quot;/&quot; component={App} /&gt;<br>        &lt;Route path=&quot;/hello&quot; render={() =&gt; &lt;h1&gt;Hello!&lt;/h1&gt;} /&gt;<br>        &lt;Route path=&quot;/users&quot; render={() =&gt; &lt;Users users={users} /&gt;} /&gt;<br>      &lt;/div&gt;<br>    &lt;/BrowserRouter&gt;<br>  );<br>};</pre><p name="a6ed" id="a6ed" class="graf graf--p graf-after--pre">With this <code class="markup--code markup--p-code">Root</code> component, you will always render the <code class="markup--code markup--p-code">&lt;h1&gt;Hi, I&#39;m Root!&lt;/h1&gt;</code>, regardless of the path. Because of the first <code class="markup--code markup--p-code">&lt;Route&gt;</code>, you will only render the <code class="markup--code markup--p-code">App</code> component if the path exactly matches <code class="markup--code markup--p-code">/</code>. Because of the second <code class="markup--code markup--p-code">&lt;Route&gt;</code>, you will only render the <code class="markup--code markup--p-code">Users</code> component if the path matches <code class="markup--code markup--p-code">/users</code>.</p><h3 name="adca" id="adca" class="graf graf--h3 graf-after--p">Route path params</h3><p name="2b43" id="2b43" class="graf graf--p graf-after--h3">A component’s props can also hold information about a URL’s parameters. The router will match route segments starting at <code class="markup--code markup--p-code">:</code> up to the next <code class="markup--code markup--p-code">/</code>, <code class="markup--code markup--p-code">?</code>, or <code class="markup--code markup--p-code">#</code>. Those matched values are then passed to components via their props. Such segments are <em class="markup--em markup--p-em">wildcard</em> values that make up your route parameters.</p><p name="3010" id="3010" class="graf graf--p graf-after--p">For example, take the route below:</p><pre name="bdc7" id="bdc7" class="graf graf--pre graf-after--p">&lt;Route path=&quot;/users/:userId&quot;<br>       render={(props) =&gt; &lt;Profile users={users} {...props} /&gt;} /&gt;</pre><p name="2292" id="2292" class="graf graf--p graf-after--pre">The router would break down the full <code class="markup--code markup--p-code">/users/:userId/photos</code> path to two parts: <code class="markup--code markup--p-code">/users</code>, <code class="markup--code markup--p-code">:userId</code>.</p><p name="7194" id="7194" class="graf graf--p graf-after--p">The <code class="markup--code markup--p-code">Profile</code> component&#39;s props would have access to the <code class="markup--code markup--p-code">:userId</code> part of the <code class="markup--code markup--p-code">http://localhost:3000/users/:userId/photos</code> URL through the <code class="markup--code markup--p-code">props</code> with router parameter information. You would access the the <code class="markup--code markup--p-code">match</code> prop&#39;s parameters (<code class="markup--code markup--p-code">props.match.params</code>). If you are using the <code class="markup--code markup--p-code">render</code> prop of the <code class="markup--code markup--p-code">Route</code> component, make sure to spread the props back into the component if you want it to know about the &quot;match&quot; parameters.</p><pre name="ebb8" id="ebb8" class="graf graf--pre graf-after--p">// Route&#39;s `render` prop allows you to pass the `users`<br>// prop and spread the router `props`.<br>render={(props) =&gt; &lt;Profile users={users} {...props} /&gt;}</pre><p name="1ce2" id="1ce2" class="graf graf--p graf-after--pre">The <code class="markup--code markup--p-code">params</code> object would then have a property of <code class="markup--code markup--p-code">userId</code> which would hold the value of the <code class="markup--code markup--p-code">:userId</code> <em class="markup--em markup--p-em">wildcard</em> value. Let&#39;s render the <code class="markup--code markup--p-code">userId</code> parameter in a user profile component. Take a moment to create a <code class="markup--code markup--p-code">Profile.js</code> file with the following code:</p><pre name="708d" id="708d" class="graf graf--pre graf-after--p">// ./src/Profile.js<br>import React from &quot;react&quot;;</pre><pre name="f629" id="f629" class="graf graf--pre graf-after--pre">const Profile = (props) =&gt; (<br>  &lt;div&gt;<br>    The user&#39;s id is {props.match.params.userId}.<br>  &lt;/div&gt;<br>);</pre><pre name="c9b2" id="c9b2" class="graf graf--pre graf-after--pre">export default Profile;</pre><p name="d189" id="d189" class="graf graf--p graf-after--pre">Notice how it uses the <code class="markup--code markup--p-code">match</code> prop to access the <code class="markup--code markup--p-code">:userId</code> parameter from the URL. You can use this wildcard to make and AJAX call to fetch the user information from the database and render the return data in the <code class="markup--code markup--p-code">Profile</code> component. Recall that your <code class="markup--code markup--p-code">Profile</code> component was rendered at the path <code class="markup--code markup--p-code">/users/:userId</code>. Thus you can use your <code class="markup--code markup--p-code">userId</code> parameters from <code class="markup--code markup--p-code">match.params</code> to fetch a specific user:</p><pre name="f015" id="f015" class="graf graf--pre graf-after--p">// ./src/Profile.js<br>import React from &quot;react&quot;;</pre><pre name="893f" id="893f" class="graf graf--pre graf-after--pre">const Profile = ({ users, match: { params } }) =&gt; {</pre><pre name="7a33" id="7a33" class="graf graf--pre graf-after--pre">  // In a real-world scenario, you&#39;d make a call to an API to fetch the user,<br>  // instead of passing down and keying into a `users` prop.<br>  const user = users[params.userId];</pre><pre name="af70" id="af70" class="graf graf--pre graf-after--pre">  return (<br>    &lt;div&gt;<br>      The user&#39;s id is {params.userId} and the user&#39;s name is {user.name}.<br>    &lt;/div&gt;<br>  );<br>};</pre><pre name="55a8" id="55a8" class="graf graf--pre graf-after--pre">export default Profile;</pre><h3 name="c94c" id="c94c" class="graf graf--h3 graf-after--pre">Match</h3><p name="8291" id="8291" class="graf graf--p graf-after--h3">Now that you’ve seen your React Router’s <code class="markup--code markup--p-code">match</code> prop in action, let&#39;s go over more about <a href="https://reacttraining.com/react-router/web/api/Route/route-props" data-href="https://reacttraining.com/react-router/web/api/Route/route-props" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">route props</a>! React Router passes information to the components as route props, accessible to all components with access to the React Router. The three props it makes available are <code class="markup--code markup--p-code">location</code>, <code class="markup--code markup--p-code">match</code> and <code class="markup--code markup--p-code">history</code>. You&#39;ve learned about <code class="markup--code markup--p-code">props.match.params</code>, but now let&#39;s review the other properties of the <code class="markup--code markup--p-code">match</code> prop!</p><p name="684f" id="684f" class="graf graf--p graf-after--p">This is an object that contains important information about how the current URL matches the route path. Here are some of the more useful keys on the <code class="markup--code markup--p-code">match</code> object:</p><ul class="postList"><li name="1d2c" id="1d2c" class="graf graf--li graf-after--p"><code class="markup--code markup--li-code">isExact</code>: a boolean that tells you whether or not the URL exactly matches the path</li><li name="b558" id="b558" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">url</code>: the current URL</li><li name="ab28" id="ab28" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">path</code>: the route path it matched against (without wildcards filled in)</li><li name="be5b" id="be5b" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">params</code>: the matches for the individual wildcard segments, nested under their names</li></ul><p name="8e80" id="8e80" class="graf graf--p graf-after--li">When you use React Router, the browser <code class="markup--code markup--p-code">location</code> and <code class="markup--code markup--p-code">history</code> are a part of the state of your app. You can store information about which component should be displayed, which user profile you are currently viewing, or any other piece of state, in the browser location. You can then access that information from anywhere your Router props are passed to in your app.</p><p name="a52a" id="a52a" class="graf graf--p graf-after--p">Now that you’ve learned about parameters and route props, let’s revisit your <code class="markup--code markup--p-code">Root</code> component to add an <code class="markup--code markup--p-code">exact</code> flag to your <code class="markup--code markup--p-code">/users</code> route so that it does not render with your <code class="markup--code markup--p-code">/users/:userId</code> route. Your component should look something like this:</p><pre name="ea4f" id="ea4f" class="graf graf--pre graf-after--p">const Root = () =&gt; {<br>  const users = {<br>    1: { name: &#39;Andrew&#39; },<br>    2: { name: &#39;Raymond&#39; }<br>  };</pre><pre name="65a4" id="65a4" class="graf graf--pre graf-after--pre">  return (<br>    &lt;BrowserRouter&gt;<br>      &lt;h1&gt;Hi, I&#39;m Root!&lt;/h1&gt;<br>      &lt;div&gt;<br>        &lt;Route exact path=&quot;/&quot; component={App} /&gt;<br>        &lt;Route path=&quot;/hello&quot; render={() =&gt; &lt;h1&gt;Hello!&lt;/h1&gt;} /&gt;</pre><pre name="57c4" id="57c4" class="graf graf--pre graf-after--pre">        {/* Render the `Users` page if no ID is included. */}<br>        &lt;Route exact path=&quot;/users&quot; render={() =&gt; &lt;Users users={users} /&gt;} /&gt;</pre><pre name="6956" id="6956" class="graf graf--pre graf-after--pre">        {/* Otherwise, render the profile page for that userId. */}<br>        &lt;Route path=&quot;/users/:userId&quot; component={(props) =&gt; &lt;Profile users={users} {...props} /&gt;} /&gt;<br>      &lt;/div&gt;<br>    &lt;/BrowserRouter&gt;<br>  );<br>};</pre><h3 name="1774" id="1774" class="graf graf--h3 graf-after--pre">What you learned</h3><p name="95c6" id="95c6" class="graf graf--p graf-after--h3">In this article, you learned how to:</p><ul class="postList"><li name="92fc" id="92fc" class="graf graf--li graf-after--p">Use components from the React Router library; and</li><li name="19b5" id="19b5" class="graf graf--li graf-after--li">Create routes to render specific components; and</li><li name="fc9d" id="fc9d" class="graf graf--li graf-after--li">Manage the order of rendered routes; and</li><li name="3281" id="3281" class="graf graf--li graf-after--li">Use the <code class="markup--code markup--li-code">exact</code> flag to ensure that a specific path renders a specific component; and</li><li name="3949" id="3949" class="graf graf--li graf-after--li graf--trailing">Use the React Router <code class="markup--code markup--li-code">match</code> prop to access Router params.</li></ul></div></div></section><section name="615b" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="b260" id="b260" class="graf graf--h3 graf--leading">React Router Navigation</h3><p name="fbb8" id="fbb8" class="graf graf--p graf-after--h3">Now that you know how to create front-end routes with React Router, you’ll need to implement a way for your users to navigate the routes! This is what using React Router’s <code class="markup--code markup--p-code">Link</code>, <code class="markup--code markup--p-code">NavLink</code>, <code class="markup--code markup--p-code">Redirect</code>, and <code class="markup--code markup--p-code">history</code> prop can help you do.</p><p name="c2c8" id="c2c8" class="graf graf--p graf-after--p">In this article, you’ll be working off of the demo project you built in the React Router Intro reading. When you finish this article, you should be able to use the following components from the <code class="markup--code markup--p-code">react-router-dom</code> library:</p><ul class="postList"><li name="76bc" id="76bc" class="graf graf--li graf-after--p"><code class="markup--code markup--li-code">&lt;Link&gt;</code> or <code class="markup--code markup--li-code">&lt;NavLink&gt;</code> to create links with absolute paths to routes in your application (like &quot;/users/1&quot;); and,</li><li name="cdc2" id="cdc2" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">&lt;Redirect&gt;</code> to redirect a user to another path (i.e. a login page when the user is not logged in); and</li><li name="d8a7" id="d8a7" class="graf graf--li graf-after--li">React Router’s <code class="markup--code markup--li-code">history</code> prop to update a browser&#39;s URL programmatically.</li></ul><h3 name="daf0" id="daf0" class="graf graf--h3 graf-after--li">Adding links for navigation</h3><p name="9f6e" id="9f6e" class="graf graf--p graf-after--h3">React Router’s <code class="markup--code markup--p-code">&lt;Link&gt;</code> is one way to simplify navigation around your app. It issues an on-click navigation event to a route defined in your app&#39;s router. Using <code class="markup--code markup--p-code">&lt;Link&gt;</code> renders an anchor tag with a correctly set <code class="markup--code markup--p-code">href</code> attribute.</p><h3 name="7364" id="7364" class="graf graf--h3 graf-after--p">Link</h3><p name="8e86" id="8e86" class="graf graf--p graf-after--h3">To use it, update your imports from the <code class="markup--code markup--p-code">react-router-dom</code> package to include <code class="markup--code markup--p-code">Link</code>:</p><pre name="19a6" id="19a6" class="graf graf--pre graf-after--p">import { BrowserRouter, Route, Link } from &#39;react-router-dom&#39;;</pre><p name="65f5" id="65f5" class="graf graf--p graf-after--pre">Note that <code class="markup--code markup--p-code">&lt;Link&gt;</code> can take two props: <code class="markup--code markup--p-code">to</code> and <code class="markup--code markup--p-code">onClick</code>.</p><p name="ec36" id="ec36" class="graf graf--p graf-after--p">The <code class="markup--code markup--p-code">to</code> prop is a route location description that points to an absolute path, (i.e. <code class="markup--code markup--p-code">/users</code>). Add the following <code class="markup--code markup--p-code">Link</code> components in your <code class="markup--code markup--p-code">index.js</code> file above your routes:</p><pre name="e9a8" id="e9a8" class="graf graf--pre graf-after--p">&lt;Link to=&quot;/&quot;&gt;App&lt;/Link&gt;<br>&lt;Link to=&quot;/users&quot;&gt;Users&lt;/Link&gt;<br>&lt;Link to=&quot;/users/1&quot;&gt;Andrew&#39;s Profile&lt;/Link&gt;</pre><p name="cae3" id="cae3" class="graf graf--p graf-after--pre">The <code class="markup--code markup--p-code">onClick</code> prop is just like any other JSX click handler. You can write a function that takes in an <code class="markup--code markup--p-code">event</code> and handles it. Add the following <code class="markup--code markup--p-code">Link</code> before your routes and the following click handler function within your <code class="markup--code markup--p-code">Root</code> component:</p><pre name="1eeb" id="1eeb" class="graf graf--pre graf-after--p">// Link with onClick prop<br>&lt;Link to=&quot;/&quot; onClick={handleClick}&gt;App with click handler&lt;/Link&gt;</pre><pre name="e0ed" id="e0ed" class="graf graf--pre graf-after--pre">// Click handler function<br>const handleClick = () =&gt; {<br>  console.log(&#39;Thanks for clicking!&#39;)<br>};</pre><p name="6fb6" id="6fb6" class="graf graf--p graf-after--pre">Now, test your routes and links! If you inspect the page, you’ll see that your links are now rendered as <code class="markup--code markup--p-code">&lt;a&gt;</code> elements. Notice that clicking the <code class="markup--code markup--p-code">App with click handler</code> link logs a message in your console while directing your browser to render the <code class="markup--code markup--p-code">App</code> component.</p><h3 name="4811" id="4811" class="graf graf--h3 graf-after--p">NavLink</h3><p name="f651" id="f651" class="graf graf--p graf-after--h3">The <code class="markup--code markup--p-code">&lt;NavLink&gt;</code> works just like a <code class="markup--code markup--p-code">&lt;Link&gt;</code>, but with a little extra functionality. It has the ability to add extra styling when the path it links to matches the current path. This makes it an ideal choice for a navigation bar, hence the name. This styling can be controlled by three extra props: <code class="markup--code markup--p-code">activeClassName</code>, <code class="markup--code markup--p-code">activeStyle</code>, and <code class="markup--code markup--p-code">exact</code>. To begin using <code class="markup--code markup--p-code">NavLink</code>, update your imports from the <code class="markup--code markup--p-code">react-router-dom</code> package:</p><pre name="ea5e" id="ea5e" class="graf graf--pre graf-after--p">import { BrowserRouter, Route, NavLink } from &#39;react-router-dom&#39;;</pre><p name="6c63" id="6c63" class="graf graf--p graf-after--pre">The <code class="markup--code markup--p-code">activeClassName</code> prop of the <code class="markup--code markup--p-code">NavLink</code> component allows you to set a CSS class name for styling the <code class="markup--code markup--p-code">NavLink</code> when its route is active. By default, the <code class="markup--code markup--p-code">activeClassName</code> is already set to <code class="markup--code markup--p-code">active</code>. This means that you simply need to add an <code class="markup--code markup--p-code">.active</code> class to your CSS file to add active styling to your link. A <code class="markup--code markup--p-code">NavLink</code> will be active if its <code class="markup--code markup--p-code">to</code> prop path matches the current URL.</p><p name="df6c" id="df6c" class="graf graf--p graf-after--p">Let’s change your “Users”, “Hello”, and “Andrew’s Profile” links to be different colors and have a larger font size when active.</p><pre name="ba22" id="ba22" class="graf graf--pre graf-after--p">&lt;NavLink to=&quot;/&quot;&gt;App&lt;/NavLink&gt;<br>&lt;NavLink activeClassName=&quot;red&quot; to=&quot;/users&quot;&gt;Users&lt;/NavLink&gt;<br>&lt;NavLink activeClassName=&quot;blue&quot; to=&quot;/hello&quot;&gt;Hello&lt;/NavLink&gt;<br>&lt;NavLink activeClassName=&quot;green&quot; to=&quot;/users/1&quot;&gt;Andrew&#39;s Profile&lt;/NavLink&gt;<br>&lt;NavLink to=&quot;/&quot; onClick={handleClick}&gt;App with click handler&lt;/NavLink&gt;</pre><p name="8ea2" id="8ea2" class="graf graf--p graf-after--pre">For example, this is what the rendered HTML <code class="markup--code markup--p-code">&lt;a&gt;</code> tag would look like when when the browser is navigated to the <code class="markup--code markup--p-code">/</code> path or the <code class="markup--code markup--p-code">/users</code> path:</p><pre name="6a3a" id="6a3a" class="graf graf--pre graf-after--p">&lt;!-- Navigated to the / path (the activeClassName<br>     prop is set to active by default) --&gt;<br>&lt;a href=&quot;/&quot; class=&quot;active&quot;&gt;App&lt;/a&gt;</pre><pre name="fa3c" id="fa3c" class="graf graf--pre graf-after--pre">&lt;!-- NOT navigated to the `/` path --&gt;<br>&lt;a href=&quot;/&quot;&gt;App&lt;/a&gt;</pre><pre name="1a46" id="1a46" class="graf graf--pre graf-after--pre">&lt;!-- Navigated to the /users path (the activeClassName<br>     prop is manually set to red) --&gt;<br>&lt;a href=&quot;/users&quot; class=&quot;red&quot;&gt;Users&lt;/a&gt;</pre><pre name="9262" id="9262" class="graf graf--pre graf-after--pre">&lt;!-- NOT navigated to the `/users` path --&gt;<br>&lt;a href=&quot;/users&quot;&gt;Users&lt;/a&gt;</pre><p name="fa52" id="fa52" class="graf graf--p graf-after--pre">Import <code class="markup--code markup--p-code">NavLink</code> into your <code class="markup--code markup--p-code">index.js</code> file and take a moment to update all your <code class="markup--code markup--p-code">Link</code> elements to <code class="markup--code markup--p-code">NavLink</code> elements. Set an <code class="markup--code markup--p-code">activeClassName</code> prop to an <code class="markup--code markup--p-code">active</code> class. Add the following <code class="markup--code markup--p-code">.active</code> class to your <code class="markup--code markup--p-code">index.css</code> file:</p><pre name="a954" id="a954" class="graf graf--pre graf-after--p">.active {<br>  font-weight: bold;<br>}</pre><pre name="5f9c" id="5f9c" class="graf graf--pre graf-after--pre">.red {<br>  color: red;<br>  font-size: 30px;<br>}</pre><pre name="d67b" id="d67b" class="graf graf--pre graf-after--pre">.blue {<br>  color: blue;<br>  font-size: 30px;<br>}</pre><pre name="9c8e" id="9c8e" class="graf graf--pre graf-after--pre">.green {<br>  color: green;<br>  font-size: 30px;<br>}</pre><p name="55c1" id="55c1" class="graf graf--p graf-after--pre">Test your styled links! Notice how the <code class="markup--code markup--p-code">App</code> and <code class="markup--code markup--p-code">App with click handler</code> links are always bolded. This is because all of your links include the <code class="markup--code markup--p-code">/</code> path, meaning that the link to <code class="markup--code markup--p-code">/</code> will be active when browsing to <code class="markup--code markup--p-code">/users</code> and <code class="markup--code markup--p-code">/users/1</code> because of how <code class="markup--code markup--p-code">users</code> and <code class="markup--code markup--p-code">users/1</code> are both prefaced by a <code class="markup--code markup--p-code">/</code>.</p><p name="3703" id="3703" class="graf graf--p graf-after--p">The <code class="markup--code markup--p-code">activeStyle</code> prop is a style object that will be applied inline to the <code class="markup--code markup--p-code">NavLink</code> when its <code class="markup--code markup--p-code">to</code> prop matches the current URL. Add the following <code class="markup--code markup--p-code">activeStyle</code> to your <code class="markup--code markup--p-code">App</code> link and comment out the <code class="markup--code markup--p-code">.active</code> class in your CSS file.</p><pre name="5e19" id="5e19" class="graf graf--pre graf-after--p">&lt;NavLink to=&quot;/&quot; activeStyle={{ fontWeight: &quot;bold&quot; }}&gt;App&lt;/NavLink&gt;</pre><p name="727b" id="727b" class="graf graf--p graf-after--pre">The following html is rendered when at the <code class="markup--code markup--p-code">/</code> path:</p><pre name="1268" id="1268" class="graf graf--pre graf-after--p">&lt;a href=&quot;/&quot; style=&quot;font-weight:bold;&quot; class=&quot;active&quot;&gt;App&lt;/a&gt;</pre><p name="1a70" id="1a70" class="graf graf--p graf-after--pre">Notice how your <code class="markup--code markup--p-code">App with click handler</code> is not bolded anymore. This is because the default <code class="markup--code markup--p-code">active</code> class being applied does not have any CSS stylings set to the class. Uncomment your <code class="markup--code markup--p-code">.active</code> class in your CSS file to bring back bolding to this NavLink.</p><p name="3021" id="3021" class="graf graf--p graf-after--p">The <code class="markup--code markup--p-code">exact</code> prop is a boolean that defaults to <code class="markup--code markup--p-code">false</code>. If set to <code class="markup--code markup--p-code">true</code>, then the <code class="markup--code markup--p-code">activeStyle</code> and <code class="markup--code markup--p-code">activeClassName</code> props will only be applied when the current URL exactly matches the <code class="markup--code markup--p-code">to</code> prop. Update your <code class="markup--code markup--p-code">App</code> and <code class="markup--code markup--p-code">App with click handler</code> links with an <code class="markup--code markup--p-code">exact</code> prop set. Just like in your routes, you can use the <code class="markup--code markup--p-code">exact</code> flag instead of <code class="markup--code markup--p-code">exact={true}</code>.</p><pre name="dda8" id="dda8" class="graf graf--pre graf-after--p">&lt;NavLink to=&quot;/&quot; exact={true} activeStyle={{ fontWeight: &quot;bold&quot; }}&gt;App&lt;/NavLink&gt;<br>&lt;NavLink to=&quot;/&quot; exact onClick={handleClick}&gt;App with click handler&lt;/NavLink&gt;</pre><p name="4890" id="4890" class="graf graf--p graf-after--pre">Now your <code class="markup--code markup--p-code">App</code> and <code class="markup--code markup--p-code">App with click handler</code> links will only be bolded when you have navigated precisely to the <code class="markup--code markup--p-code">/</code> path.</p><h3 name="b2b3" id="b2b3" class="graf graf--h3 graf-after--p">Switching between routes</h3><p name="f59c" id="f59c" class="graf graf--p graf-after--h3">You came across styling issues when the <code class="markup--code markup--p-code">/users</code> and <code class="markup--code markup--p-code">/users/1</code> paths matched the <code class="markup--code markup--p-code">/</code> path. Routing can have this issue as well. This is why you need to control the switching between routes.</p><p name="81a2" id="81a2" class="graf graf--p graf-after--p">React Router’s <code class="markup--code markup--p-code">&lt;Switch&gt;</code> component allows you to only render one <code class="markup--code markup--p-code">&lt;Route&gt;</code> even if several match the current URL. You can nest as many <code class="markup--code markup--p-code">Route</code>s as you wish between the opening and closing <code class="markup--code markup--p-code">Switch</code> tags, but only the first one that matches the current URL will be rendered.</p><p name="2784" id="2784" class="graf graf--p graf-after--p">This is particularly useful if you want a default component that will only render if none of our other routes match. View the example below. Without the Switch, <code class="markup--code markup--p-code">DefaultComponent</code> would always render. Since there isn&#39;t set a path in the <code class="markup--code markup--p-code">DefaultComponent</code> route, it will simply use the default path of <code class="markup--code markup--p-code">/</code>. Now the <code class="markup--code markup--p-code">DefaultComponent</code> will only render when neither of the preceding routes match.</p><pre name="6761" id="6761" class="graf graf--pre graf-after--p">&lt;Switch&gt;<br>  &lt;Route path=&quot;some/url&quot; component={SomeComponent} /&gt;<br>  &lt;Route path=&quot;some/other/url&quot; component={OtherComponent} /&gt;<br>  &lt;Route component={DefaultComponent} /&gt;<br>&lt;/Switch&gt;</pre><p name="d62f" id="d62f" class="graf graf--p graf-after--pre">Import <code class="markup--code markup--p-code">Switch</code> from <code class="markup--code markup--p-code">react-router-dom</code> and add <code class="markup--code markup--p-code">&lt;Switch&gt;</code> tags around your routes to take care of ordering and switching between your routes! Begin by adding the following route to the bottom of your routes to render that a <code class="markup--code markup--p-code">404: Page not found</code> message:</p><pre name="0f28" id="0f28" class="graf graf--pre graf-after--p">&lt;Route render={() =&gt; &lt;h1&gt;404: Page not found&lt;/h1&gt;} /&gt;</pre><p name="6453" id="6453" class="graf graf--p graf-after--pre">This is what your <code class="markup--code markup--p-code">Root</code> component should look like at this point:</p><pre name="5488" id="5488" class="graf graf--pre graf-after--p">const Root = () =&gt; {<br>  const users = [<br>    { name: &#39;andrew&#39; },<br>    { name: &#39;raymond&#39; }<br>  ];</pre><pre name="5f12" id="5f12" class="graf graf--pre graf-after--pre">  const handleClick = () =&gt; {<br>    console.log(&#39;Thanks for clicking!&#39;)<br>  };</pre><pre name="ebcd" id="ebcd" class="graf graf--pre graf-after--pre">  return (<br>    &lt;BrowserRouter&gt;<br>      &lt;h1&gt;Hi, I&#39;m Root!&lt;/h1&gt;</pre><pre name="2f6c" id="2f6c" class="graf graf--pre graf-after--pre">      &lt;div&gt;<br>        &lt;NavLink to=&quot;/&quot; exact={true} activeStyle={{ fontWeight: &quot;bold&quot; }}&gt;App&lt;/NavLink&gt;<br>        &lt;NavLink activeClassName=&quot;red&quot; to=&quot;/users&quot;&gt;Users&lt;/NavLink&gt;<br>        &lt;NavLink activeClassName=&quot;blue&quot; to=&quot;/hello&quot;&gt;Hello&lt;/NavLink&gt;<br>        &lt;NavLink activeClassName=&quot;green&quot; to=&quot;/users/1&quot;&gt;Andrew&#39;s Profile&lt;/NavLink&gt;<br>        &lt;NavLink to=&quot;/&quot; exact onClick={handleClick}&gt;App with click handler&lt;/NavLink&gt;</pre><pre name="bc8c" id="bc8c" class="graf graf--pre graf-after--pre">        &lt;Switch&gt;<br>          &lt;Route path=&quot;/users/:userId&quot; component={(props) =&gt; &lt;Profile users={users} {...props} /&gt;} /&gt;<br>          &lt;Route exact path=&quot;/users&quot; render={() =&gt; &lt;Users users={users} /&gt;} /&gt;<br>          &lt;Route path=&quot;/hello&quot; render={() =&gt; &lt;h1&gt;Hello!&lt;/h1&gt;} /&gt;<br>          &lt;Route exact path=&quot;/&quot; component={App} /&gt;<br>          &lt;Route render={() =&gt; &lt;h1&gt;404: Page not found&lt;/h1&gt;} /&gt;<br>        &lt;/Switch&gt;<br>      &lt;/div&gt;<br>    &lt;/BrowserRouter&gt;<br>  );<br>};</pre><p name="bd16" id="bd16" class="graf graf--p graf-after--pre">Now you have control over the precedence of rendered components! Try navigating to <code class="markup--code markup--p-code">http://localhost:3000/asdf</code> or any other route you have not defined. The <code class="markup--code markup--p-code">&lt;h1&gt;404: Page not found&lt;/h1&gt;</code> JSX of the last <code class="markup--code markup--p-code">&lt;Route&gt;</code> will be rendered whenever the browser attempts to visit an undefined route.</p><h3 name="3cc5" id="3cc5" class="graf graf--h3 graf-after--p">Redirecting users</h3><p name="a828" id="a828" class="graf graf--p graf-after--h3">But what if you want to redirect users to a login page when they aren’t logged in? The <code class="markup--code markup--p-code">&lt;Redirect&gt;</code> component from React Router helps you redirect users!</p><p name="d0d9" id="d0d9" class="graf graf--p graf-after--p">The component takes only one prop: <code class="markup--code markup--p-code">to</code>. When it renders, it replaces the current URL with the value of its <code class="markup--code markup--p-code">to</code> prop. Typically you conditionally render <code class="markup--code markup--p-code">&lt;Redirect&gt;</code> to redirect the user away from some page you don&#39;t want them to visit. The example below checks whether there is a defined <code class="markup--code markup--p-code">currentUser</code> prop. If so, the <code class="markup--code markup--p-code">&lt;Route&gt;</code> will render the <code class="markup--code markup--p-code">Home</code> component. Otherwise, it will redirect the user to the <code class="markup--code markup--p-code">/login</code> path.</p><pre name="acc7" id="acc7" class="graf graf--pre graf-after--p">&lt;Route<br>  exact path=&quot;/&quot;<br>  render={() =&gt; (this.props.currentUser ? &lt;Home /&gt; : &lt;Redirect to=&quot;/login&quot; /&gt;)}<br>/&gt;</pre><p name="29b9" id="29b9" class="graf graf--p graf-after--pre">Note: you will learn how to use a more flexible auth pattern — don’t directly imitate this example.</p><h3 name="1e98" id="1e98" class="graf graf--h3 graf-after--p">History</h3><p name="0213" id="0213" class="graf graf--p graf-after--h3">You know how to redirect users with a <code class="markup--code markup--p-code">&lt;Redirect&gt;</code> component, but what if you need to redirect users programmatically? You&#39;ve learned about the React Router&#39;s <code class="markup--code markup--p-code">match</code> prop, but now let&#39;s go over another one of the <a href="https://reacttraining.com/react-router/web/api/Route/route-props" data-href="https://reacttraining.com/react-router/web/api/Route/route-props" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">route props</a>: <code class="markup--code markup--p-code">history</code>!</p><pre name="3181" id="3181" class="graf graf--pre graf-after--p">// Pushing a new URL (and adding to the end of history stack):<br>const handleClick = () =&gt; this.props.history.push(&#39;/some/url&#39;);</pre><pre name="7321" id="7321" class="graf graf--pre graf-after--pre">// Replacing the current URL (won&#39;t be tracked in history stack):<br>const redirect = () =&gt; this.props.history.replace(&#39;/some/other/url&#39;);</pre><p name="73d7" id="73d7" class="graf graf--p graf-after--pre">This prop lets you update the URL programmatically. For example, suppose you want to push a new URL when the user clicks a button. It has two useful methods:</p><ul class="postList"><li name="31f3" id="31f3" class="graf graf--li graf-after--p"><code class="markup--code markup--li-code">push</code> - This adds a new URL to the end of the history stack. That means that clicking the back button will take the browser to the previous URL. Note that pushing the same URL multiple times in a row will have no effect; the URL will still only show up on the stack once. In development mode, pushing the same URL twice in a row will generate a console warning. This warning is disabled in production mode.</li><li name="90c1" id="90c1" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">replace</code> - This replaces the current URL on the history stack, so the back button won&#39;t take you to it. For example:</li></ul><h3 name="41b9" id="41b9" class="graf graf--h3 graf-after--li">What you learned</h3><p name="d558" id="d558" class="graf graf--p graf-after--h3">In this article, you learned how to:</p><ul class="postList"><li name="169b" id="169b" class="graf graf--li graf-after--p">Create navigation links for your route paths; and</li><li name="d108" id="d108" class="graf graf--li graf-after--li">Redirect users through using the <code class="markup--code markup--li-code">&lt;Redirect&gt;</code> component; and</li><li name="d090" id="d090" class="graf graf--li graf-after--li graf--trailing">Update a browser’s URL programmatically by using React Router’s <code class="markup--code markup--li-code">history</code> prop.</li></ul></div></div></section><section name="327d" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="fa3e" id="fa3e" class="graf graf--h3 graf--leading">React Router Nested Routes</h3><p name="bc99" id="bc99" class="graf graf--p graf-after--h3">Now you know how to create front-end routes and add navigation with React Router. When initializing Express projects, you declare static routes. Static routes are routes that are declared when an application is initialized. When using React Router in your application’s initialization, you can declare dynamic routes. React Router introduces dynamic routing, where your routes are created as your application is rendering. This allows you to create nested routes within components!</p><p name="2300" id="2300" class="graf graf--p graf-after--p">In this article, let’s dive into <a href="https://reacttraining.com/react-router/core/guides/philosophy/nested-routes" data-href="https://reacttraining.com/react-router/core/guides/philosophy/nested-routes" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">nested routes</a>! When you finish the article, you should:</p><ul class="postList"><li name="38ee" id="38ee" class="graf graf--li graf-after--p">Describe what nested routes are; and</li><li name="0559" id="0559" class="graf graf--li graf-after--li">Be able to use React Router to create and navigate nested routes; and</li><li name="ce4a" id="ce4a" class="graf graf--li graf-after--li">Know how to use the React Router <code class="markup--code markup--li-code">match</code> prop to generate links and routes.</li></ul><h3 name="ee6c" id="ee6c" class="graf graf--h3 graf-after--li">Why nested routes?</h3><p name="369b" id="369b" class="graf graf--p graf-after--h3">Let’s begin with why you might need nested routes. As you remember, you are using React to create a single-page application. This means that you’ll be organizing your application into different components and sub-components.</p><p name="6831" id="6831" class="graf graf--p graf-after--p">For example, imagine creating a simple front-end application with three main pages: a home welcome page (path of <code class="markup--code markup--p-code">/</code>), a users index page (path of <code class="markup--code markup--p-code">/users</code>), and user profile pages (path of <code class="markup--code markup--p-code">/users/:userId</code>). Now imagine if every user had links to separate <code class="markup--code markup--p-code">posts</code> and <code class="markup--code markup--p-code">photos</code> pages.</p><p name="22aa" id="22aa" class="graf graf--p graf-after--p">You can create those routes and links within the user profile component, instead of creating the routes and links where the main routes are defined.</p><h3 name="e0e9" id="e0e9" class="graf graf--h3 graf-after--p">What are nested routes?</h3><p name="72fd" id="72fd" class="graf graf--p graf-after--h3">Now let’s dive into a user profile component to understand what are nested routes! Imagine you have a route in your application’s entry file to each user’s profile like so:</p><pre name="440e" id="440e" class="graf graf--pre graf-after--p">&lt;Route path=&quot;/users/:userId&quot; component={Profile} /&gt;</pre><p name="f02d" id="f02d" class="graf graf--p graf-after--pre">This means that upon navigating to <code class="markup--code markup--p-code">http://localhost:3000/users/1</code>, you would render the following <code class="markup--code markup--p-code">Profile</code> component and the <code class="markup--code markup--p-code">userId</code> parameter within <code class="markup--code markup--p-code">props.match.params</code> would have the value of <code class="markup--code markup--p-code">&quot;1&quot;</code>.</p><pre name="427f" id="427f" class="graf graf--pre graf-after--p">const Profile = (props) =&gt; {<br>  // Custom call to database to fetch a user by a user ID.<br>  const user = fetchUser(props.match.params.userId);<br>  const { name, id } = user;</pre><pre name="0812" id="0812" class="graf graf--pre graf-after--pre">  return (<br>    &lt;div&gt;<br>      &lt;h1&gt;Welcome to the profile of {name}!&lt;/h1&gt;</pre><pre name="6f18" id="6f18" class="graf graf--pre graf-after--pre">      {/* Links to a specific user&#39;s posts and photos */}<br>      &lt;Link to={`/users/${id}/posts`}&gt;{name}&#39;s Posts&lt;/Link&gt;<br>      &lt;Link to={`/users/${id}/photos`}&gt;{name}&#39;s Photos&lt;/Link&gt;</pre><pre name="b97a" id="b97a" class="graf graf--pre graf-after--pre">      {/* Routes to a specific user&#39;s posts and photos */}<br>      &lt;Route path=&#39;/users/:userId/posts&#39; component={UserPosts} /&gt;<br>      &lt;Route path=&#39;/users/:userId/photos&#39; component={UserPhotos} /&gt;<br>    &lt;/div&gt;<br>  );<br>};</pre><p name="dad0" id="dad0" class="graf graf--p graf-after--pre">Since this route is not created until the <code class="markup--code markup--p-code">Profile</code> component is rendered, you are dynamically creating your nested <code class="markup--code markup--p-code">/users/:userId/posts</code> and <code class="markup--code markup--p-code">/users/:userId/photos</code> routes. Remember that your <code class="markup--code markup--p-code">match</code> prop also has other helpful properties. You can use <code class="markup--code markup--p-code">match.url</code> instead of <code class="markup--code markup--p-code">/users/${id}</code> in your profile links. You can also use <code class="markup--code markup--p-code">match.path</code> instead of <code class="markup--code markup--p-code">/users/:userId</code> in your profile routes. Remember that you can destructure <code class="markup--code markup--p-code">url</code>, <code class="markup--code markup--p-code">path</code>, and <code class="markup--code markup--p-code">params</code> from your <code class="markup--code markup--p-code">match</code> prop!</p><pre name="1b3f" id="1b3f" class="graf graf--pre graf-after--p">// Destructure `match` prop<br>const Profile = ({ match: { url, path, params }) =&gt; {</pre><pre name="3791" id="3791" class="graf graf--pre graf-after--pre">  // Custom call to database to fetch a user by a user ID.<br>  const user = fetchUser(params.userId);<br>  const { name, id } = user;</pre><pre name="6ace" id="6ace" class="graf graf--pre graf-after--pre">  return (<br>    &lt;div&gt;<br>      &lt;h1&gt;Welcome to the profile of {name}!&lt;/h1&gt;</pre><pre name="5362" id="5362" class="graf graf--pre graf-after--pre">      {/* Replaced `/users/${id}` URL with `props.match.url` */}<br>      &lt;Link to={`${url}/posts`}&gt;{name}&#39;s Posts&lt;/Link&gt;<br>      &lt;Link to={`${url}/photos`}&gt;{name}&#39;s Photos&lt;/Link&gt;</pre><pre name="8564" id="8564" class="graf graf--pre graf-after--pre">      {/* Replaced `/users/:userId` path with `props.match.path` */}<br>      &lt;Route path={`${path}/posts`} component={UserPosts} /&gt;<br>      &lt;Route path={`${path}/photos`} component={UserPhotos} /&gt;<br>    &lt;/div&gt;}<br>  );<br>};</pre><p name="d1a5" id="d1a5" class="graf graf--p graf-after--pre">In tomorrow’s project, you’ll build a rainbow of routes as well as define nested routes. In the future, you may choose to implement nested routes to keep your application’s routes organized within related components.</p><h3 name="4bd7" id="4bd7" class="graf graf--h3 graf-after--p">What you learned</h3><p name="c90e" id="c90e" class="graf graf--p graf-after--h3">In this article, you learned:</p><ul class="postList"><li name="2378" id="2378" class="graf graf--li graf-after--p">What nested routes are; and</li><li name="e072" id="e072" class="graf graf--li graf-after--li">About creating and navigating nested routes with React Router; and</li><li name="c8b8" id="c8b8" class="graf graf--li graf-after--li graf--trailing">How to use the React Router props to generate nested links and routes.</li></ul></div></div></section><section name="d4ec" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="ff9c" id="ff9c" class="graf graf--h3 graf--leading">React Builds</h3><p name="1af4" id="1af4" class="graf graf--p graf-after--h3">A “build” is the process of converting code into something that can actually execute or run on the target platform. A “front-end build” is a process of preparing a front-end or client-side application for the browser.</p><p name="a4bd" id="a4bd" class="graf graf--p graf-after--p">With React applications, that means (at a minimum) converting JSX to something that browsers can actually understand. When using Create React App, the build process is automatically configured to do that and a lot more.</p><p name="1e62" id="1e62" class="graf graf--p graf-after--p">When you finish this article, you should be able to:</p><ul class="postList"><li name="2448" id="2448" class="graf graf--li graf-after--p">Describe what front-end builds are and why they’re needed;</li><li name="efab" id="efab" class="graf graf--li graf-after--li">Describe at a high level what happens in a Create React App when you run <code class="markup--code markup--li-code">npm start</code>; and</li><li name="502f" id="502f" class="graf graf--li graf-after--li">Prepare to deploy a React application into a production environment.</li></ul><h3 name="581c" id="581c" class="graf graf--h3 graf-after--li">Understanding front-end builds</h3><p name="5b43" id="5b43" class="graf graf--p graf-after--h3">The need for front-end builds predates React. Over the years, developers have found it helpful to extend the lowest common denominator version of JavaScript and CSS that they could use.</p><p name="b259" id="b259" class="graf graf--p graf-after--p">Sometimes developers extend JavaScript and CSS with something like <a href="https://www.typescriptlang.org/" data-href="https://www.typescriptlang.org/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">TypeScript</a> or <a href="https://sass-lang.com/" data-href="https://sass-lang.com/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Sass</a>. Using these non-standard languages and syntaxes require you to use a build process to convert your code into standard JavaScript and CSS that can actually run in the browser.</p><p name="48f6" id="48f6" class="graf graf--p graf-after--p">Browser-based applications also require a fair amount of optimization to deliver the best, or at least acceptable, experience to end users. Front-end build processes could be configured to lint code, run unit tests, optimize images, minify and bundle code, and more — all automatically at the press of a button (i.e. running a command at the terminal).</p><h3 name="080d" id="080d" class="graf graf--h3 graf-after--p">JavaScript versions and the growth of front-end builds</h3><p name="214c" id="214c" class="graf graf--p graf-after--h3">Developers are generally an impatient lot. When new features are added to JavaScript, we don’t like to wait for browsers to widely support those features before we start to use them in our code. And we <em class="markup--em markup--p-em">really</em> don’t like when we have to support older, legacy versions of browsers.</p><p name="ea5f" id="ea5f" class="graf graf--p graf-after--p">In recent years, JavaScript has been updated on a yearly basis and browser vendors do a decent job of updating their browsers to support the new features as they’re added to the language. Years ago though, there was an infamous delay between versions 5 and 6 of JavaScript. It took <em class="markup--em markup--p-em">years</em> before ES6 (or ES2015 as it eventually was renamed to) to officially be completed and even longer before browsers supported all of its features.</p><p name="a580" id="a580" class="graf graf--p graf-after--p">In the period of time before ES2015 was broadly supported by browsers, developers used front-end builds to convert or <em class="markup--em markup--p-em">transpile</em> ES2015 features and syntax to an older version of the language that was more broadly supported by browsers (typically ES5). The transpilation from ES2015/ES6 down to ES5 was one of the major drivers for developers to add front-end builds to their client-side projects.</p><h3 name="a4af" id="a4af" class="graf graf--h3 graf-after--p">Reviewing common terminology</h3><p name="8ef5" id="8ef5" class="graf graf--p graf-after--h3">When learning about front-end or React builds, you’ll encounter a lot of terminology that you may or may not be familiar with. Here’s some of the terminology that you’ll likely encounter:</p><p name="9ac6" id="9ac6" class="graf graf--p graf-after--p">Linting is process of using a tool to analyze your code to catch common programming errors, bugs, stylistic inconsistencies, and suspicious coding patterns. <a href="https://eslint.org/" data-href="https://eslint.org/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">ESLint</a> is a popular JavaScript linting tool.</p><p name="52d1" id="52d1" class="graf graf--p graf-after--p">Transpilation is the process of converting source code, like JavaScript, from one version to another version. Usually this means converting newer versions of JavaScript, <a href="https://www.ecma-international.org/ecma-262/10.0/index.html" data-href="https://www.ecma-international.org/ecma-262/10.0/index.html" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">ES2019</a> or <a href="https://tc39.es/ecma262/" data-href="https://tc39.es/ecma262/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">ES2021</a>, to a version that’s more widely supported by browsers, like <a href="http://www.ecma-international.org/ecma-262/6.0/" data-href="http://www.ecma-international.org/ecma-262/6.0/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">ES2015</a>, or even <a href="https://www.ecma-international.org/ecma-262/5.1/" data-href="https://www.ecma-international.org/ecma-262/5.1/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">ES5</a> or <a href="https://www.ecma-international.org/publications/files/ECMA-ST-ARCH/ECMA-262,%203rd%20edition,%20December%201999.pdf" data-href="https://www.ecma-international.org/publications/files/ECMA-ST-ARCH/ECMA-262,%203rd%20edition,%20December%201999.pdf" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">ES3</a> (if you need to support the browser that your parents or grandparents use).</p><p name="734e" id="734e" class="graf graf--p graf-after--p">Minification is the process of removing all unnecessary characters in your code (e.g. white space characters, new line characters, comments) to produce an overall smaller file. Minification tools will often also rename identifers in your code (i.e. parameter and variable names) in the quest for smaller and smaller file sizes. Source maps can also be generated to allow debugging tools to cross reference between minified code and the original source code.</p><p name="a9e0" id="a9e0" class="graf graf--p graf-after--p">Bundling is the process of combining multiple code files into a single file. Creating a bundle (or a handful of bundles) reduces the number of requests that a client needs to make to the server.</p><p name="7e82" id="7e82" class="graf graf--p graf-after--p">Tree shaking is the process of removing unused (or dead) code from your application before it’s bundled. Tree shaking external dependencies can sometimes have a dramatic positive impact on overall bundled file sizes.</p><h3 name="820d" id="820d" class="graf graf--h3 graf-after--p">Configuration or code?</h3><p name="4071" id="4071" class="graf graf--p graf-after--h3">Front-end build tools have come and gone over the years; sometimes very quickly, which helped bring about the phenomenon known as <a href="https://sdtimes.com/softwaredev/is-the-javascript-fatigue-real/" data-href="https://sdtimes.com/softwaredev/is-the-javascript-fatigue-real/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">JavaScript fatigue</a>.</p><p name="4c3c" id="4c3c" class="graf graf--p graf-after--p">Configuration based tools allow you to create your build tasks by declaring (usually using JSON, XML, or YAML) what you want to be done, without explicitly writing every step in the process. In contrast, coding or scripting based tools allow you to, well, write code to create your build tasks. Configuration based tools <em class="markup--em markup--p-em">can</em> sometimes feel simpler to use while giving up some control (at least initially) while coding based tools <em class="markup--em markup--p-em">can</em> feel more familiar and predictable (since you’re describing tasks procedurally). Every generalization is false though (including this one), so there are plenty of exceptions.</p><p name="f4dd" id="f4dd" class="graf graf--p graf-after--p"><a href="https://gruntjs.com/" data-href="https://gruntjs.com/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Grunt</a> is a JSON configuration based task runner that can be used to orchestrate the various tasks that make up your front-end build. Grunt was very quickly supplanted by <a href="https://gulpjs.com/" data-href="https://gulpjs.com/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Gulp</a>, which allowed developers to write JavaScript to define front-end build tasks. After Gulp, the front-end tooling landscape became a bit more muddled. Some developers preferred the simplicity of using <a href="https://docs.npmjs.com/misc/scripts" data-href="https://docs.npmjs.com/misc/scripts" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">npm scripts</a> to define build tasks while others preferred the power of configuration based bundlers like <a href="https://webpack.js.org/" data-href="https://webpack.js.org/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">webpack</a>.</p><h3 name="573f" id="573f" class="graf graf--h3 graf-after--p">Babel and webpack (yes, that’s intentionally a lowercase ‘w’)</h3><p name="35be" id="35be" class="graf graf--p graf-after--h3">As front-end or client-side applications grew in complexity, developers found themselves wanting to leverage more advanced JavaScript features and newer syntax like classes, arrow functions, destructuring, async/await, etc. Using a code transpiler, like <a href="https://babeljs.io/" data-href="https://babeljs.io/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Babel</a>, allows you to use all of the latest and greatest features and syntax without worrying about what browsers support what.</p><p name="939c" id="939c" class="graf graf--p graf-after--p">Module loaders and bundlers, like <a href="https://webpack.js.org/" data-href="https://webpack.js.org/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">webpack</a>, also allowed developers to use JavaScript modules without requiring users to use a browser that natively supports ES modules. Also, module bundling (along with minification and tree-shaking) helps to reduce the bandwidth that’s required to deliver the assets for your application to the client.</p><p name="3f47" id="3f47" class="graf graf--p graf-after--p">[Create React App][cra] uses webpack (along with Babel) under the covers to build your React applications. Even if you’re not using Create React App, webpack and Babel are still very popular choices for building React applications.</p><h3 name="24d2" id="24d2" class="graf graf--h3 graf-after--p">Pulling back the covers (a bit) on the Create React App build process</h3><p name="423c" id="423c" class="graf graf--p graf-after--h3">Running an application created by Create React App using <code class="markup--code markup--p-code">npm start</code> can feel magical. Some stuff happens in the terminal and your application opens into your default browser. Even better, when you make changes to your application, your changes will (usually) automatically appear in the browser!</p><h3 name="b25a" id="b25a" class="graf graf--h3 graf-after--p">The Create React App build process</h3><p name="6235" id="6235" class="graf graf--p graf-after--h3">At a high level, here’s what happens when you run <code class="markup--code markup--p-code">npm start</code>:</p><ul class="postList"><li name="2808" id="2808" class="graf graf--li graf-after--p">Environment variables are loaded (more about this in a bit);</li><li name="f272" id="f272" class="graf graf--li graf-after--li">The list of browsers to support are checked (more about this too in a bit);</li><li name="71b2" id="71b2" class="graf graf--li graf-after--li">The configured HTTP port is checked to ensure that it’s available;</li><li name="f826" id="f826" class="graf graf--li graf-after--li">The application compiler is configured and created;</li><li name="c605" id="c605" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code"><a href="https://webpack.js.org/configuration/dev-server/" data-href="https://webpack.js.org/configuration/dev-server/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">webpack-dev-server</a></code> is started;</li><li name="a696" id="a696" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code"><a href="https://webpack.js.org/configuration/dev-server/" data-href="https://webpack.js.org/configuration/dev-server/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">webpack-dev-server</a></code> compiles your application;</li><li name="c66e" id="c66e" class="graf graf--li graf-after--li">The <code class="markup--code markup--li-code">index.html</code> file is loaded into the browser; and</li><li name="6add" id="6add" class="graf graf--li graf-after--li">A file watcher is started to watch your files, waiting for changes.</li></ul><h3 name="194d" id="194d" class="graf graf--h3 graf-after--li">Ejecting</h3><p name="4362" id="4362" class="graf graf--p graf-after--h3">Create React App provides a script that you can run to “eject” your application from the Create React App tooling. When you eject your application, all of the hidden stuff is exposed so that you can review and customize it.</p><blockquote name="bc26" id="bc26" class="graf graf--blockquote graf-after--p"><em class="markup--em markup--blockquote-em">The need to customize Create React App rarely happens. Also, don’t eject an actual project as it’s a one-way trip! Once a Create React App project has been ejected, there’s no going back (though you could always undo the ejection process by reverting to an earlier commit if you’re using source control).</em></blockquote><p name="d9f6" id="d9f6" class="graf graf--p graf-after--blockquote">To eject your application from Create React App, run the command <code class="markup--code markup--p-code">npm run eject</code>. You&#39;ll be prompted if you want to continue; type &quot;y&quot; to continue with the ejection process. Once the ejection process has completed, you can review the files that were previously hidden from you.</p><p name="70dc" id="70dc" class="graf graf--p graf-after--p">In the <code class="markup--code markup--p-code">package.json</code> file, you&#39;ll see the following npm scripts:</p><pre name="757b" id="757b" class="graf graf--pre graf-after--p">{<br>  &quot;scripts&quot;: {<br>    &quot;start&quot;: &quot;node scripts/start.js&quot;,<br>    &quot;build&quot;: &quot;node scripts/build.js&quot;,<br>    &quot;test&quot;: &quot;node scripts/test.js&quot;<br>  }<br>}</pre><p name="f365" id="f365" class="graf graf--p graf-after--pre">You can open the <code class="markup--code markup--p-code">./scripts/start.js</code> file to see the code that&#39;s executed when you run <code class="markup--code markup--p-code">npm start</code>.</p><p name="6e99" id="6e99" class="graf graf--p graf-after--p">If you’re curious about the webpack configuration, you can open and review the <code class="markup--code markup--p-code">./config/webpack.config.js</code>.</p><h3 name="dbd3" id="dbd3" class="graf graf--h3 graf-after--p">Preparing to deploy a React application for production</h3><p name="c066" id="c066" class="graf graf--p graf-after--h3">Before you deploy your application to production, you’ll want to make sure that you’ve replaced static values in your code with environment variables and considered what browsers you need to support.</p><h3 name="c583" id="c583" class="graf graf--h3 graf-after--p">Defining environment variables</h3><p name="4ad2" id="4ad2" class="graf graf--p graf-after--h3">Create React App supports defining environment variables in an <code class="markup--code markup--p-code">.env</code> file. To define an environment variable, add an <code class="markup--code markup--p-code">.env</code> file to your project and define one or more variables that start with the prefix <code class="markup--code markup--p-code">REACT_APP_</code>:</p><pre name="1a65" id="1a65" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">REACT_APP_FOO: some value<br>REACT_APP_BAR: another value</code></pre><p name="c051" id="c051" class="graf graf--p graf-after--pre">Environment variables can be used in code like this:</p><pre name="7ed2" id="7ed2" class="graf graf--pre graf-after--p">console.log(process.env.REACT_APP_FOO);</pre><p name="ffa9" id="ffa9" class="graf graf--p graf-after--pre">You can also reference environment variables in your <code class="markup--code markup--p-code">index.html</code> like this:</p><pre name="2649" id="2649" class="graf graf--pre graf-after--p">&lt;title&gt;%REACT_APP_BAR%&lt;/title&gt;</pre><blockquote name="912d" id="912d" class="graf graf--blockquote graf-after--pre"><em class="markup--em markup--blockquote-em">Important: Environment variables are embedded into your HTML, CSS, and JavaScript bundles during the build process. Because of this, it’s </em>very important<em class="markup--em markup--blockquote-em"> to not store any secrets, like API keys, in your environment variables as anyone can view your bundled code in the browser by inspecting your files.</em></blockquote><h3 name="0b96" id="0b96" class="graf graf--h3 graf-after--blockquote">Configuring the supported browsers</h3><p name="154a" id="154a" class="graf graf--p graf-after--h3">In your project’s <code class="markup--code markup--p-code">package.json</code> file, you can see the list of targeted browsers:</p><pre name="56f9" id="56f9" class="graf graf--pre graf-after--p">{<br>  &quot;browserslist&quot;: {<br>    &quot;production&quot;: [<br>      &quot;&gt;0.2%&quot;,<br>      &quot;not dead&quot;,<br>      &quot;not op_mini all&quot;<br>    ],<br>    &quot;development&quot;: [<br>      &quot;last 1 chrome version&quot;,<br>      &quot;last 1 firefox version&quot;,<br>      &quot;last 1 safari version&quot;<br>    ]<br>  }<br>}</pre><p name="c8b1" id="c8b1" class="graf graf--p graf-after--pre">Adjusting these targets affect how your code will be transpiled. Specifying older browser versions will result in your code being transpiled to older versions of JavaScript in order to be compatible with the specified browser versions. The <code class="markup--code markup--p-code">production</code> list specifies the browsers to target when creating a production build and the <code class="markup--code markup--p-code">development</code> list specifics the browsers to target when running the application using <code class="markup--code markup--p-code">npm start</code>.</p><p name="fbfc" id="fbfc" class="graf graf--p graf-after--p">The <a href="https://browserl.ist/" data-href="https://browserl.ist/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">browserl.ist</a> website can be used to see the browsers supported by your configured <code class="markup--code markup--p-code">browserslist</code>.</p><h3 name="e997" id="e997" class="graf graf--h3 graf-after--p">Creating a production build</h3><p name="3b1f" id="3b1f" class="graf graf--p graf-after--h3">To create a production build, run the command <code class="markup--code markup--p-code">npm run build</code>. The production build process bundles React in production mode and optimizes the build for the best performance. When the command completes, you&#39;ll find your production ready files in the <code class="markup--code markup--p-code">build</code> folder.</p><p name="8862" id="8862" class="graf graf--p graf-after--p">Now your application is ready to be deployed!</p><blockquote name="0491" id="0491" class="graf graf--blockquote graf-after--p"><em class="markup--em markup--blockquote-em">For more information about how to deploy a Create React App project into production, see </em><a href="https://facebook.github.io/create-react-app/docs/deployment" data-href="https://facebook.github.io/create-react-app/docs/deployment" class="markup--anchor markup--blockquote-anchor" rel="nofollow noopener" target="_blank"><em class="markup--em markup--blockquote-em">this page</em></a><em class="markup--em markup--blockquote-em"> in the official documentation.</em></blockquote><h3 name="66a7" id="66a7" class="graf graf--h3 graf-after--blockquote">What you learned</h3><p name="fa57" id="fa57" class="graf graf--p graf-after--h3">In this article, you learned how to:</p><ul class="postList"><li name="1ff3" id="1ff3" class="graf graf--li graf-after--p">Describe what front-end builds are and why they’re needed;</li><li name="1fc3" id="1fc3" class="graf graf--li graf-after--li">Describe at a high level what happens in a Create React App when you run <code class="markup--code markup--li-code">npm start</code>; and</li><li name="6adc" id="6adc" class="graf graf--li graf-after--li graf--trailing">Prepare to deploy a React application into a production environment.</li></ul></div></div></section><section name="d657" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="9002" id="9002" class="graf graf--h3 graf--leading">React Router Documentation</h3><p name="ad56" id="ad56" class="graf graf--p graf-after--h3">Now that you’ve had an introduction to React Router, feel free to explore the official documentation to learn more! As you become a full-fledged software engineer, remember that documentation is your friend. You can take a brief overview for now, as the documentation might include a lot of information at first. The more you learn about React, the more you should revisit the official documentation and learn!</p><h3 name="9dd6" id="9dd6" class="graf graf--h3 graf-after--p">Setting up React Router</h3><ul class="postList"><li name="bfa4" id="bfa4" class="graf graf--li graf-after--h3"><a href="https://reacttraining.com/react-router/web/guides/quick-start" data-href="https://reacttraining.com/react-router/web/guides/quick-start" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">React Router Quick Start</a></li><li name="b0cb" id="b0cb" class="graf graf--li graf-after--li"><a href="https://reacttraining.com/react-router/web/api/HashRouter" data-href="https://reacttraining.com/react-router/web/api/HashRouter" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">HashRouter</a></li><li name="f48b" id="f48b" class="graf graf--li graf-after--li"><a href="https://reacttraining.com/react-router/web/api/BrowserRouter" data-href="https://reacttraining.com/react-router/web/api/BrowserRouter" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">BrowserRouter</a></li></ul><h3 name="3ba4" id="3ba4" class="graf graf--h3 graf-after--li">Routes and Links</h3><ul class="postList"><li name="72bd" id="72bd" class="graf graf--li graf-after--h3"><a href="https://reacttraining.com/react-router/web/api/Route" data-href="https://reacttraining.com/react-router/web/api/Route" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">Route</a></li><li name="e256" id="e256" class="graf graf--li graf-after--li"><a href="https://reacttraining.com/react-router/web/api/Link" data-href="https://reacttraining.com/react-router/web/api/Link" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">Link</a></li><li name="1d9d" id="1d9d" class="graf graf--li graf-after--li"><a href="https://reacttraining.com/react-router/web/api/NavLink" data-href="https://reacttraining.com/react-router/web/api/NavLink" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">NavLink</a></li></ul><h3 name="daab" id="daab" class="graf graf--h3 graf-after--li">Switch and Redirect</h3><ul class="postList"><li name="5240" id="5240" class="graf graf--li graf-after--h3"><a href="https://reacttraining.com/react-router/web/api/Switch" data-href="https://reacttraining.com/react-router/web/api/Switch" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">Switch</a></li><li name="b405" id="b405" class="graf graf--li graf-after--li"><a href="https://reacttraining.com/react-router/web/api/Redirect" data-href="https://reacttraining.com/react-router/web/api/Redirect" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">Redirect</a></li></ul><h3 name="a515" id="a515" class="graf graf--h3 graf-after--li">React Router Params (ownProps)</h3><ul class="postList"><li name="e0d6" id="e0d6" class="graf graf--li graf-after--h3"><a href="https://reacttraining.com/react-router/web/api/history" data-href="https://reacttraining.com/react-router/web/api/history" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">props.history</a></li><li name="5f4a" id="5f4a" class="graf graf--li graf-after--li"><a href="https://reacttraining.com/react-router/web/api/location" data-href="https://reacttraining.com/react-router/web/api/location" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">props.location</a></li><li name="bd15" id="bd15" class="graf graf--li graf-after--li graf--trailing"><a href="https://reacttraining.com/react-router/web/api/match" data-href="https://reacttraining.com/react-router/web/api/match" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">props.match</a></li></ul></div></div></section><section name="5428" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="4862" id="4862" class="graf graf--h3 graf--leading">Rainbow Routes Project</h3><p name="adc1" id="adc1" class="graf graf--p graf-after--h3">Today you’re going to get our first experience using React Router. The goal is to create a basic app that displays the colors of the rainbow. This rainbow, however, has something special about it — some of the colors are nested within others.</p><h3 name="57c5" id="57c5" class="graf graf--h3 graf-after--p">Phase 0: Setup</h3><p name="f2d3" id="f2d3" class="graf graf--p graf-after--h3">Begin by creating a new React project:</p><pre name="f792" id="f792" class="graf graf--pre graf-after--p">npx create-react-app rainbow-routes --template @appacademy/simple</pre><p name="38b8" id="38b8" class="graf graf--p graf-after--pre">Now you’ll remove all the contents of your <code class="markup--code markup--p-code">src</code> and all the contents from your <code class="markup--code markup--p-code">public</code> directory to build the application architecture from scratch! After you have deleted all your files within the directories, create a new <code class="markup--code markup--p-code">index.html</code> file in your <code class="markup--code markup--p-code">public</code> folder. Use the <code class="markup--code markup--p-code">html:5</code> emmet shortcut to generate an HTML template. Title your page &quot;Rainbow Routes&quot; and create a <code class="markup--code markup--p-code">div</code> with an <code class="markup--code markup--p-code">id</code> of <code class="markup--code markup--p-code">root</code> in your DOM&#39;s <code class="markup--code markup--p-code">&lt;body&gt;</code> element. Create an <code class="markup--code markup--p-code">index.css</code> file in your <code class="markup--code markup--p-code">src</code> directory with the following code. Now let&#39;s create your entry file!</p><pre name="929e" id="929e" class="graf graf--pre graf-after--p">h4 {<br>  color: darkblue;<br>  cursor: pointer;<br>}</pre><pre name="86f9" id="86f9" class="graf graf--pre graf-after--pre">h4:hover {<br>  text-decoration: underline;<br>}</pre><pre name="6100" id="6100" class="graf graf--pre graf-after--pre">#rainbow {<br>  position: absolute;<br>  top: 0;<br>  left: 300px;<br>}</pre><pre name="a2f5" id="a2f5" class="graf graf--pre graf-after--pre">h3 {<br>  position: absolute;<br>  top: 1px;<br>}</pre><pre name="5c8f" id="5c8f" class="graf graf--pre graf-after--pre">.red {<br>  background-color: red;<br>  width: 100px;<br>  height: 100px;<br>}</pre><pre name="e1fe" id="e1fe" class="graf graf--pre graf-after--pre">.orange {<br>  background-color: orange;<br>  width: 100px;<br>  height: 50px;<br>}</pre><pre name="6c25" id="6c25" class="graf graf--pre graf-after--pre">.yellow {<br>  background-color: yellow;<br>  width: 100px;<br>  height: 50px;<br>}</pre><pre name="ece1" id="ece1" class="graf graf--pre graf-after--pre">.green {<br>  background-color: green;<br>  width: 100px;<br>  height: 100px;<br>}</pre><pre name="bb92" id="bb92" class="graf graf--pre graf-after--pre">.blue {<br>  background-color: blue;<br>  width: 100px;<br>  height: 100px;<br>}</pre><pre name="3abb" id="3abb" class="graf graf--pre graf-after--pre">.indigo {<br>  background-color: mediumslateblue;<br>  width: 100px;<br>  height: 50px;<br>}</pre><pre name="d8e9" id="d8e9" class="graf graf--pre graf-after--pre">.violet {<br>  background-color: darkviolet;<br>  width: 100px;<br>  height: 100px;<br>}</pre><pre name="8695" id="8695" class="graf graf--pre graf-after--pre">a {<br>  display: block;<br>  margin-bottom: 10px;<br>}</pre><p name="1d3f" id="1d3f" class="graf graf--p graf-after--pre">Create an <code class="markup--code markup--p-code">index.js</code> entry file in the <code class="markup--code markup--p-code">src</code> directory. At the top of the file, make sure to import <code class="markup--code markup--p-code">React</code> from the <code class="markup--code markup--p-code">react</code> package and <code class="markup--code markup--p-code">ReactDOM</code> from the <code class="markup--code markup--p-code">react-dom</code> package. Make sure to also import your the <code class="markup--code markup--p-code">index.css</code> file you just created! This will take care of styling your <em class="markup--em markup--p-em">rainbow routes</em>.</p><p name="f5ff" id="f5ff" class="graf graf--p graf-after--p">Now you can use the <code class="markup--code markup--p-code">ReactDOM.render()</code> method to render a <code class="markup--code markup--p-code">&lt;Root /&gt;</code> component instead of the DOM element with an <code class="markup--code markup--p-code">id</code> of <code class="markup--code markup--p-code">root</code>. Lastly, wrap your render function with a <code class="markup--code markup--p-code">DOMContentLoaded</code> event listener, like so:</p><pre name="9f12" id="9f12" class="graf graf--pre graf-after--p">document.addEventListener(&#39;DOMContentLoaded&#39;, () =&gt; {<br>  ReactDOM.render(<br>    &lt;Root /&gt;,<br>    document.getElementById(&#39;root&#39;),<br>  );<br>});</pre><p name="24c4" id="24c4" class="graf graf--p graf-after--pre">Let’s create your <code class="markup--code markup--p-code">Root</code> component right in your entry file! Your <code class="markup--code markup--p-code">Root</code> component will take care of applying your <code class="markup--code markup--p-code">BrowserRouter</code> to the application. Applying the <code class="markup--code markup--p-code">BrowserRouter</code> to your <code class="markup--code markup--p-code">Root</code> component allows all the child components rendering within <code class="markup--code markup--p-code">&lt;BrowserRouter&gt;</code> tags to use and access the <code class="markup--code markup--p-code">Route</code>, <code class="markup--code markup--p-code">Link</code>, and <code class="markup--code markup--p-code">NavLink</code> components within the <code class="markup--code markup--p-code">react-router-dom</code> package.</p><pre name="6d22" id="6d22" class="graf graf--pre graf-after--p">const Root = () =&gt; (<br>  // TODO: Apply BrowserRouter<br>  // TODO: Render rainbow<br>);</pre><p name="4921" id="4921" class="graf graf--p graf-after--pre">Install the <code class="markup--code markup--p-code">react-router-dom</code> package:</p><pre name="4cb3" id="4cb3" class="graf graf--pre graf-after--p">npm install react-router-dom@^5.0.0</pre><p name="56ae" id="56ae" class="graf graf--p graf-after--pre">Now import <code class="markup--code markup--p-code">BrowserRouter</code> from the <code class="markup--code markup--p-code">react-router-dom</code> package, like so:</p><pre name="42b2" id="42b2" class="graf graf--pre graf-after--p">import { BrowserRouter } from &#39;react-router-dom&#39;;</pre><p name="dfc4" id="dfc4" class="graf graf--p graf-after--pre">You’re going to be rendering a lot of components, so let’s keep your <code class="markup--code markup--p-code">src</code> directory organized by creating a <code class="markup--code markup--p-code">components</code> directory within. Within your new <code class="markup--code markup--p-code">./src/components</code> directory, create a <code class="markup--code markup--p-code">Rainbow.js</code> file for your <code class="markup--code markup--p-code">Rainbow</code> component with the following code:</p><pre name="e093" id="e093" class="graf graf--pre graf-after--p">// ./src/components/Rainbow.js<br>import React from &#39;react&#39;;<br>import { Route, Link, NavLink } from &#39;react-router-dom&#39;;</pre><pre name="b3a9" id="b3a9" class="graf graf--pre graf-after--pre">const Rainbow = () =&gt; (<br>  &lt;div&gt;<br>    &lt;h1&gt;Rainbow Router!&lt;/h1&gt;<br>    {/* Your links should go here */}</pre><pre name="3b51" id="3b51" class="graf graf--pre graf-after--pre">    &lt;div id=&quot;rainbow&quot;&gt;<br>      {/* Your routes should go here */}<br>    &lt;/div&gt;<br>  &lt;/div&gt;<br>);</pre><pre name="6527" id="6527" class="graf graf--pre graf-after--pre">export default Rainbow;</pre><p name="6fdf" id="6fdf" class="graf graf--p graf-after--pre">Your <code class="markup--code markup--p-code">Rainbow</code> component will act as the home page or default path (<code class="markup--code markup--p-code">/</code>) of your application. Import the <code class="markup--code markup--p-code">Rainbow</code> component into your entry file and have your <code class="markup--code markup--p-code">Root</code> component render <code class="markup--code markup--p-code">&lt;Rainbow /&gt;</code> wrapped within <code class="markup--code markup--p-code">&lt;BrowserRouter&gt;</code> tags, like so:</p><pre name="e29c" id="e29c" class="graf graf--pre graf-after--p">const Root = () =&gt; (<br>  &lt;BrowserRouter&gt;<br>    &lt;Rainbow /&gt;<br>  &lt;/BrowserRouter&gt;<br>);</pre><p name="5649" id="5649" class="graf graf--p graf-after--pre">Within your <code class="markup--code markup--p-code">Rainbow</code> component, you&#39;ll be rendering <code class="markup--code markup--p-code">&lt;NavLink&gt;</code> and <code class="markup--code markup--p-code">&lt;Route&gt;</code> components to add different navigation paths to different components. Let&#39;s create all the components you will render!</p><p name="e11d" id="e11d" class="graf graf--p graf-after--p">Create files for the following components in your <code class="markup--code markup--p-code">./src/components</code> directory:</p><ul class="postList"><li name="1c8e" id="1c8e" class="graf graf--li graf-after--p"><code class="markup--code markup--li-code">Red</code></li><li name="a8dd" id="a8dd" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Blue</code></li><li name="6ca3" id="6ca3" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Green</code></li><li name="8e44" id="8e44" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Indigo</code></li><li name="f8f2" id="f8f2" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Orange</code></li><li name="0f47" id="0f47" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Violet</code></li><li name="8a89" id="8a89" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Yellow</code></li></ul><p name="28ea" id="28ea" class="graf graf--p graf-after--li">Your <code class="markup--code markup--p-code">Red</code> and <code class="markup--code markup--p-code">Blue</code> components will look something like this:</p><pre name="5cf9" id="5cf9" class="graf graf--pre graf-after--p">import React from &#39;react&#39;;<br>import { Route, Link, NavLink } from &#39;react-router-dom&#39;;</pre><pre name="7127" id="7127" class="graf graf--pre graf-after--pre">const Color = () =&gt; (<br>  &lt;div&gt;<br>    &lt;h2 className=&quot;color&quot;&gt;Color&lt;/h2&gt;<br>    {/* Links here */}</pre><pre name="5ee1" id="5ee1" class="graf graf--pre graf-after--pre">    {/* Routes here */}<br>  &lt;/div&gt;<br>);</pre><pre name="cbe1" id="cbe1" class="graf graf--pre graf-after--pre">export default Color;</pre><p name="26e4" id="26e4" class="graf graf--p graf-after--pre">Your <code class="markup--code markup--p-code">Green</code>, <code class="markup--code markup--p-code">Indigo</code>, <code class="markup--code markup--p-code">Orange</code>, <code class="markup--code markup--p-code">Violet</code>, and <code class="markup--code markup--p-code">Yellow</code> components will look something like this:</p><pre name="e941" id="e941" class="graf graf--pre graf-after--p">import React from &#39;react&#39;;</pre><pre name="59d5" id="59d5" class="graf graf--pre graf-after--pre">const Color = () =&gt; (<br>  &lt;div&gt;<br>    &lt;h3 className=&quot;color&quot;&gt;Color&lt;/h3&gt;<br>  &lt;/div&gt;<br>);</pre><pre name="5a0e" id="5a0e" class="graf graf--pre graf-after--pre">export default Color;</pre><p name="b394" id="b394" class="graf graf--p graf-after--pre">Now start your server and verify you can see the “Rainbow Router!” header from your <code class="markup--code markup--p-code">Rainbow</code> component. Currently there is no functionality. Let&#39;s fix that!</p><h3 name="6f53" id="6f53" class="graf graf--h3 graf-after--p">Phase 1: Routes</h3><p name="fc0a" id="fc0a" class="graf graf--p graf-after--h3">As a reminder, wrapping the <code class="markup--code markup--p-code">Rainbow</code> component in <code class="markup--code markup--p-code">&lt;BrowserRouter&gt;</code> tags makes the router available to all descendent React Router components. Now open the <code class="markup--code markup--p-code">Rainbow.js</code> file. You&#39;re going to render some of your color components from here. Ultimately you want your routes to look like this.</p><p name="ccb9" id="ccb9" class="graf graf--p graf-after--p">URLComponents<code class="markup--code markup--p-code">/Rainbow/redRainbow -&gt; Red/red/orangeRainbow -&gt; Red -&gt; Orange/red/yellowRainbow -&gt; Red -&gt; Yellow/greenRainbow -&gt; Green/blueRainbow -&gt; Blue/blue/indigoRainbow -&gt; Blue -&gt; Indigo/violetRainbow -&gt; Violet</code></p><p name="7977" id="7977" class="graf graf--p graf-after--p">This means that the <code class="markup--code markup--p-code">Red</code>, <code class="markup--code markup--p-code">Green</code>, <code class="markup--code markup--p-code">Blue</code>, and <code class="markup--code markup--p-code">Violet</code> components need to render in the <code class="markup--code markup--p-code">Rainbow</code> component, but only when you are at the corresponding URL. You&#39;ll do this with <code class="markup--code markup--p-code">Route</code> components. Begin by importing the <code class="markup--code markup--p-code">Red</code>, <code class="markup--code markup--p-code">Green</code>, <code class="markup--code markup--p-code">Blue</code>, and <code class="markup--code markup--p-code">Violet</code> components into your <code class="markup--code markup--p-code">Rainbow.js</code> file. Then add the necessary <code class="markup--code markup--p-code">Route</code> components inside the <code class="markup--code markup--p-code">div</code> with <code class="markup--code markup--p-code">id=&quot;rainbow&quot;</code> in the <code class="markup--code markup--p-code">Rainbow</code> component. For example to render the <code class="markup--code markup--p-code">Red</code> component with the <code class="markup--code markup--p-code">/red</code> path, you would use the following <code class="markup--code markup--p-code">Route</code> component:</p><pre name="e420" id="e420" class="graf graf--pre graf-after--p">&lt;Route path=&quot;/red&quot; component={Red} /&gt;</pre><p name="e91c" id="e91c" class="graf graf--p graf-after--pre">Test that your code works! Manually type in each URL you just created, and you should see the color component pop up. Remember, these are React Routes, so the paths you created will come after the <code class="markup--code markup--p-code">/</code>. For example, your default rainbow route will look like <code class="markup--code markup--p-code">http://localhost:3000/</code> while your red route will look like <code class="markup--code markup--p-code"><a href="http://localhost:3000/red." data-href="http://localhost:3000/red." class="markup--anchor markup--p-anchor" target="_blank">http://localhost:3000/red</a></code><a href="http://localhost:3000/red." data-href="http://localhost:3000/red." class="markup--anchor markup--p-anchor" target="_blank">.</a></p><p name="e8cd" id="e8cd" class="graf graf--p graf-after--p">You want to nest the <code class="markup--code markup--p-code">Orange</code> and <code class="markup--code markup--p-code">Yellow</code> components inside the <code class="markup--code markup--p-code">Red</code> component, and the <code class="markup--code markup--p-code">Indigo</code> component inside the <code class="markup--code markup--p-code">Blue</code> component. Remember to import your components to use them in a <code class="markup--code markup--p-code">Route</code> tag. You&#39;ll have to go add the corresponding <code class="markup--code markup--p-code">Route</code> tags to the <code class="markup--code markup--p-code">Red.js</code> and <code class="markup--code markup--p-code">Blue.js</code> files. Make sure to use the correct nested paths, such as <code class="markup--code markup--p-code">&quot;/red/orange&quot;</code> for the orange <code class="markup--code markup--p-code">Route</code>.</p><h3 name="ae5d" id="ae5d" class="graf graf--h3 graf-after--p">Phase 2: Links</h3><p name="9129" id="9129" class="graf graf--p graf-after--h3">Manually navigating to our newly created routes is tiresome, so let’s add functionality to take care of this process for us. React Router provides the <code class="markup--code markup--p-code">Link</code> and <code class="markup--code markup--p-code">NavLink</code> components for this purpose.</p><p name="32bd" id="32bd" class="graf graf--p graf-after--p">Add <code class="markup--code markup--p-code">Link</code>s to the paths <code class="markup--code markup--p-code">/red</code>, <code class="markup--code markup--p-code">/green</code>, <code class="markup--code markup--p-code">/blue</code>, and <code class="markup--code markup--p-code">/violet</code> in the <code class="markup--code markup--p-code">Rainbow</code> component. For example, your red link should look like</p><pre name="685f" id="685f" class="graf graf--pre graf-after--p">&lt;Link to=&quot;/red&quot;&gt;Red&lt;/NavLink&gt;</pre><p name="98cf" id="98cf" class="graf graf--p graf-after--pre">When you are at <code class="markup--code markup--p-code">blue</code> you want to be able to get to <code class="markup--code markup--p-code">/blue/indigo</code>, and then back to <code class="markup--code markup--p-code">/blue</code>. Add the corresponding <code class="markup--code markup--p-code">Link</code>s to the <code class="markup--code markup--p-code">Blue</code> component like this:</p><pre name="c63e" id="c63e" class="graf graf--pre graf-after--p">&lt;Link to=&#39;/blue&#39; &gt;Blue only&lt;/Link&gt;<br>&lt;Link to=&#39;/blue/indigo&#39; &gt;Add indigo&lt;/Link&gt;</pre><p name="6026" id="6026" class="graf graf--p graf-after--pre">Similarly, add <code class="markup--code markup--p-code">Link</code>s to <code class="markup--code markup--p-code">/red</code>, <code class="markup--code markup--p-code">/red/orange</code> and <code class="markup--code markup--p-code">/red/yellow</code> to the <code class="markup--code markup--p-code">Red</code> component. Test all your links. Navigation is so much easier now!</p><h3 name="542d" id="542d" class="graf graf--h3 graf-after--p">Phase 3: NavLinks</h3><p name="12c7" id="12c7" class="graf graf--p graf-after--h3">It would be nice if our links gave us some indication of which route you were at. Fortunately, React Router has a special component for that very purpose: <code class="markup--code markup--p-code">NavLink</code>. NavLinks get an extra CSS class when their <code class="markup--code markup--p-code">to</code> prop matches the current URL. By default this class is called <code class="markup--code markup--p-code">active</code>.</p><p name="22f9" id="22f9" class="graf graf--p graf-after--p">Go ahead and switch all your <code class="markup--code markup--p-code">Link</code>s to <code class="markup--code markup--p-code">NavLink</code>s. If you open the app you won&#39;t see any change yet. That&#39;s because you haven&#39;t added any special styling to the <code class="markup--code markup--p-code">active</code> class. Go ahead and open the <code class="markup--code markup--p-code">index.css</code> file. Create an <code class="markup--code markup--p-code">.active</code> class and add the line <code class="markup--code markup--p-code">font-weight: 700</code>. Now your active links will be bold. Isn&#39;t that nice!</p><p name="698a" id="698a" class="graf graf--p graf-after--p">The only problem is that now the <code class="markup--code markup--p-code">Blue only</code> link is active even when the path is <code class="markup--code markup--p-code">/blue/indigo</code>. That doesn&#39;t make a lot of sense. Let&#39;s add the <code class="markup--code markup--p-code">exact</code> flag to that link so it will only be active when its <code class="markup--code markup--p-code">to</code> exactly matches the current path. Now it should look like:</p><pre name="2f16" id="2f16" class="graf graf--pre graf-after--p">&lt;NavLink exact to=&quot;/blue&quot;&gt;<br>  Blue only<br>&lt;/NavLink&gt;</pre><p name="9864" id="9864" class="graf graf--p graf-after--pre">Do the same for the <code class="markup--code markup--p-code">Red only</code> link. Everything should be working now.</p><h3 name="6b56" id="6b56" class="graf graf--h3 graf-after--p">Phase 4 — Changing NavLink’s Active Class</h3><p name="7274" id="7274" class="graf graf--p graf-after--h3">You’ve already set up <code class="markup--code markup--p-code">NavLink</code> to bold the link text using the <code class="markup--code markup--p-code">.active</code> class in <code class="markup--code markup--p-code">src/index.css</code>. But what if you wanted this class to be something else? For instance, what if you want your main color links (Red, Green, Blue, Violet) to be styled differently when active than your sub-route links (Red Only, Add Orange, Add Yellow, etc.).</p><p name="6592" id="6592" class="graf graf--p graf-after--p">You can set the class that React Router sets to an active <code class="markup--code markup--p-code">NavLink</code> by adding the <code class="markup--code markup--p-code">activeClassName</code> prop.</p><p name="859f" id="859f" class="graf graf--p graf-after--p">For instance, when we are at a route matching the below <code class="markup--code markup--p-code">NavLink</code>&#39;s <code class="markup--code markup--p-code">to</code> prop, the component will have a class of <code class="markup--code markup--p-code">.parent-active</code> applied:</p><pre name="0309" id="0309" class="graf graf--pre graf-after--p">&lt;NavLink to=&quot;/blue&quot; activeClassName=&quot;parent-active&quot; &gt;<br>  Blue<br>&lt;/NavLink&gt;</pre><p name="02e0" id="02e0" class="graf graf--p graf-after--pre">This allows much more flexibility to style an active <code class="markup--code markup--p-code">NavLink</code>!</p><p name="038a" id="038a" class="graf graf--p graf-after--p">Using the example above, add an <code class="markup--code markup--p-code">activeClassName</code> prop to each of your <code class="markup--code markup--p-code">NavLink</code>s in <code class="markup--code markup--p-code">src/components/Rainbow.js</code>. Now, add some CSS styling for that class in your <code class="markup--code markup--p-code">src/index.css</code> to distinguish your main and your sub-route links.</p><p name="bf2e" id="bf2e" class="graf graf--p graf-after--p">Compare your work to the solution and make sure the behavior is the same. Time to celebrate! ✨ 🌈 ✨</p><p name="3614" id="3614" class="graf graf--p graf-after--p graf--trailing">You can also learn more about using the React Router at <a href="https://reacttraining.com/react-router/web/guides/quick-start" data-href="https://reacttraining.com/react-router/web/guides/quick-start" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">reacttraining.com</a>!</p></div></div></section><section name="4c42" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="7b8c" id="7b8c" class="graf graf--h3 graf--leading">Exploring React Builds Project</h3><p name="0f8a" id="0f8a" class="graf graf--p graf-after--h3">In this project, you’ll use Create React App to create a simple React application. You’ll experiment with some of the features that Create React App provides and deploy a production build of your application to a standalone Express application.</p><h3 name="5a0d" id="5a0d" class="graf graf--h3 graf-after--p">Phase 0: Setup</h3><p name="c487" id="c487" class="graf graf--p graf-after--h3">Begin by using the <a href="https://github.com/facebook/create-react-app" data-href="https://github.com/facebook/create-react-app" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">create-react-app</a> package to create a React application:</p><pre name="cd64" id="cd64" class="graf graf--pre graf-after--p">npx create-react-app exploring-react-builds --template @appacademy/simple</pre><blockquote name="ece3" id="ece3" class="graf graf--blockquote graf-after--pre"><em class="markup--em markup--blockquote-em">Remember that using the </em><code class="markup--code markup--blockquote-code"><em class="markup--em markup--blockquote-em">create-react-app</em></code><em class="markup--em markup--blockquote-em"> command initializes your project as a Git repository. If you use the </em><code class="markup--code markup--blockquote-code"><em class="markup--em markup--blockquote-em">ls -a</em></code><em class="markup--em markup--blockquote-em"> to view the hidden files in your project, you&#39;ll see the </em><code class="markup--code markup--blockquote-code"><em class="markup--em markup--blockquote-em">.git</em></code><em class="markup--em markup--blockquote-em"> file.</em></blockquote><p name="0631" id="0631" class="graf graf--p graf-after--blockquote">Update the <code class="markup--code markup--p-code">App</code> component:</p><ul class="postList"><li name="9186" id="9186" class="graf graf--li graf-after--p">Wrap the <code class="markup--code markup--li-code">&lt;h1&gt;</code> element with a <code class="markup--code markup--li-code">&lt;div&gt;</code> element; and</li><li name="5e97" id="5e97" class="graf graf--li graf-after--li">Change the <code class="markup--code markup--li-code">&lt;h1&gt;</code> element content to something like &quot;Exploring React Builds&quot;.</li></ul><pre name="cda9" id="cda9" class="graf graf--pre graf-after--li">// ./src/App.js</pre><pre name="8778" id="8778" class="graf graf--pre graf-after--pre">import React from &#39;react&#39;;</pre><pre name="a306" id="a306" class="graf graf--pre graf-after--pre">function App() {<br>  return (<br>    &lt;div&gt;<br>      &lt;h1&gt;Exploring React Builds&lt;/h1&gt;<br>    &lt;/div&gt;<br>  );<br>}</pre><pre name="4ce0" id="4ce0" class="graf graf--pre graf-after--pre">export default App;</pre><h3 name="fb93" id="fb93" class="graf graf--h3 graf-after--pre">Phase 1: Using CSS modules</h3><p name="5f4f" id="5f4f" class="graf graf--p graf-after--h3">You’ve already seen an example of using the <code class="markup--code markup--p-code">import</code> keyword to import a stylesheet into a module so that it&#39;ll be included in your application build. That&#39;s the technique being used to include the global <code class="markup--code markup--p-code">index.css</code> stylesheet:</p><pre name="54be" id="54be" class="graf graf--pre graf-after--p">// ./src/index.js</pre><pre name="83e2" id="83e2" class="graf graf--pre graf-after--pre">import React from &#39;react&#39;;<br>import ReactDOM from &#39;react-dom&#39;;<br>import &#39;./index.css&#39;;<br>import App from &#39;./App&#39;;</pre><pre name="590f" id="590f" class="graf graf--pre graf-after--pre">ReactDOM.render(<br>  &lt;React.StrictMode&gt;<br>    &lt;App /&gt;<br>  &lt;/React.StrictMode&gt;,<br>  document.getElementById(&#39;root&#39;)<br>);</pre><p name="e49b" id="e49b" class="graf graf--p graf-after--pre">You can also leverage <a href="https://github.com/css-modules/css-modules" data-href="https://github.com/css-modules/css-modules" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">CSS modules</a> in your Create React App projects. CSS Modules scope stylesheet class names so that they are unique to a specific React component. This allows you to create class names without having to worry if they might collide with class names used in another component.</p><p name="101b" id="101b" class="graf graf--p graf-after--p">Add a new <code class="markup--code markup--p-code">css-modules</code> folder to the <code class="markup--code markup--p-code">src</code> folder. Within that folder, add the following files:</p><ul class="postList"><li name="2912" id="2912" class="graf graf--li graf-after--p"><code class="markup--code markup--li-code">HeadingA.js</code></li><li name="3aa3" id="3aa3" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">HeadingA.module.css</code></li><li name="2ea3" id="2ea3" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">HeadingB.js</code></li><li name="ca2b" id="ca2b" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">HeadingB.module.css</code></li></ul><p name="c3f2" id="c3f2" class="graf graf--p graf-after--li">Then update the contents of each file to the following:</p><pre name="03d4" id="03d4" class="graf graf--pre graf-after--p">// ./src/css-modules/HeadingA.js</pre><pre name="8627" id="8627" class="graf graf--pre graf-after--pre">import React from &#39;react&#39;;<br>import styles from &#39;./HeadingA.module.css&#39;;</pre><pre name="f0f3" id="f0f3" class="graf graf--pre graf-after--pre">function HeadingA() {<br>  return (<br>    &lt;h1 className={styles.heading}&gt;Heading A&lt;/h1&gt;<br>  );<br>}</pre><pre name="5230" id="5230" class="graf graf--pre graf-after--pre">export default HeadingA;</pre><pre name="3287" id="3287" class="graf graf--pre graf-after--pre">/* ./src/css-modules/HeadingA.module.css */</pre><pre name="7b87" id="7b87" class="graf graf--pre graf-after--pre">.heading {<br>  color: green;<br>}</pre><pre name="3d6d" id="3d6d" class="graf graf--pre graf-after--pre">// ./src/css-modules/HeadingB.js</pre><pre name="64c8" id="64c8" class="graf graf--pre graf-after--pre">import React from &#39;react&#39;;<br>import styles from &#39;./HeadingB.module.css&#39;;</pre><pre name="be02" id="be02" class="graf graf--pre graf-after--pre">function HeadingB() {<br>  return (<br>    &lt;h1 className={styles.heading}&gt;Heading B&lt;/h1&gt;<br>  );<br>}</pre><pre name="23f6" id="23f6" class="graf graf--pre graf-after--pre">export default HeadingB;</pre><pre name="a738" id="a738" class="graf graf--pre graf-after--pre">/* ./src/css-modules/HeadingB.module.css */</pre><pre name="9c75" id="9c75" class="graf graf--pre graf-after--pre">.heading {<br>  color: red;<br>}</pre><p name="d70d" id="d70d" class="graf graf--p graf-after--pre">Notice how the <code class="markup--code markup--p-code">.heading</code> CSS class name is being used within each component to set the color of the <code class="markup--code markup--p-code">&lt;h1&gt;</code> element. For the <code class="markup--code markup--p-code">HeadingA</code> component, the color is <code class="markup--code markup--p-code">green</code>, and for the <code class="markup--code markup--p-code">HeadingB</code> component, the color is <code class="markup--code markup--p-code">red</code>. Using the file naming convention <code class="markup--code markup--p-code">[name].module.css</code> let&#39;s Create React App know that we want these stylesheets to be processed as CSS Modules. Using CSS Modules allows the <code class="markup--code markup--p-code">.heading</code> class name to be reused across components without any issue.</p><p name="587a" id="587a" class="graf graf--p graf-after--p">To see this feature in action, update your <code class="markup--code markup--p-code">App</code> component to render both of your new components:</p><pre name="c205" id="c205" class="graf graf--pre graf-after--p">import React from &#39;react&#39;;<br>import HeadingA from &#39;./css-modules/HeadingA&#39;;<br>import HeadingB from &#39;./css-modules/HeadingB&#39;;</pre><pre name="62b4" id="62b4" class="graf graf--pre graf-after--pre">function App() {<br>  return (<br>    &lt;div&gt;<br>      &lt;h1&gt;Exploring React Builds&lt;/h1&gt;<br>      &lt;HeadingA /&gt;<br>      &lt;HeadingB /&gt;<br>    &lt;/div&gt;<br>  );<br>}</pre><pre name="1671" id="1671" class="graf graf--pre graf-after--pre">export default App;</pre><p name="ea11" id="ea11" class="graf graf--p graf-after--pre">Then run your application (<code class="markup--code markup--p-code">npm start</code>) to see &quot;Heading A&quot; and &quot;Heading B&quot; displayed respectively in green and red. If you use the browser&#39;s developer tools to inspect &quot;Heading A&quot;, you&#39;ll see that the <code class="markup--code markup--p-code">.heading</code> class name has been modified so that it&#39;s unique to the <code class="markup--code markup--p-code">HeadingA</code> component:</p><p name="d373" id="d373" class="graf graf--p graf-after--p">CSS Modules is an example of how a front-end build process can be used to modify code to enable a feature that’s not natively supported by browsers.</p><h3 name="1a96" id="1a96" class="graf graf--h3 graf-after--p">Phase 2: Using an image in a component</h3><p name="a8b6" id="a8b6" class="graf graf--p graf-after--h3">Create React App configures webpack with support for loading images (as well as CSS, fonts, and other file types). What this means, for you as the developer, is that you can add an image file to your project, import it directly into a module, and render it in a React component.</p><p name="7e62" id="7e62" class="graf graf--p graf-after--p">Download any image of off the Web or <a href="https://appacademy-open-assets.s3-us-west-1.amazonaws.com/Modular-Curriculum/content/react-redux/topics/react-builds/assets/react-builds-cat.png" data-href="https://appacademy-open-assets.s3-us-west-1.amazonaws.com/Modular-Curriculum/content/react-redux/topics/react-builds/assets/react-builds-cat.png" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">click here</a> to download the below image.</p><figure name="337a" id="337a" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="0*233dNJ6vfgAmEVCD" data-width="640" data-height="634" src="https://cdn-images-1.medium.com/max/800/0*233dNJ6vfgAmEVCD"></figure><p name="46d4" id="46d4" class="graf graf--p graf-after--figure">Then within the <code class="markup--code markup--p-code">src</code> folder add a new folder named <code class="markup--code markup--p-code">image</code>. Within that folder add a new component file named <code class="markup--code markup--p-code">Image.js</code>. Also add your downloaded image file to the <code class="markup--code markup--p-code">image</code> folder (so it&#39;s a sibling to the <code class="markup--code markup--p-code">Image.js</code> file).</p><p name="d726" id="d726" class="graf graf--p graf-after--p">Update the contents of the <code class="markup--code markup--p-code">Image.js</code> file to this:</p><pre name="6eed" id="6eed" class="graf graf--pre graf-after--p">// ./src/image/Image.js</pre><pre name="a91f" id="a91f" class="graf graf--pre graf-after--pre">import React from &#39;react&#39;;<br>import cat from &#39;./react-builds-cat.png&#39;;</pre><pre name="4dfb" id="4dfb" class="graf graf--pre graf-after--pre">console.log(cat); // /static/media/react-builds-cat.45f7f4d2.png</pre><pre name="00c7" id="00c7" class="graf graf--pre graf-after--pre">function Image() {<br>  // Import result is the URL of your image.<br>  return &lt;img src={cat} alt=&quot;images/images/Cat&quot; /&gt;;<br>}</pre><pre name="3199" id="3199" class="graf graf--pre graf-after--pre">export default Image;</pre><p name="aba9" id="aba9" class="graf graf--p graf-after--pre">You can import an image into a component using the <code class="markup--code markup--p-code">import</code> keyword. This tells webpack to include the image in the build. Notice that when you import an image into a module, you&#39;ll get a path to the image&#39;s location within the build. You can use this path to set the <code class="markup--code markup--p-code">src</code> attribute on an <code class="markup--code markup--p-code">&lt;img&gt;</code> element.</p><blockquote name="fd13" id="fd13" class="graf graf--blockquote graf-after--p"><em class="markup--em markup--blockquote-em">Be sure to update the image </em><code class="markup--code markup--blockquote-code"><em class="markup--em markup--blockquote-em">import</em></code><em class="markup--em markup--blockquote-em"> statement to the correct file name if you&#39;re using your own image!</em></blockquote><p name="a9b4" id="a9b4" class="graf graf--p graf-after--blockquote">Now update the <code class="markup--code markup--p-code">App</code> component to import and render the <code class="markup--code markup--p-code">Image</code> component:</p><pre name="03a7" id="03a7" class="graf graf--pre graf-after--p">// ./src/App.js</pre><pre name="6676" id="6676" class="graf graf--pre graf-after--pre">import React from &#39;react&#39;;<br>import HeadingA from &#39;./css-modules/HeadingA&#39;;<br>import HeadingB from &#39;./css-modules/HeadingB&#39;;<br>import Image from &#39;./image/Image&#39;;</pre><pre name="fbc2" id="fbc2" class="graf graf--pre graf-after--pre">function App() {<br>  return (<br>    &lt;div&gt;<br>      &lt;h1&gt;Exploring React Builds&lt;/h1&gt;<br>      &lt;HeadingA /&gt;<br>      &lt;HeadingB /&gt;<br>      &lt;Image /&gt;<br>    &lt;/div&gt;<br>  );<br>}</pre><pre name="dc2c" id="dc2c" class="graf graf--pre graf-after--pre">export default App;</pre><p name="2b09" id="2b09" class="graf graf--p graf-after--pre">If you run your application (<code class="markup--code markup--p-code">npm start</code>) you&#39;ll see your image displayed on the page! You can also open your browser&#39;s developer tools and view the &quot;Sources&quot; for the current page. If you can expand the <code class="markup--code markup--p-code">localhost:3000</code> &gt; <code class="markup--code markup--p-code">static</code> &gt; <code class="markup--code markup--p-code">media</code> node on the left, you can see the image file that webpack copied to your build.</p><h3 name="e44d" id="e44d" class="graf graf--h3 graf-after--p">Images in stylesheets</h3><p name="6a81" id="6a81" class="graf graf--p graf-after--h3">You can also reference images in your CSS files too. Add a CSS file named <code class="markup--code markup--p-code">Image.css</code> to the <code class="markup--code markup--p-code">./src/image</code> folder and update its contents to this:</p><pre name="c17f" id="c17f" class="graf graf--pre graf-after--p">/* ./src/image/Image.css */</pre><pre name="53d4" id="53d4" class="graf graf--pre graf-after--pre">.cat {<br>  background-image: url(./react-builds-cat.png);<br>  width: 400px;<br>  height: 400px;<br>}</pre><p name="bcb9" id="bcb9" class="graf graf--p graf-after--pre">Then update the <code class="markup--code markup--p-code">Image</code> component to this:</p><pre name="fc97" id="fc97" class="graf graf--pre graf-after--p">// ./src/image/Image.js</pre><pre name="97ff" id="97ff" class="graf graf--pre graf-after--pre">import React from &#39;react&#39;;<br>import &#39;./Image.css&#39;;<br>import cat from &#39;./react-builds-cat.png&#39;;</pre><pre name="7c58" id="7c58" class="graf graf--pre graf-after--pre">console.log(cat); // /static/media/react-builds-cat.45f7f4d2.png</pre><pre name="aff1" id="aff1" class="graf graf--pre graf-after--pre">function Image() {<br>  return (<br>    &lt;div&gt;<br>      {/* Import result is the URL of your image. */}<br>      &lt;img src={cat} alt=&quot;Cat&quot; /&gt;<br>      &lt;div className=&#39;cat&#39;&gt;&lt;/div&gt;<br>    &lt;/div&gt;<br>  );<br>}</pre><pre name="29b0" id="29b0" class="graf graf--pre graf-after--pre">export default Image;</pre><p name="408e" id="408e" class="graf graf--p graf-after--pre">Now you’ll see the image displayed twice on the page!</p><h3 name="571b" id="571b" class="graf graf--h3 graf-after--p">Phase 3: Updating the supported browsers (and its affect on code transpilation)</h3><p name="b817" id="b817" class="graf graf--p graf-after--h3">Earlier you learned about the <code class="markup--code markup--p-code">browerslist</code> setting in the <code class="markup--code markup--p-code">package.json</code> file and now adjusting these targets affect how your code will be transpiled:</p><pre name="20d4" id="20d4" class="graf graf--pre graf-after--p">{<br>  &quot;browserslist&quot;: {<br>    &quot;production&quot;: [<br>      &quot;&gt;0.2%&quot;,<br>      &quot;not dead&quot;,<br>      &quot;not op_mini all&quot;<br>    ],<br>    &quot;development&quot;: [<br>      &quot;last 1 chrome version&quot;,<br>      &quot;last 1 firefox version&quot;,<br>      &quot;last 1 safari version&quot;<br>    ]<br>  }<br>}</pre><p name="548f" id="548f" class="graf graf--p graf-after--pre">The <code class="markup--code markup--p-code">production</code> list specifies the browsers to target when creating a production build and the <code class="markup--code markup--p-code">development</code> list specifics the browsers to target when running the application using <code class="markup--code markup--p-code">npm start</code>. Currently, you&#39;re targeting relatively recent versions of the major browsers when creating a development build. Targeting older browser versions results in your code being transpiled to an older version of JavaScript.</p><p name="2801" id="2801" class="graf graf--p graf-after--p">To experiment with this configuration option, let’s add a class component to the project. Add a new folder named <code class="markup--code markup--p-code">class-component</code> to the <code class="markup--code markup--p-code">src</code> folder. Within that folder, add a file named <code class="markup--code markup--p-code">ClassComponent.js</code> containing the following code:</p><pre name="ac53" id="ac53" class="graf graf--pre graf-after--p">// ./src/class-component/ClassComponent.js</pre><pre name="d70c" id="d70c" class="graf graf--pre graf-after--pre">import React from &#39;react&#39;;</pre><pre name="e018" id="e018" class="graf graf--pre graf-after--pre">class ClassComponent extends React.Component {<br>  render() {<br>    return (<br>      &lt;h1&gt;Class Component&lt;/h1&gt;<br>    );<br>  }<br>}</pre><pre name="c324" id="c324" class="graf graf--pre graf-after--pre">export default ClassComponent;</pre><p name="c9f3" id="c9f3" class="graf graf--p graf-after--pre">Don’t forget to update your <code class="markup--code markup--p-code">App</code> component to render the new component:</p><pre name="f797" id="f797" class="graf graf--pre graf-after--p">// ./src/App.js</pre><pre name="0509" id="0509" class="graf graf--pre graf-after--pre">import React from &#39;react&#39;;<br>import HeadingA from &#39;./css-modules/HeadingA&#39;;<br>import HeadingB from &#39;./css-modules/HeadingB&#39;;<br>import Image from &#39;./image/Image&#39;;<br>import ClassComponent from &#39;./class-component/ClassComponent&#39;;</pre><pre name="d33e" id="d33e" class="graf graf--pre graf-after--pre">function App() {<br>  return (<br>    &lt;div&gt;<br>      &lt;h1&gt;Exploring React Builds&lt;/h1&gt;<br>      &lt;HeadingA /&gt;<br>      &lt;HeadingB /&gt;<br>      &lt;Image /&gt;<br>      &lt;ClassComponent /&gt;<br>    &lt;/div&gt;<br>  );<br>}</pre><pre name="a03c" id="a03c" class="graf graf--pre graf-after--pre">export default App;</pre><p name="f1bd" id="f1bd" class="graf graf--p graf-after--pre">Now run your application using <code class="markup--code markup--p-code">npm start</code>. Open your browser&#39;s developer tools and view the &quot;Sources&quot; for the current page. Expand the <code class="markup--code markup--p-code">localhost:3000</code> &gt; <code class="markup--code markup--p-code">static</code> &gt; <code class="markup--code markup--p-code">js</code> node on the left and select the <code class="markup--code markup--p-code">main.chunk.js</code> file. Press <code class="markup--code markup--p-code">CMD+F</code> on macOS or <code class="markup--code markup--p-code">CTRL+F</code> on Windows to search the file for &quot;Class Component&quot;. Here&#39;s what the transpiled code looks like for the <code class="markup--code markup--p-code">ClassComponent</code> class:</p><pre name="1986" id="1986" class="graf graf--pre graf-after--p">class ClassComponent extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component {<br>  render() {<br>    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(&quot;h1&quot;, {<br>      __self: this,<br>      __source: {<br>        fileName: _jsxFileName,<br>        lineNumber: 7,<br>        columnNumber: 7<br>      }<br>    }, &quot;Class Component&quot;);<br>  }<br>}</pre><blockquote name="2e17" id="2e17" class="graf graf--blockquote graf-after--pre"><em class="markup--em markup--blockquote-em">Have you wondered yet why you need to use the developer tools to view the bundles generated by Create React App? Remember that when you run </em><code class="markup--code markup--blockquote-code"><em class="markup--em markup--blockquote-em">npm start</em></code><em class="markup--em markup--blockquote-em">, Create React App builds your application using </em><code class="markup--code markup--blockquote-code"><a href="https://webpack.js.org/configuration/dev-server/" data-href="https://webpack.js.org/configuration/dev-server/" class="markup--anchor markup--blockquote-anchor" rel="nofollow noopener" target="_blank"><em class="markup--em markup--blockquote-em">webpack-dev-server</em></a></code><em class="markup--em markup--blockquote-em">. To keep things as performant as possible, the bundles generated by </em><code class="markup--code markup--blockquote-code"><a href="https://webpack.js.org/configuration/dev-server/" data-href="https://webpack.js.org/configuration/dev-server/" class="markup--anchor markup--blockquote-anchor" rel="nofollow noopener" target="_blank"><em class="markup--em markup--blockquote-em">webpack-dev-server</em></a></code><em class="markup--em markup--blockquote-em"> are stored in memory instead of writing them to the file system.</em></blockquote><p name="7db2" id="7db2" class="graf graf--p graf-after--blockquote">The JSX in the component’s <code class="markup--code markup--p-code">render</code> method has been converted to JavaScript but the <code class="markup--code markup--p-code">ClassComponent</code> ES2015 class is left alone. This makes sense though as JSX isn&#39;t natively supported by any browser while ES2015 classes have been natively supported by browsers for awhile now.</p><p name="33c8" id="33c8" class="graf graf--p graf-after--p">But what if you need to target a version of a browser that doesn’t support ES2015 classes? You can use the <a href="https://caniuse.com/#feat=es6-class" data-href="https://caniuse.com/#feat=es6-class" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">“Can I use…”</a> website to see when browsers started supporting ES2105 (or ES6) classes. Starting with version 49, Chrome natively supported classes. But imagine that you need to support Chrome going back to version 30, a version of Chrome that doesn’t support classes.</p><p name="705b" id="705b" class="graf graf--p graf-after--p">Change the <code class="markup--code markup--p-code">browserslist.development</code> property in the <code class="markup--code markup--p-code">package.json</code> file to this:</p><pre name="c1ad" id="c1ad" class="graf graf--pre graf-after--p">{<br>  &quot;browserslist&quot;: {<br>    &quot;production&quot;: [<br>      &quot;&gt;0.2%&quot;,<br>      &quot;not dead&quot;,<br>      &quot;not op_mini all&quot;<br>    ],<br>    &quot;development&quot;: [<br>      &quot;chrome &gt;= 30&quot;,<br>      &quot;last 1 firefox version&quot;,<br>      &quot;last 1 safari version&quot;<br>    ]<br>  }<br>}</pre><p name="174c" id="174c" class="graf graf--p graf-after--pre">The query <code class="markup--code markup--p-code">chrome &gt;= 30</code> specifies that you want to target Chrome version 30 or newer.</p><blockquote name="177e" id="177e" class="graf graf--blockquote graf-after--p"><em class="markup--em markup--blockquote-em">The </em><a href="https://browserl.ist/" data-href="https://browserl.ist/" class="markup--anchor markup--blockquote-anchor" rel="nofollow noopener" target="_blank"><em class="markup--em markup--blockquote-em">browserl.ist</em></a><em class="markup--em markup--blockquote-em"> website can be used to see the browsers supported by your configured </em><code class="markup--code markup--blockquote-code"><em class="markup--em markup--blockquote-em">browserslist</em></code><em class="markup--em markup--blockquote-em">.</em></blockquote><p name="d70b" id="d70b" class="graf graf--p graf-after--blockquote">Stop your application if it’s currently running. Delete the <code class="markup--code markup--p-code">./node_modules/.cache</code> folder and run <code class="markup--code markup--p-code">npm start</code> again. Then view the <code class="markup--code markup--p-code">main.chunk.js</code> bundle again in the developer tools:</p><figure name="86d7" id="86d7" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="0*TKBUkpbL5aSm5PTQ" data-width="1944" data-height="1238" src="https://cdn-images-1.medium.com/max/800/0*TKBUkpbL5aSm5PTQ"></figure><p name="0060" id="0060" class="graf graf--p graf-after--figure">Now your ES2015 class component is being converted to a constructor function! Here’s the transpiled code for reference:</p><pre name="9277" id="9277" class="graf graf--pre graf-after--p">var ClassComponent = /*#__PURE__*/function (_React$Component) {<br>  Object(_Users_jameschurchill_Documents_GitHub_Modular_Curriculum_content_react_redux_topics_react_builds_projects_exploring_react_builds_solution_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__[&quot;default&quot;])(ClassComponent, _React$Component);</pre><pre name="2926" id="2926" class="graf graf--pre graf-after--pre">  var _super = Object(_Users_jameschurchill_Documents_GitHub_Modular_Curriculum_content_react_redux_topics_react_builds_projects_exploring_react_builds_solution_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_3__[&quot;default&quot;])(ClassComponent);</pre><pre name="7630" id="7630" class="graf graf--pre graf-after--pre">  function ClassComponent() {<br>    Object(_Users_jameschurchill_Documents_GitHub_Modular_Curriculum_content_react_redux_topics_react_builds_projects_exploring_react_builds_solution_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__[&quot;default&quot;])(this, ClassComponent);</pre><pre name="b0e3" id="b0e3" class="graf graf--pre graf-after--pre">    return _super.apply(this, arguments);<br>  }</pre><pre name="888c" id="888c" class="graf graf--pre graf-after--pre">  Object(_Users_jameschurchill_Documents_GitHub_Modular_Curriculum_content_react_redux_topics_react_builds_projects_exploring_react_builds_solution_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__[&quot;default&quot;])(ClassComponent, [{<br>    key: &quot;render&quot;,<br>    value: function render() {<br>      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(&quot;h1&quot;, {<br>        __self: this,<br>        __source: {<br>          fileName: _jsxFileName,<br>          lineNumber: 7,<br>          columnNumber: 7<br>        }<br>      }, &quot;Class Component&quot;);<br>    }<br>  }]);</pre><pre name="449c" id="449c" class="graf graf--pre graf-after--pre">  return ClassComponent;<br>}(react__WEBPACK_IMPORTED_MODULE_4___default.a.Component);</pre><p name="17ec" id="17ec" class="graf graf--p graf-after--pre">Luckily it’s very rare that you’ll need to read the code in your generated bundles. webpack, by default, is configured to generate sourcemaps. Sourcemaps are a mapping of the code in a generated file, like a bundle file, to the original source code. This gives you access to your original source code in the browser’s developer tools:</p><p name="f1d6" id="f1d6" class="graf graf--p graf-after--p">You can even set a breakpoint in your source within the developer tools to stop execution on a specific line of code!</p><h3 name="87f8" id="87f8" class="graf graf--h3 graf-after--p">Phase 4: Adding environment variables</h3><p name="b1fb" id="b1fb" class="graf graf--p graf-after--h3">Earlier you learned that Create React App supports defining environment variables in an <code class="markup--code markup--p-code">.env</code> file. This gives you a convenient way to avoid hard coding values that vary across environments.</p><p name="4fa7" id="4fa7" class="graf graf--p graf-after--p">Let’s experiment with this feature so that you can see how the Create React App build process embeds environment variables into your HTML, CSS, and JavaScript bundles.</p><p name="e523" id="e523" class="graf graf--p graf-after--p">Add an <code class="markup--code markup--p-code">.env</code> file to the root of your Create React App project. Define an environment variable named <code class="markup--code markup--p-code">REACT_APP_TITLE</code>:</p><pre name="f462" id="f462" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">REACT_APP_TITLE=Exploring React Builds</code></pre><p name="1895" id="1895" class="graf graf--p graf-after--pre">Remember that environment variables need to be prefixed with <code class="markup--code markup--p-code">REACT_APP_</code> for Create React App to process them. After defining your environment variable, you can refer to it within JSX using an expression and <code class="markup--code markup--p-code">process.env</code>:</p><pre name="0b8c" id="0b8c" class="graf graf--pre graf-after--p">// ./src/App.js</pre><pre name="0c72" id="0c72" class="graf graf--pre graf-after--pre">import React from &#39;react&#39;;<br>import HeadingA from &#39;./css-modules/HeadingA&#39;;<br>import HeadingB from &#39;./css-modules/HeadingB&#39;;<br>import Image from &#39;./image/Image&#39;;<br>import ClassComponent from &#39;./class-component/ClassComponent&#39;;</pre><pre name="c768" id="c768" class="graf graf--pre graf-after--pre">function App() {<br>  return (<br>    &lt;div&gt;<br>      &lt;h1&gt;{process.env.REACT_APP_TITLE}&lt;/h1&gt;<br>      &lt;HeadingA /&gt;<br>      &lt;HeadingB /&gt;<br>      &lt;Image /&gt;<br>      &lt;ClassComponent /&gt;<br>    &lt;/div&gt;<br>  );<br>}</pre><pre name="65b8" id="65b8" class="graf graf--pre graf-after--pre">export default App;</pre><p name="2cd1" id="2cd1" class="graf graf--p graf-after--pre">Environment variables can also be referred to in regular JavaScript code:</p><pre name="eec7" id="eec7" class="graf graf--pre graf-after--p">console.log(process.env.REACT_APP_TITLE);</pre><p name="b546" id="b546" class="graf graf--p graf-after--pre">You can also reference environment variables in your <code class="markup--code markup--p-code">./public/index.html</code> file like this:</p><pre name="3b30" id="3b30" class="graf graf--pre graf-after--p">&lt;!DOCTYPE html&gt;<br>&lt;html lang=&quot;en&quot;&gt;<br>  &lt;head&gt;<br>    &lt;meta charset=&quot;utf-8&quot; /&gt;<br>    &lt;title&gt;%REACT_APP_TITLE%&lt;/title&gt;<br>  &lt;/head&gt;<br>  &lt;body&gt;<br>    &lt;div id=&quot;root&quot;&gt;&lt;/div&gt;<br>  &lt;/body&gt;<br>&lt;/html&gt;</pre><p name="3d9c" id="3d9c" class="graf graf--p graf-after--pre">Run your application again using <code class="markup--code markup--p-code">npm start</code>. Open your browser&#39;s developer tools and view the &quot;Sources&quot; for the current page. Expand the <code class="markup--code markup--p-code">localhost:3000</code> node on the left and select <code class="markup--code markup--p-code">(index)</code>. Notice that the text <code class="markup--code markup--p-code">%REACT_APP_TITLE%</code> within the <code class="markup--code markup--p-code">&lt;title&gt;</code> element has been converted to the text literal <code class="markup--code markup--p-code">Exploring React Builds</code>:</p><p name="3960" id="3960" class="graf graf--p graf-after--p">If you expand the <code class="markup--code markup--p-code">localhost:3000</code> &gt; <code class="markup--code markup--p-code">static</code> &gt; <code class="markup--code markup--p-code">js</code> node on the left and select the <code class="markup--code markup--p-code">main.chunk.js</code> file, you can see how the <code class="markup--code markup--p-code">App</code> component&#39;s JSX has been converted to JavaScript:</p><p name="c231" id="c231" class="graf graf--p graf-after--p">Here’s a closer look at the relevant <code class="markup--code markup--p-code">React.createElement</code> method call:</p><pre name="8d8f" id="8d8f" class="graf graf--pre graf-after--p">/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(&quot;h1&quot;, {<br>    __self: this,<br>    __source: {<br>      fileName: _jsxFileName,<br>      lineNumber: 10,<br>      columnNumber: 7<br>    }<br>  }, &quot;Exploring React Builds&quot;)</pre><p name="1783" id="1783" class="graf graf--p graf-after--pre">Again, notice how the environment variable has been replaced with a text literal. This has important security implications for you to consider. Because environment variables are embedded into your HTML, CSS, and JavaScript bundles during the build process, it’s <em class="markup--em markup--p-em">very important</em> to not store any secrets, like API keys, in your environment variables. Remember, anyone can view your bundled code in the browser by inspecting your files!</p><h3 name="9ad2" id="9ad2" class="graf graf--h3 graf-after--p">Phase 5: Deploying a production build</h3><p name="70de" id="70de" class="graf graf--p graf-after--h3">In the last phase of this project, let’s add routing to the React application, create a production build, and deploy the build to an Express application!</p><h3 name="f0df" id="f0df" class="graf graf--h3 graf-after--p">Adding routing</h3><p name="3349" id="3349" class="graf graf--p graf-after--h3">To add React Router to the application, start by installing the <code class="markup--code markup--p-code">react-router-dom</code> npm package:</p><pre name="9711" id="9711" class="graf graf--pre graf-after--p">npm install react-router-dom@^5.0.0</pre><p name="6b5e" id="6b5e" class="graf graf--p graf-after--pre">Then update the <code class="markup--code markup--p-code">App</code> component to this code:</p><pre name="7374" id="7374" class="graf graf--pre graf-after--p">// ./src/App.js</pre><pre name="937e" id="937e" class="graf graf--pre graf-after--pre">import React from &#39;react&#39;;<br>import {<br>  BrowserRouter,<br>  Switch,<br>  Route,<br>  Link<br>} from &#39;react-router-dom&#39;;<br>import HeadingA from &#39;./css-modules/HeadingA&#39;;<br>import HeadingB from &#39;./css-modules/HeadingB&#39;;<br>import Image from &#39;./image/Image&#39;;<br>import ClassComponent from &#39;./class-component/ClassComponent&#39;;</pre><pre name="b582" id="b582" class="graf graf--pre graf-after--pre">function App() {<br>  return (<br>    &lt;BrowserRouter&gt;<br>      &lt;div&gt;<br>        &lt;h1&gt;{process.env.REACT_APP_TITLE}&lt;/h1&gt;<br>        &lt;nav&gt;<br>          &lt;ul&gt;<br>            &lt;li&gt;<br>              &lt;Link to=&quot;/&quot;&gt;Home&lt;/Link&gt;<br>            &lt;/li&gt;<br>            &lt;li&gt;<br>              &lt;Link to=&quot;/image&quot;&gt;Image&lt;/Link&gt;<br>            &lt;/li&gt;<br>            &lt;li&gt;<br>              &lt;Link to=&quot;/class-component&quot;&gt;Class Component&lt;/Link&gt;<br>            &lt;/li&gt;<br>          &lt;/ul&gt;<br>        &lt;/nav&gt;<br>        &lt;Switch&gt;<br>          &lt;Route path=&quot;/image&quot;&gt;<br>            &lt;Image /&gt;<br>          &lt;/Route&gt;<br>          &lt;Route path=&quot;/class-component&quot;&gt;<br>            &lt;ClassComponent /&gt;<br>          &lt;/Route&gt;<br>          &lt;Route path=&quot;/&quot;&gt;<br>            &lt;HeadingA /&gt;<br>            &lt;HeadingB /&gt;<br>          &lt;/Route&gt;<br>        &lt;/Switch&gt;<br>      &lt;/div&gt;<br>    &lt;/BrowserRouter&gt;<br>  );<br>}</pre><pre name="e702" id="e702" class="graf graf--pre graf-after--pre">export default App;</pre><p name="8dee" id="8dee" class="graf graf--p graf-after--pre">Be sure to run and test your application to ensure that the defined routes work as expected:</p><ul class="postList"><li name="151a" id="151a" class="graf graf--li graf-after--p"><code class="markup--code markup--li-code">/</code> - Should display the <code class="markup--code markup--li-code">HeadingA</code> and <code class="markup--code markup--li-code">HeadingB</code> components;</li><li name="1e2b" id="1e2b" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">/image</code> - Should display the <code class="markup--code markup--li-code">Image</code> component; and</li><li name="7f3a" id="7f3a" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">/class-component</code> - Should display the <code class="markup--code markup--li-code">ClassComponent</code> component.</li></ul><h3 name="0751" id="0751" class="graf graf--h3 graf-after--li">Creating a production build</h3><p name="a385" id="a385" class="graf graf--p graf-after--h3">To create a production build, run the command <code class="markup--code markup--p-code">npm run build</code> from the root of your project. The output in the terminal should look something like this:</p><pre name="4385" id="4385" class="graf graf--pre graf-after--p">&gt; solution@0.1.0 build [absolute path to your project]<br>&gt; react-scripts build</pre><pre name="e838" id="e838" class="graf graf--pre graf-after--pre">Creating an optimized production build...<br>Compiled successfully.</pre><pre name="5a15" id="5a15" class="graf graf--pre graf-after--pre">File sizes after gzip:</pre><pre name="02d1" id="02d1" class="graf graf--pre graf-after--pre">  47.83 KB  build/static/js/2.722c16c4.chunk.js<br>  773 B     build/static/js/runtime-main.b7d1e5ee.js<br>  745 B     build/static/js/main.12299197.chunk.js<br>  197 B     build/static/css/main.e9a0d1f8.chunk.css</pre><pre name="9c0c" id="9c0c" class="graf graf--pre graf-after--pre">The project was built assuming it is hosted at /.<br>You can control this with the homepage field in your package.json.</pre><pre name="8795" id="8795" class="graf graf--pre graf-after--pre">The build folder is ready to be deployed.<br>You may serve it with a static server:</pre><pre name="637e" id="637e" class="graf graf--pre graf-after--pre">  npm install -g serve<br>  serve -s build</pre><pre name="1caf" id="1caf" class="graf graf--pre graf-after--pre">Find out more about deployment here:</pre><pre name="5d90" id="5d90" class="graf graf--pre graf-after--pre">  bit.ly/CRA-deploy</pre><p name="0efa" id="0efa" class="graf graf--p graf-after--pre">Ignore the comments about using <code class="markup--code markup--p-code">serve</code> to deploy your application (i.e. <code class="markup--code markup--p-code">npm install -g serve</code> and <code class="markup--code markup--p-code">serve -s build</code>). In the next step, you&#39;ll create a simple Express application to server your React application.</p><h3 name="51a9" id="51a9" class="graf graf--h3 graf-after--p">Serving a React application using Express</h3><p name="1ec5" id="1ec5" class="graf graf--p graf-after--h3">Create a new folder for your Express application outside of the Create React App project folder.</p><blockquote name="fdf5" id="fdf5" class="graf graf--blockquote graf-after--p"><em class="markup--em markup--blockquote-em">For example, from the root of your project, use </em><code class="markup--code markup--blockquote-code"><em class="markup--em markup--blockquote-em">cd ..</em></code><em class="markup--em markup--blockquote-em"> to go up a level and then create a new folder named </em><code class="markup--code markup--blockquote-code"><em class="markup--em markup--blockquote-em">express-server</em></code><em class="markup--em markup--blockquote-em"> by running the command </em><code class="markup--code markup--blockquote-code"><em class="markup--em markup--blockquote-em">mkdir express-server</em></code><em class="markup--em markup--blockquote-em">. This makes the </em><code class="markup--code markup--blockquote-code"><em class="markup--em markup--blockquote-em">express-server</em></code><em class="markup--em markup--blockquote-em"> folder a sibling to your Create React App project folder.</em></blockquote><p name="0a4e" id="0a4e" class="graf graf--p graf-after--blockquote">Browse into the <code class="markup--code markup--p-code">express-server</code> folder and initialize it to use npm (i.e. <code class="markup--code markup--p-code">npm init -y</code>). Then install Express by running the command <code class="markup--code markup--p-code">npm install express@^4.0.0</code>.</p><p name="d897" id="d897" class="graf graf--p graf-after--p">App a file named <code class="markup--code markup--p-code">app.js</code> with the following contents:</p><pre name="7fbb" id="7fbb" class="graf graf--pre graf-after--p">// ./app.js</pre><pre name="77fa" id="77fa" class="graf graf--pre graf-after--pre">const express = require(&#39;express&#39;);<br>const path = require(&#39;path&#39;);</pre><pre name="4dac" id="4dac" class="graf graf--pre graf-after--pre">const app = express();</pre><pre name="ddb9" id="ddb9" class="graf graf--pre graf-after--pre">app.use(express.static(path.join(__dirname, &#39;public&#39;)));</pre><pre name="2e4f" id="2e4f" class="graf graf--pre graf-after--pre">app.get(&#39;*&#39;, function(req, res) {<br>  res.sendFile(path.join(__dirname, &#39;public&#39;, &#39;index.html&#39;));<br>});</pre><pre name="a3ad" id="a3ad" class="graf graf--pre graf-after--pre">const port = 9000;</pre><pre name="080e" id="080e" class="graf graf--pre graf-after--pre">app.listen(port, () =&gt; console.log(`Listening on port ${port}...`));</pre><p name="b579" id="b579" class="graf graf--p graf-after--pre">This simple Express application will:</p><ul class="postList"><li name="31ba" id="31ba" class="graf graf--li graf-after--p">Attempt to match incoming requests to static files located in the <code class="markup--code markup--li-code">public</code> folder; and</li><li name="16e6" id="16e6" class="graf graf--li graf-after--li">If a matching static file isn’t found, then the <code class="markup--code markup--li-code">./public/index.html</code> file will be served for all other requests.</li></ul><p name="889c" id="889c" class="graf graf--p graf-after--li">Now add a folder named <code class="markup--code markup--p-code">public</code> to the root of your Express project. Copy the files from the <code class="markup--code markup--p-code">build</code> folder in your Create React App project to the <code class="markup--code markup--p-code">public</code> folder in the Express application project. Then run your application using the command <code class="markup--code markup--p-code">node app.js</code>.</p><p name="e6be" id="e6be" class="graf graf--p graf-after--p">Open a browser and browse to the URL <code class="markup--code markup--p-code">http://localhost:9000/</code>. You should see your React application served from your Express application! Be sure to click the navigation links to verify that all of your configured routes work as expected.</p><p name="fb25" id="fb25" class="graf graf--p graf-after--p">Also, because you configured Express to serve the <code class="markup--code markup--p-code">./public/index.html</code> file for any request that doesn&#39;t match a static file, you can &quot;deep link&quot; to any of your React application&#39;s routes:</p><ul class="postList"><li name="58e7" id="58e7" class="graf graf--li graf-after--p"><a href="http://localhost:9000/image" data-href="http://localhost:9000/image" class="markup--anchor markup--li-anchor" rel="nofollow" target="_blank">http://localhost:9000/image</a></li><li name="3fa9" id="3fa9" class="graf graf--li graf-after--li"><a href="http://localhost:9000/class-component" data-href="http://localhost:9000/class-component" class="markup--anchor markup--li-anchor" rel="nofollow" target="_blank">http://localhost:9000/class-component</a></li></ul><p name="94a9" id="94a9" class="graf graf--p graf-after--li graf--trailing"><em class="markup--em markup--p-em">More content at </em><a href="http://plainenglish.io/" data-href="http://plainenglish.io/" class="markup--anchor markup--p-anchor" rel="noopener noreferrer noopener" target="_blank"><strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">plainenglish.io</em></strong></a></p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@bryanguner" class="p-author h-card">Bryan Guner</a> on <a href="https://medium.com/p/1965dcde8d4f"><time class="dt-published" datetime="2021-07-15T11:21:54.076Z">July 15, 2021</time></a>.</p><p><a href="https://medium.com/@bryanguner/react-in-depth-1965dcde8d4f" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on August 10, 2021.</p></footer></article></body></html>